<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - 2 Pack PHOERA Foundation | 67 Beauty Hub</title>
    <link rel="stylesheet" href="../../styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- PayPal SDK -->
    <script src="https://www.paypal.com/sdk/js?client-id=Ab2ftZVJCplquKwOY1cWgvWMivADwMhbUs-OhehwO4hVh_VW9lS87qLkRUVD39yEeoh7YGXzBeuq1Dlh&currency=USD&intent=capture"></script>
    <!-- AliExpress Integration -->
    <script src="../../js/aliexpress-integration.js"></script>
    <!-- Review System -->
    <script src="../../js/review-system.js"></script>
    <style>
        body {
            background: #f0e6d2;
        }
        
        .checkout-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
            margin-top: 50px;
        }
        
        .checkout-layout {
            display: flex;
            flex-direction: column;
            gap: 40px;
        }
        
        .unified-section {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            padding: 30px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            align-items: start;
        }
        
        .checkout-bottom {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 40px;
            align-items: start;
        }
        
        .form-section {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            padding: 30px;
        }
        
        
        .checkout-header {
            text-align: center;
            margin-bottom: 40px;
            grid-column: 1 / -1;
        }
        
        .checkout-header h1 {
            color: #d4af37;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        /* Flag Dropdown Styles */
        .flag-dropdown-container {
            position: relative;
            display: inline-block;
            margin-left: 20px;
        }
        
        .flag-dropdown {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 20px;
            background: white;
            border: 2px solid #d4af37;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.1);
        }
        
        .flag-dropdown:hover {
            border-color: #b8941f;
            box-shadow: 0 6px 20px rgba(212, 175, 55, 0.2);
        }
        
        .selected-flag {
            font-size: 1.5rem;
            user-select: none;
        }
        
        .dropdown-arrow {
            color: #d4af37;
            font-size: 0.9rem;
            transition: transform 0.3s ease;
        }
        
        .flag-dropdown.open .dropdown-arrow {
            transform: rotate(180deg);
        }
        
        .flag-dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 2px solid #d4af37;
            border-top: none;
            border-radius: 0 0 8px 8px;
            box-shadow: 0 6px 20px rgba(212, 175, 55, 0.2);
            z-index: 1000;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        
        .flag-dropdown-menu.open {
            max-height: 400px;
            overflow-y: auto;
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* Internet Explorer 10+ */
        }
        
        .flag-dropdown-menu.open::-webkit-scrollbar {
            display: none; /* WebKit browsers (Chrome, Safari, Edge) */
        }
        
        .flag-option {
            padding: 12px 20px;
            cursor: pointer;
            transition: background-color 0.2s ease;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .flag-option:hover {
            background-color: #fff9e6;
        }
        
        .flag-option:last-child {
            border-radius: 0 0 6px 6px;
        }
        
        @media (max-width: 768px) {
            .flag-dropdown-container {
                margin-top: 20px;
            }
            
            .flag-dropdown {
                padding: 10px 15px;
            }
            
            .selected-flag {
                font-size: 1.3rem;
            }
        }
        
        .offer-section {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            padding: 40px;
        }
        
        .product-summary {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .product-image {
            max-width: 100%;
            height: auto;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            margin: 0 auto 20px;
            display: block;
        }
        
        .product-details h3 {
            color: #333;
            font-size: 1.8rem;
            margin-bottom: 15px;
        }
        
        .product-details p {
            color: #666;
            margin-bottom: 20px;
            font-size: 1.1rem;
            line-height: 1.6;
        }
        
        .offer-options {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .offer-option {
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            background: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .offer-option:hover {
            border-color: #d4af37;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(212, 175, 55, 0.15);
        }
        
        .offer-option.selected {
            border-color: #d4af37;
            background: linear-gradient(135deg, #fff9e6, #fff);
            box-shadow: 0 8px 25px rgba(212, 175, 55, 0.2);
            transform: translateY(-2px);
        }
        
        .offer-checkbox {
            position: absolute;
            top: 15px;
            left: 15px;
            width: 20px;
            height: 20px;
            accent-color: #d4af37;
            cursor: pointer;
        }
        
        .offer-option.has-checkbox {
            padding-left: 50px;
        }
        
        .offer-option.has-checkbox .option-header {
            margin-left: 10px;
        }
        
        /* Estilo especÃ­fico para oferta bÃ¡sica sem checkbox */
        .offer-option[data-option="basic"] {
            padding-left: 20px;
        }
        
        .offer-option[data-option="basic"] .option-header {
            margin-left: 0;
        }
        
        .offer-image-container {
            text-align: left;
            margin: 15px 0;
            display: flex;
            align-items: flex-start;
            gap: 15px;
        }
        
        .offer-image {
            max-width: 120px;
            max-height: 120px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            object-fit: contain;
            flex-shrink: 0;
        }
        
        .offer-description-container {
            flex: 1;
        }
        
        
        /* Estilos para as pequenas checkboxes */
        .small-checkboxes-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
            margin-top: 15px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }
        
        .small-checkbox-item {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 4px;
            border-radius: 4px;
            transition: background-color 0.2s ease;
        }
        
        .small-checkbox-item:hover {
            background-color: #e9ecef;
        }
        
        .small-checkbox-label {
            font-size: 11px;
            color: #495057;
            margin: 0;
            line-height: 1.2;
            flex: 1;
            min-width: 0;
            word-break: break-word;
        }
        
        /* Estilos para as imagens das mini checkboxes */
        .small-checkbox-image {
            width: 40px;
            height: 40px;
            border-radius: 6px;
            overflow: hidden;
            margin-right: 8px;
            flex-shrink: 0;
            border: 2px solid #e9ecef;
            transition: border-color 0.2s ease;
        }
        
        .small-checkbox-item:hover .small-checkbox-image {
            border-color: #d4af37;
        }
        
        .small-checkbox:checked ~ .small-checkbox-image {
            border-color: #d4af37;
            box-shadow: 0 0 0 2px rgba(212, 175, 55, 0.2);
        }
        
        .small-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
        
        .small-checkbox-item {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 6px;
            border-radius: 6px;
            transition: all 0.2s ease;
            flex-direction: row;
            cursor: pointer;
            border: 2px solid transparent;
        }
        
        .small-checkbox-item:hover {
            background-color: #e9ecef;
            border-color: #d4af37;
        }
        
        .small-checkbox-item.selected {
            background-color: #fff9e6;
            border-color: #d4af37;
            box-shadow: 0 0 0 2px rgba(212, 175, 55, 0.2);
        }
        
        .small-checkbox-item.selected .small-checkbox-label {
            color: #d4af37;
            font-weight: 500;
        }
        
        /* Estilos para a galeria de produtos */
        .product-gallery-section {
            margin: 40px 0;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .simple-gallery {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }
        
        .gallery-main {
            position: relative;
            width: 100%;
            max-width: 1200px;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .gallery-nav-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(212, 175, 55, 0.9);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 18px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .gallery-nav-btn.prev-btn {
            left: 15px;
        }
        
        .gallery-nav-btn.next-btn {
            right: 15px;
        }
        
        .gallery-nav-btn:hover {
            background: rgba(184, 148, 31, 0.95);
            transform: translateY(-50%) scale(1.1);
            box-shadow: 0 6px 20px rgba(0,0,0,0.4);
        }
        
        .gallery-nav-btn:disabled {
            background: rgba(204, 204, 204, 0.7);
            cursor: not-allowed;
            transform: translateY(-50%);
            box-shadow: none;
        }
        
        .gallery-main-image {
            width: 100%;
            height: 500px;
            object-fit: cover;
            display: block;
            transition: transform 0.5s ease-in-out, opacity 0.3s ease;
        }
        
        .gallery-main-image.slide-left {
            transform: translateX(-100%);
            opacity: 0;
        }
        
        .gallery-main-image.slide-right {
            transform: translateX(100%);
            opacity: 0;
        }
        
        .gallery-main-image.slide-in-left {
            transform: translateX(100%);
            opacity: 0;
            animation: slideInFromRight 0.5s ease-in-out forwards;
        }
        
        .gallery-main-image.slide-in-right {
            transform: translateX(-100%);
            opacity: 0;
            animation: slideInFromLeft 0.5s ease-in-out forwards;
        }
        
        @keyframes slideInFromRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        @keyframes slideInFromLeft {
            from {
                transform: translateX(-100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        .gallery-caption {
            padding: 20px;
            text-align: center;
            font-weight: 600;
            color: #333;
            background: white;
            border-top: 1px solid #e9ecef;
            font-size: 16px;
        }
        
        .gallery-indicators {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }
        
        .gallery-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ddd;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .gallery-indicator.active {
            background: #d4af37;
            transform: scale(1.2);
        }
        
        .gallery-indicator:hover {
            background: #b8941f;
        }
        
        /* Responsivo para galeria */
        @media (max-width: 768px) {
            .gallery-nav-btn {
                width: 40px;
                height: 40px;
                font-size: 16px;
            }
            
            .gallery-nav-btn.prev-btn {
                left: 10px;
            }
            
            .gallery-nav-btn.next-btn {
                right: 10px;
            }
            
            .gallery-main {
                max-width: 100%;
            }
            
            .gallery-main-image {
                height: 350px;
            }
        }
        
        .offer-option .option-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .offer-option h4 {
            color: #333;
            font-size: 1.3rem;
            margin: 0;
        }
        
        .offer-option .price {
            font-size: 1.5rem;
            font-weight: 700;
            color: #d4af37;
        }
        
        .offer-option .description {
            color: #666;
            font-size: 0.95rem;
            margin-bottom: 10px;
        }
        
        .offer-option .discount {
            background: #d4af37;
            color: white;
            padding: 4px 8px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            position: absolute;
            top: -8px;
            right: -8px;
        }

        
        .summary-section {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            padding: 30px;
            position: sticky;
            top: 20px;
        }
        
        .summary-section h3 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.4rem;
            text-align: center;
            border-bottom: 2px solid #d4af37;
            padding-bottom: 10px;
        }
        
        .form-section .form-section {
            margin-bottom: 30px;
        }
        
        .form-section h3 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.3rem;
            border-bottom: 2px solid #d4af37;
            padding-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .form-section h3 i {
            color: #d4af37;
            font-size: 1.2rem;
        }
        
        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .form-group {
            flex: 1;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #333;
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: white;
            color: #333;
        }
        
        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #d4af37;
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1);
            transform: translateY(-1px);
        }
        
        .form-group input:hover,
        .form-group select:hover,
        .form-group textarea:hover {
            border-color: #d4af37;
        }
        
        .checkout-summary {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        
        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .summary-row.total {
            border-top: 2px solid #d4af37;
            padding-top: 15px;
            margin-top: 15px;
            font-size: 1.2rem;
            font-weight: 700;
            color: #d4af37;
        }
        
        
        .checkout-btn {
            width: 100%;
            background: linear-gradient(135deg, #d4af37, #b8941f);
            color: white;
            border: none;
            padding: 15px;
            font-size: 1.2rem;
            font-weight: 600;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .checkout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(212, 175, 55, 0.4);
        }
        
        .checkout-btn:active {
            transform: translateY(0);
        }
        
        .back-link {
            text-align: center;
            margin-top: 20px;
        }
        
        .back-link a {
            color: #d4af37;
            text-decoration: none;
            font-weight: 500;
        }
        
        .back-link a:hover {
            text-decoration: underline;
        }
        
        @media (max-width: 768px) {
            .checkout-layout {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .form-row {
                flex-direction: column;
            }
            
            .product-summary {
                flex-direction: column;
                text-align: center;
            }
            
            .offer-options {
                gap: 15px;
            }
            
            .offer-option {
                padding: 15px;
            }
            
            .summary-section {
                position: static;
                order: -1;
            }
            
            .checkout-container {
                padding: 20px 10px;
            }
            
            .offer-section, .summary-section {
                padding: 20px;
            }
            
            .offer-image-container {
                flex-direction: column;
                text-align: center;
            }
            
            .offer-image {
                max-width: 150px;
                max-height: 150px;
                margin: 0 auto 10px;
            }
            
            
            .unified-section {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .checkout-bottom {
                grid-template-columns: 1fr;
                gap: 20px;
            }
        }

        /* Reviews Section Styles */
        .reviews-section {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            padding: 40px;
            margin-bottom: 40px;
        }

        .reviews-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .reviews-header h3 {
            color: #d4af37;
            font-size: 2rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .reviews-header h3 i {
            color: #d4af37;
            font-size: 1.8rem;
        }

        .reviews-header p {
            color: #666;
            font-size: 1.1rem;
        }

        .reviews-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .review-item {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .review-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(212, 175, 55, 0.15);
            border-color: #d4af37;
        }

        .clickable-review {
            cursor: pointer;
        }

        .clickable-review:hover {
            background: #f0f0f0;
        }

        .review-image {
            text-align: center;
            margin-bottom: 20px;
        }

        .review-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, #d4af37, #b8941f);
            display: flex;
            align-items: center;
            justify-content: center;
            border: 3px solid #fff;
            box-shadow: 0 4px 12px rgba(212, 175, 55, 0.3);
            margin: 0 auto;
        }

        .review-avatar i {
            font-size: 2.2rem;
            color: white;
        }

        .review-stars {
            display: flex;
            justify-content: center;
            gap: 3px;
            margin-bottom: 15px;
        }

        .review-stars i {
            color: #ffd700;
            font-size: 1.1rem;
        }

        .review-stars i.far {
            color: #ddd;
        }

        .review-text-container {
            margin-bottom: 20px;
        }

        .review-text {
            color: #333;
            font-size: 1rem;
            line-height: 1.6;
            margin-bottom: 10px;
            font-style: italic;
            text-align: center;
        }

        .review-text::before {
            content: '"';
            font-size: 2rem;
            color: #d4af37;
            opacity: 0.5;
        }

        .review-text::after {
            content: '"';
            font-size: 2rem;
            color: #d4af37;
            opacity: 0.5;
        }

        .read-more-btn {
            background: none;
            border: none;
            color: #d4af37;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            text-decoration: underline;
            padding: 0;
            margin: 0;
            display: block;
            margin: 0 auto;
            transition: all 0.3s ease;
        }

        .read-more-btn:hover {
            color: #b8941f;
            transform: scale(1.05);
        }

        /* Review Modal Styles */
        .review-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            position: relative;
            background: white;
            border-radius: 20px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .modal-header {
            display: flex;
            align-items: center;
            padding: 30px;
            border-bottom: 1px solid #e0e0e0;
            gap: 20px;
        }

        .modal-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #d4af37, #b8941f);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .modal-avatar i {
            font-size: 1.8rem;
            color: white;
        }

        .modal-author-info {
            flex: 1;
        }

        .modal-author-info h3 {
            color: #333;
            font-size: 1.4rem;
            margin: 0 0 8px 0;
        }

        .modal-stars {
            display: flex;
            gap: 3px;
            margin-bottom: 5px;
        }

        .modal-stars i {
            color: #ffd700;
            font-size: 1rem;
        }

        .modal-stars i.far {
            color: #ddd;
        }

        .modal-date {
            color: #666;
            font-size: 0.9rem;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #999;
            cursor: pointer;
            padding: 10px;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: #f0f0f0;
            color: #333;
        }

        .modal-body {
            padding: 30px;
        }

        .modal-body p {
            color: #333;
            font-size: 1.1rem;
            line-height: 1.7;
            margin: 0;
            white-space: pre-line;
        }

        .modal-footer {
            padding: 20px 30px;
            border-top: 1px solid #e0e0e0;
            background: #f8f9fa;
            border-radius: 0 0 20px 20px;
        }

        .verified-purchase {
            color: #28a745;
            font-weight: 600;
            font-size: 0.95rem;
        }

        /* Modal Mobile Responsiveness */
        @media (max-width: 768px) {
            .modal-content {
                width: 95%;
                max-height: 90vh;
                margin: 20px;
            }

            .modal-header {
                padding: 20px;
                gap: 15px;
            }

            .modal-avatar {
                width: 50px;
                height: 50px;
            }

            .modal-avatar i {
                font-size: 1.5rem;
            }

            .modal-author-info h3 {
                font-size: 1.2rem;
            }

            .modal-body {
                padding: 20px;
            }

            .modal-body p {
                font-size: 1rem;
            }

            .modal-footer {
                padding: 15px 20px;
            }
        }

        .review-author {
            text-align: center;
            border-top: 1px solid #e0e0e0;
            padding-top: 15px;
        }

        .review-author strong {
            color: #333;
            font-size: 1.1rem;
            display: block;
            margin-bottom: 5px;
        }

        .review-date {
            color: #666;
            font-size: 0.9rem;
        }

        .reviews-stats {
            display: flex;
            justify-content: center;
            gap: 60px;
            padding: 30px;
            background: linear-gradient(135deg, #f8f9fa, #fff);
            border-radius: 12px;
            border: 2px solid #d4af37;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: #d4af37;
            margin-bottom: 5px;
        }

        .stat-stars {
            display: flex;
            justify-content: center;
            gap: 2px;
            margin-bottom: 8px;
        }

        .stat-stars i {
            color: #ffd700;
            font-size: 1rem;
        }

        .stat-label {
            color: #666;
            font-size: 0.95rem;
            font-weight: 500;
        }

        /* Reviews Mobile Responsiveness */
        @media (max-width: 768px) {
            .reviews-section {
                padding: 25px 20px;
                margin-bottom: 20px;
            }

            .reviews-header h3 {
                font-size: 1.6rem;
            }

            .reviews-container {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .review-item {
                padding: 20px;
            }

            .review-avatar {
                width: 60px;
                height: 60px;
            }

            .review-avatar i {
                font-size: 1.8rem;
            }

            .reviews-stats {
                flex-direction: column;
                gap: 30px;
            }

            .stat-number {
                font-size: 2rem;
            }
        }

        @media (max-width: 480px) {
            .reviews-stats {
                gap: 20px;
                padding: 20px;
            }

            .reviews-header h3 {
                flex-direction: column;
                gap: 5px;
            }
        }

        /* Add Review Section Styles */
        .add-review-section {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            padding: 40px;
            margin-bottom: 40px;
            border: 2px solid #d4af37;
        }

        .add-review-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .add-review-header h3 {
            color: #d4af37;
            font-size: 1.8rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .add-review-header p {
            color: #666;
            font-size: 1rem;
        }

        .add-review-form {
            max-width: 600px;
            margin: 0 auto;
        }

        .review-form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .star-rating {
            display: flex;
            gap: 5px;
            margin-bottom: 10px;
        }

        .star-rating i {
            font-size: 1.8rem;
            color: #ddd;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .star-rating i:hover,
        .star-rating i.active {
            color: #ffd700;
            transform: scale(1.1);
        }

        .submit-review-btn {
            width: 100%;
            background: linear-gradient(135deg, #d4af37, #b8941f);
            color: white;
            border: none;
            padding: 15px;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }

        .submit-review-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(212, 175, 55, 0.4);
        }

        .checkmark {
            color: #28a745;
            font-weight: 600;
        }

        /* Login Prompt Styles */
        .login-prompt {
            background: linear-gradient(135deg, #f8f9fa, #fff);
            border: 2px solid #d4af37;
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            margin-bottom: 40px;
        }

        .login-prompt h3 {
            color: #d4af37;
            margin-bottom: 15px;
        }

        .login-prompt p {
            color: #666;
            margin-bottom: 20px;
        }

        .login-btn {
            background: linear-gradient(135deg, #d4af37, #b8941f);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .login-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(212, 175, 55, 0.4);
        }

        /* Mobile Responsiveness for Add Review */
        @media (max-width: 768px) {
            .add-review-section {
                padding: 25px 20px;
                margin-bottom: 20px;
            }

            .review-form-row {
                flex-direction: column;
                gap: 15px;
            }

            .star-rating i {
                font-size: 1.5rem;
            }

            .add-review-header h3 {
                font-size: 1.5rem;
                flex-direction: column;
                gap: 5px;
            }
        }

        /* Final Presentation Section */
        .final-presentation {
            margin-top: 40px;
            position: relative;
            overflow: hidden;
            border-radius: 0;
        }

        .presentation-content {
            position: relative;
            width: 100%;
            height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .presentation-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .presentation-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                135deg, 
                rgba(212, 175, 55, 0.8) 0%, 
                rgba(184, 148, 31, 0.7) 50%, 
                rgba(0, 0, 0, 0.6) 100%
            );
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 40px 20px;
        }

        .presentation-text h2 {
            color: white;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .presentation-text p {
            color: white;
            font-size: 1.2rem;
            margin-bottom: 30px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .presentation-features {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
        }

        .feature-badge {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(255, 255, 255, 0.2);
            padding: 12px 20px;
            border-radius: 25px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }

        .feature-badge:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .feature-badge i {
            color: #d4af37;
            font-size: 1.2rem;
        }

        .feature-badge span {
            color: white;
            font-weight: 600;
            font-size: 0.95rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        /* Mobile Responsiveness for Final Presentation */
        @media (max-width: 768px) {
            .final-presentation {
                margin-top: 20px;
            }

            .presentation-content {
                height: 300px;
            }

            .presentation-overlay {
                padding: 20px 15px;
            }

            .presentation-text h2 {
                font-size: 1.8rem;
                margin-bottom: 12px;
            }

            .presentation-text p {
                font-size: 1rem;
                margin-bottom: 25px;
            }

            .presentation-features {
                flex-direction: column;
                gap: 15px;
                align-items: center;
            }

            .feature-badge {
                padding: 10px 16px;
                gap: 8px;
            }

            .feature-badge span {
                font-size: 0.9rem;
            }
        }

        @media (max-width: 480px) {
            .presentation-content {
                height: 250px;
            }

            .presentation-text h2 {
                font-size: 1.5rem;
            }

            .presentation-features {
                gap: 12px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <div class="logo-container">
                    <img src="../../Logo.png" alt="67 Beauty Hub" class="logo-image">
                    <div class="logo-text">
                        <span class="logo-brand">67 BEAUTY HUB</span>
                    </div>
                </div>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="index.html" class="nav-link">InÃ­cio</a>
                </li>
                <li class="nav-item">
                    <a href="index.html#products" class="nav-link">Produtos</a>
                </li>
                <li class="nav-item">
                    <a href="index.html#about" class="nav-link">Sobre</a>
                </li>
                <li class="nav-item">
                    <a href="index.html#contact" class="nav-link">Contato</a>
                </li>
            </ul>
            
            <!-- Flag Dropdown Selector -->
            <div class="flag-dropdown-container">
                <div class="flag-dropdown" onclick="toggleFlagDropdown()">
                    <div class="selected-flag" id="selectedFlag">ðŸ‡ºðŸ‡¸</div>
                    <i class="fas fa-chevron-down dropdown-arrow"></i>
                </div>
                <div class="flag-dropdown-menu" id="flagDropdownMenu">
                    <!-- PaÃ­ses selecionados -->
                    <div class="flag-option" data-currency="USD" data-flag="ðŸ‡ºðŸ‡¸" data-country="Estados Unidos">ðŸ‡ºðŸ‡¸ Estados Unidos</div>
                    <div class="flag-option" data-currency="BRL" data-flag="ðŸ‡§ðŸ‡·" data-country="Brasil">ðŸ‡§ðŸ‡· Brasil</div>
                    <div class="flag-option" data-currency="EUR" data-flag="ðŸ‡µðŸ‡¹" data-country="Portugal">ðŸ‡µðŸ‡¹ Portugal</div>
                </div>
            </div>
        </div>
    </nav>

    <div class="checkout-container">
        <div class="checkout-header">
            <h1><i class="fas fa-shopping-cart"></i> Finalizar Compra</h1>
            <p>Escolha sua oferta e complete seu pedido com seguranÃ§a</p>
        </div>

        <!-- SeÃ§Ã£o de Reviews movida para o final da pÃ¡gina -->

        <div class="checkout-layout">
            <!-- SeÃ§Ã£o Unificada: Produto + Ofertas -->
            <div class="unified-section">
                <div class="product-info">
                    <div class="product-summary">
                        <img src="ApresentaÃ§Ã£o do Checkout.png" alt="2 Pack PHOERA Foundation" class="product-image" id="mainProductImage">
                        <div class="product-details">
                            <h3>2 Pack PHOERA Foundation</h3>
                            <p>Base de alta cobertura, acabamento natural e longa duraÃ§Ã£o. Ideal para todos os tipos de pele. Combo especial com produtos complementares para uma maquiagem perfeita.</p>
                        </div>
                    </div>
                    
                    <!-- Galeria de Imagens -->
                    <div class="product-gallery-section">
                        <div class="simple-gallery">
                            <div class="gallery-main">
                                <button class="gallery-nav-btn prev-btn" id="prevBtn">
                                    <i class="fas fa-chevron-left"></i>
                                </button>
                                <img src="Galeria/Kit.jpeg" alt="Kit PHOERA" class="gallery-main-image" id="galleryMainImage">
                                <button class="gallery-nav-btn next-btn" id="nextBtn">
                                    <i class="fas fa-chevron-right"></i>
                                </button>
                        </div>
                        </div>
                        <div class="gallery-indicators" id="galleryIndicators">
                            <!-- Indicadores serÃ£o gerados pelo JavaScript -->
                        </div>
                        </div>
                    
                </div>

                <div class="offers-info">
                    <h3 style="color: #333; margin-bottom: 20px; text-align: center;"><i class="fas fa-gift"></i> Escolha Sua Oferta</h3>
                    
                    <div class="offer-options">
                        <div class="offer-option selected" data-option="basic">
                            <div class="option-header">
                                <h4>2 Pack PHOERA Foundation</h4>
                                <div class="price">$17.39</div>
                            </div>
                            <div class="discount">50% OFF</div>
                            <div class="description">Base falhando no meio do dia? Com 2 unidades da PHOERA vocÃª garante alta cobertura, acabamento natural e pele impecÃ¡vel por muito mais tempo.</div>
                            
                            <!-- 16 Pequenas Checkboxes -->
                            <div class="small-checkboxes-container">
                                <div class="small-checkbox-item" data-image="Escolha/2 unitys of 102 Nud.jpg" data-name="2 unities of 102 Nude">
                                    <div class="small-checkbox-image">
                                        <img src="Escolha/2 unitys of 102 Nud.jpg" alt="102 Nude" class="small-image">
                                    </div>
                                    <div class="small-checkbox-label">2 unities of 102 Nude</div>
                                </div>
                                <div class="small-checkbox-item" data-image="Escolha/2 unitys of 103 warm peach.jpg" data-name="2 unities of 103 Warm Peach">
                                    <div class="small-checkbox-image">
                                        <img src="Escolha/2 unitys of 103 warm peach.jpg" alt="103 Warm Peach" class="small-image">
                                    </div>
                                    <div class="small-checkbox-label">2 unities of 103 Warm Peach</div>
                                </div>
                                <div class="small-checkbox-item" data-image="Escolha/2 unitys of 104 Buff beige.jpg" data-name="2 unities of 104 Buff Beige">
                                    <div class="small-checkbox-image">
                                        <img src="Escolha/2 unitys of 104 Buff beige.jpg" alt="104 Buff Beige" class="small-image">
                                    </div>
                                    <div class="small-checkbox-label">2 unities of 104 Buff Beige</div>
                                </div>
                                <div class="small-checkbox-item" data-image="Escolha/2 unitys of 105 Sand.jpg" data-name="2 unities of 105 Sand">
                                    <div class="small-checkbox-image">
                                        <img src="Escolha/2 unitys of 105 Sand.jpg" alt="105 Sand" class="small-image">
                                    </div>
                                    <div class="small-checkbox-label">2 unities of 105 Sand</div>
                                </div>
                                <div class="small-checkbox-item" data-image="Escolha/2 Unitys of 108 Tan.jpg" data-name="2 unities of 108 Tan">
                                    <div class="small-checkbox-image">
                                        <img src="Escolha/2 Unitys of 108 Tan.jpg" alt="108 Tan" class="small-image">
                                    </div>
                                    <div class="small-checkbox-label">2 unities of 108 Tan</div>
                                </div>
                                <div class="small-checkbox-item" data-image="Escolha/2 Unitys of 109 Mocha.jpg" data-name="2 unities of 109 Mocha">
                                    <div class="small-checkbox-image">
                                        <img src="Escolha/2 Unitys of 109 Mocha.jpg" alt="109 Mocha" class="small-image">
                                    </div>
                                    <div class="small-checkbox-label">2 unities of 109 Mocha</div>
                                </div>
                                <div class="small-checkbox-item" data-image="Escolha/2 unitys of warm peach.jpg" data-name="2 unities of Warm Peach">
                                    <div class="small-checkbox-image">
                                        <img src="Escolha/2 unitys of warm peach.jpg" alt="Warm Peach" class="small-image">
                                    </div>
                                    <div class="small-checkbox-label">2 unities of Warm Peach</div>
                                </div>
                                <div class="small-checkbox-item" data-image="Escolha/2 unitys of Warm Sun.jpg" data-name="2 unities of Warm Sun">
                                    <div class="small-checkbox-image">
                                        <img src="Escolha/2 unitys of Warm Sun.jpg" alt="Warm Sun" class="small-image">
                                    </div>
                                    <div class="small-checkbox-label">2 unities of Warm Sun</div>
                                </div>
                                <div class="small-checkbox-item" data-image="Escolha/101 porcelain and 101 porcelain.jpg" data-name="101 Porcelain and 101 Porcelain">
                                    <div class="small-checkbox-image">
                                        <img src="Escolha/101 porcelain and 101 porcelain.jpg" alt="101 Porcelain and 101 Porcelain" class="small-image">
                                    </div>
                                    <div class="small-checkbox-label">101 Porcelain and 101 Porcelain</div>
                                </div>
                                <div class="small-checkbox-item" data-image="Escolha/101 porcelain and 102 Nud.jpg" data-name="101 Porcelain and 102 Nude">
                                    <div class="small-checkbox-image">
                                        <img src="Escolha/101 porcelain and 102 Nud.jpg" alt="101 Porcelain and 102 Nude" class="small-image">
                                    </div>
                                    <div class="small-checkbox-label">101 Porcelain and 102 Nude</div>
                                </div>
                                <div class="small-checkbox-item" data-image="Escolha/102 Nude and 104 Buff beige.jpg" data-name="102 Nude and 104 Buff Beige">
                                    <div class="small-checkbox-image">
                                        <img src="Escolha/102 Nude and 104 Buff beige.jpg" alt="102 Nude and 104 Buff Beige" class="small-image">
                                    </div>
                                    <div class="small-checkbox-label">102 Nude and 104 Buff Beige</div>
                                </div>
                                <div class="small-checkbox-item" data-image="Escolha/102 Nude e 103 warm peach.jpg" data-name="102 Nude and 103 Warm Peach">
                                    <div class="small-checkbox-image">
                                        <img src="Escolha/102 Nude e 103 warm peach.jpg" alt="102 Nude and 103 Warm Peach" class="small-image">
                                    </div>
                                    <div class="small-checkbox-label">102 Nude and 103 Warm Peach</div>
                                </div>
                                <div class="small-checkbox-item" data-image="Escolha/103 warm peach e 104 Buff beige.jpg" data-name="103 Warm Peach and 104 Buff Beige">
                                    <div class="small-checkbox-image">
                                        <img src="Escolha/103 warm peach e 104 Buff beige.jpg" alt="103 Warm Peach and 104 Buff Beige" class="small-image">
                                    </div>
                                    <div class="small-checkbox-label">103 Warm Peach and 104 Buff Beige</div>
                                </div>
                                <div class="small-checkbox-item" data-image="Escolha/104 Buff beige 105 Sand.jpg" data-name="104 Buff Beige and 105 Sand">
                                    <div class="small-checkbox-image">
                                        <img src="Escolha/104 Buff beige 105 Sand.jpg" alt="104 Buff Beige and 105 Sand" class="small-image">
                                    </div>
                                    <div class="small-checkbox-label">104 Buff Beige and 105 Sand</div>
                                </div>
                                <div class="small-checkbox-item" data-image="Escolha/105 Sand and 106 Warm Sun.jpg" data-name="105 Sand and 106 Warm Sun">
                                    <div class="small-checkbox-image">
                                        <img src="Escolha/105 Sand and 106 Warm Sun.jpg" alt="105 Sand and 106 Warm Sun" class="small-image">
                                    </div>
                                    <div class="small-checkbox-label">105 Sand and 106 Warm Sun</div>
                                </div>
                                <div class="small-checkbox-item" data-image="Escolha/108 Tan and 109 Mocha.jpg" data-name="108 Tan and 109 Mocha">
                                    <div class="small-checkbox-image">
                                        <img src="Escolha/108 Tan and 109 Mocha.jpg" alt="108 Tan and 109 Mocha" class="small-image">
                                    </div>
                                    <div class="small-checkbox-label">108 Tan and 109 Mocha</div>
                                </div>
                            </div>
                        </div>

                        <div class="offer-option has-checkbox" data-option="premium">
                            <input type="checkbox" class="offer-checkbox" id="offer-premium" data-option="premium">
                            <div class="option-header">
                                <h4>Oferta Premium</h4>
                                <div class="price">$2.50</div>
                            </div>
                            <div class="offer-image-container">
                                <img src="8pcs Makeup Brush.png" alt="Combo Premium" class="offer-image">
                                <div class="offer-description-container">
                                    <div class="description">Chega de sofrer com pincÃ©is que soltam cerdas ou deixam a make manchada. O kit 8pcs Makeup Brush traz pincÃ©is macios e precisos para aplicar base, pÃ³, sombra e blush com acabamento profissional todos os dias.</div>
                                </div>
                            </div>
                        </div>

                        <div class="offer-option has-checkbox" data-option="complete">
                            <input type="checkbox" class="offer-checkbox" id="offer-complete" data-option="complete">
                            <div class="option-header">
                                <h4>Oferta Completa</h4>
                                <div class="price">$11.64</div>
                            </div>
                            <div class="offer-image-container">
                                <img src="2 Pack PHOERA Primer.png" alt="Combo Completo" class="offer-image">
                                <div class="offer-description-container">
                                    <div class="description">Cansada da maquiagem que craquela, escorre ou nÃ£o dura o dia todo? O 2 Pack PHOERA Primer prepara a pele, fecha os poros e garante uma base lisa e uniforme para uma make impecÃ¡vel e de longa duraÃ§Ã£o.</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="checkout-bottom">
                <div class="form-section">
                    <h3><i class="fas fa-envelope"></i> InformaÃ§Ãµes de Contato</h3>
                    <form class="checkout-form" id="checkoutForm">
                            <div class="form-group">
                                <label for="email">E-mail *</label>
                            <input type="email" id="email" name="email" required placeholder="seu@email.com">
                        </div>

                    <h3><i class="fas fa-credit-card"></i> MÃ©todo de Pagamento</h3>
                    <!-- Updated structure -->
                    
                    <div class="form-group">
                        <label for="paymentMethod">Forma de Pagamento *</label>
                        <select id="paymentMethod" name="paymentMethod" required>
                            <option value="">Selecione</option>
                            <option value="paypal">PayPal</option>
                            <option value="pix">PIX</option>
                        </select>
                    </div>

                    <div id="paypal-payment-button" style="display: none;"></div>
                    <div id="pix-payment-info" style="display: none;">
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border: 2px solid #d4af37; text-align: center;">
                            <h4 style="color: #d4af37; margin-bottom: 15px;"><i class="fas fa-qrcode"></i> Pagamento via PIX</h4>
                            <p style="color: #666; margin-bottom: 15px;">ApÃ³s confirmar o pedido, vocÃª receberÃ¡ as instruÃ§Ãµes de pagamento PIX por email.</p>
                            <div style="background: white; padding: 15px; border-radius: 8px; border: 1px solid #ddd;">
                                <strong>Chave PIX:</strong> contato@67beautyhub.com
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="observations">ObservaÃ§Ãµes (opcional)</label>
                        <textarea id="observations" name="observations" rows="3" placeholder="Alguma observaÃ§Ã£o especial sobre seu pedido?"></textarea>
                    </div>

                        <button type="submit" class="checkout-btn">
                            <i class="fas fa-check"></i> Confirmar Pedido
                        </button>
                    </form>

                </div>

                <div class="summary-section">
                    <h3><i class="fas fa-receipt"></i> Resumo do Pedido</h3>
                    <div class="checkout-summary">
                        <div id="selectedOffers">
                            <!-- Ofertas selecionadas serÃ£o inseridas aqui dinamicamente -->
                        </div>
                        <div class="summary-row total">
                            <span>Total</span>
                            <span id="totalAmount">$17.39</span>
                        </div>
                        
                        <!-- Currency Selector for Summary -->
                        <div style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 10px; text-align: center;">
                            <div>
                                <label style="display: block; color: #555; font-size: 14px; margin-bottom: 5px;">
                                    <i class="fas fa-exchange-alt"></i> Moeda do Resumo
                                </label>
                                <select id="summaryCurrencySelector" style="padding: 8px 12px; border: 2px solid #d4af37; border-radius: 6px; background: white; color: #333; font-size: 14px; width: 100%; max-width: 250px;">
                                    <option value="USD">ðŸ‡ºðŸ‡¸ DÃ³lar Americano (USD)</option>
                                    <option value="BRL">ðŸ‡§ðŸ‡· Real Brasileiro (BRL)</option>
                                    <option value="EUR">ðŸ‡ªðŸ‡º Euro (EUR)</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Reviews Section (moved to end) -->
    <div class="reviews-section" style="margin-top: 40px; background-image: url('ApresentaÃ§Ã£o do fundo.png'); background-size: cover; background-position: center; background-repeat: no-repeat; padding: 40px 20px; border-radius: 15px; position: relative;">
        <!-- Overlay para melhorar legibilidade do texto -->
        <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(255, 255, 255, 0.85); border-radius: 15px;"></div>
        
        <div style="position: relative; z-index: 2;">
            <div class="reviews-header">
                <h3><i class="fas fa-star"></i> O que nossos clientes estÃ£o dizendo</h3>
                <p>Mais de 1.400 clientes satisfeitas com nossos produtos</p>
                
                <!-- BotÃ£o para adicionar review -->
                <div style="margin-top: 20px;">
                    <button id="addReviewBtn" style="background: #d4af37; color: white; border: none; padding: 12px 24px; border-radius: 25px; font-size: 16px; cursor: pointer; transition: all 0.3s ease;">
                        <i class="fas fa-plus"></i> Adicionar sua Review
                    </button>
                </div>
            </div>
        
        <div class="reviews-container">
            <div class="review-item clickable-review" 
                 data-review-id="brookie"
                 data-author="Brookie"
                 data-date="15 dias atrÃ¡s"
                 data-stars="5">
                <div class="review-image">
                    <div class="review-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                </div>
                <div class="review-content">
                    <div class="review-stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <p class="review-text">"It's my absolute favorite foundation, I've bought multiple times! I fell in love the first time I used it, and haven't bought a different foundation since! It's super lightweight but full coverage, matte finish, and I swear it gives me such an airbrushed look!..."</p>
                    <div class="review-author">
                        <strong>Brookie</strong>
                        <span class="review-date">Compra verificada - 15 dias atrÃ¡s</span>
                    </div>
                </div>
            </div>

            <div class="review-item clickable-review" 
                 data-author="Geauxredd"
                 data-date="1 semana atrÃ¡s"
                 data-stars="5"
                 data-full-text="I was skeptical about this foundation because of the low price. But then again, for less than $10 I thought why not. It's already cheaper than most drugstore brands. Wasn't sure on the shade match so I just guessed. I ordered 05 Sand. For reference, I'm usually shade 310 in Fit Me Matte & Poreless. I am a normal to dry skin type. Mature, over 40 skin.

When I got it in the mail, it was a little darker than I expected, but I knew with the right concealer & careful blending I could make it work & I was right! I love this foundation!

As someone who owns approximately 30 foundations, I find myself reaching for this one when I want full coverage that lasts. I wear it when I'm creating content & special occasions where I know I'll be photographed. It gives such a flawless base. I find it a little heavy for everyday wear, but I have found I can mix it with other more sheer foundations to add a little coverage or deepen the shade.

It works well with other products such as primers, cream contouring products & powders. I don't have issues with it lifting when applying other products on top. It is more on the matte side, so I use it with a pore filling primer & a liquid illuminator (Becca) underneath & it gives the most beautiful glow! I'm 44 so I try to steer clear of fully matte products but this one is so easy to adapt for my skin.

I love this foundation so much I am ordering it in a lighter shade as well. Even though it is full coverage & very matte, I think it can be sheered out to be more wearable for everyday. As a former working freelance makeup artist, I think this would be a fantastic foundation to add to any professional kit! The price is affordable enough to purchase the entire shade range yet looks incredible! I think it could work for a variety of skin types.

I've included pics of it in indoor, incandescent light as well as outdoor, natural lighting. It's full coverage & beautiful in my opinion! Try it out!">
                <div class="review-image">
                    <div class="review-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                </div>
                <div class="review-content">
                    <div class="review-stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <p class="review-text">"I was skeptical about this foundation because of the low price. But then again, for less than $10 I thought why not. It's already cheaper than most drugstore brands..."</p>
                    <div class="review-author">
                        <strong>Geauxredd</strong>
                        <span class="review-date">Compra verificada - 1 semana atrÃ¡s</span>
                    </div>
                </div>
            </div>

            <div class="review-item clickable-review" 
                 data-author="Keith L.Hunter"
                 data-date="3 dias atrÃ¡s"
                 data-stars="5"
                 data-full-text="Amazing face foundation! For the price esp. I am currently using a much more expensive foundation and needed a lighter shade for the fall/winter time, so I decided to look for something a little cheaper on amazon and came across this. The reviews definitely live up to the hype!!! Highly recommend. Happy with the shades I chose too. I am fair complected. Gives you full coverage without a doubt.">
                <div class="review-image">
                    <div class="review-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                </div>
                <div class="review-content">
                    <div class="review-stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <p class="review-text">"Amazing face foundation! For the price esp. I am currently using a much more expensive foundation and needed a lighter shade for the fall/winter time..."</p>
                    <div class="review-author">
                        <strong>Keith L.Hunter</strong>
                        <span class="review-date">Compra verificada - 3 dias atrÃ¡s</span>
                    </div>
                </div>
            </div>

            <div class="review-item clickable-review" 
                 data-author="MCG"
                 data-date="2 semanas atrÃ¡s"
                 data-stars="4"
                 data-full-text="Really pleasantly surprised by this stuff. It provides great coverage that goes on smooth and not cakey and the price point is great. I just spent $55 on Il Makiage After Party and wish I hadn't because this stuffs covers just as well but with a less thick and cakey consistency. This foundation is closer to Woke Up Like This but with better coverage.

Knocked off one star for a few reasons: 1) Nude and Warm Peach are almost the same color and both have very orange undertones. Luckily I'm tan from the summer so this is OK right now but I'll have to buy the porcelain color to mix as my skin lightens into Fall/Winter and hope I can get to the right shade. 2) Wish there was a wider range of colors. Porcelain seems very light and then the next color, Nude, is fairly dark. No in between. 3) This stuff does not dry down matte for me. It gives my skin an oily sheen that I need to touch up with powder throughout the day to keep in check, and I don't have overly oily skin.

Overall, if you can find the right shade and have a good setting powder/spray, this is definitely worth a try!">
                <div class="review-image">
                    <div class="review-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                </div>
                <div class="review-content">
                    <div class="review-stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="far fa-star"></i>
                    </div>
                    <p class="review-text">"Really pleasantly surprised by this stuff. It provides great coverage that goes on smooth and not cakey and the price point is great. I just spent $55 on Il Makiage After Party and wish I hadn't..."</p>
                    <div class="review-author">
                        <strong>MCG</strong>
                        <span class="review-date">Compra verificada - 2 semanas atrÃ¡s</span>
                    </div>
                </div>
            </div>

            <div class="review-item clickable-review" 
                 data-author="Mary"
                 data-date="1 semana atrÃ¡s"
                 data-stars="5"
                 data-full-text="I really love this foundation..I got the 101 porcelain and 102 nude and I mix them together..here's the thing.. it is very lightweight but dries fast, but has good coverage..however the application to applying this to your skin is so important when working with this foundation..moisturize and prep you skin first then get a good foundation brush I have double side foundation brush from elf..put the foundation on the back of your hand take your brush and rub some on and then press and swirl into your brush so the foundation is smooth and even on the brush and then LIGHTLY TAP not streak or stroke , but TAP onto you skin all over until your preference, and repeat if desired, it is a buildable foundation! I'm almost 50 years old and less is more for my mature skin! What I love about this foundation is I do NOT have to use ANY powder which is a win in my book for my age! I just spray setting spray after I achieve my look..I am including pictures with indoor lighting and outdoor lighting and close up in the indoor light so you can have a close up view! What you see is what you get! No gimmicks, no other foundations and no filters at all on these pictures. I hope this helps and I hope you have success on this product for your skin if you choose to purchase! I'm REALLY happy with this foundation!!">
                <div class="review-image">
                    <div class="review-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                </div>
                <div class="review-content">
                    <div class="review-stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <p class="review-text">"I really love this foundation..I got the 101 porcelain and 102 nude and I mix them together..here's the thing.. it is very lightweight but dries fast, but has good coverage..."</p>
                    <div class="review-author">
                        <strong>Mary</strong>
                        <span class="review-date">Compra verificada - 1 semana atrÃ¡s</span>
                    </div>
                </div>
            </div>

            <div class="review-item clickable-review" 
                 data-review-id="beatriz"
                 data-author="Beatriz Oliveira"
                 data-date="4 dias atrÃ¡s"
                 data-stars="5">
                <div class="review-image">
                    <div class="review-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                </div>
                <div class="review-content">
                    <div class="review-stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <p class="review-text">"Melhor custo-benefÃ­cio! A qualidade Ã© igual Ã s bases caras que eu usava antes. Super recomendo!"</p>
                    <div class="review-author">
                        <strong>Beatriz Oliveira</strong>
                        <span class="review-date">Compra verificada - 4 dias atrÃ¡s</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Statistics -->
        <div class="reviews-stats">
            <div class="stat-item">
                <div class="stat-number">4.7</div>
                <div class="stat-stars">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star-half-alt"></i>
                </div>
                <div class="stat-label">AvaliaÃ§Ã£o mÃ©dia</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">1.456</div>
                <div class="stat-label">Clientes satisfeitas</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">98%</div>
                <div class="stat-label">Recomendariam</div>
            </div>
        </div>

        <!-- SeÃ§Ã£o para Adicionar Review (apenas para usuÃ¡rios logados) -->
        <div class="add-review-section" id="addReviewSection" style="display: none;">
            <!-- ConteÃºdo serÃ¡ inserido dinamicamente pelo JavaScript -->
        </div>
        </div>
    </div>

    <script>
        // Dados das ofertas
        const offers = {
            basic: {
                name: 'ApresentaÃ§Ã£o do Checkout',
                prices: {
                    USD: 17.39,
                    BRL: 91.68,
                    EUR: 16.00,
                    AOA: 16000
                },
                discount: 0,
                shipping: {
                    USD: 2.45,
                    BRL: 12.90,
                    EUR: 2.25,
                    AOA: 2250
                }
            },
            premium: {
                name: '8pcs Makeup Brush',
                prices: {
                    USD: 2.50,
                    BRL: 13.16,
                    EUR: 2.30,
                    AOA: 2300
                },
                discount: 0,
                shipping: {
                    USD: 2.45,
                    BRL: 12.90,
                    EUR: 2.25,
                    AOA: 2250
                }
            },
            complete: {
                name: '2 Pack PHOERA Primer',
                prices: {
                    USD: 11.64,
                    BRL: 61.32,
                    EUR: 10.71,
                    AOA: 10700
                },
                discount: 0,
                shipping: {
                    USD: 0,
                    BRL: 0,
                    EUR: 0,
                    AOA: 0
                }
            }
        };

        let selectedOffers = ['basic']; // Array para mÃºltiplas seleÃ§Ãµes
        let selectedColor = null; // Cor selecionada para a oferta bÃ¡sica


        // Event listeners para checkboxes
        document.querySelectorAll('.offer-checkbox').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                const option = this.dataset.option;
                const offerElement = this.closest('.offer-option');
                
                if (this.checked) {
                    if (!selectedOffers.includes(option)) {
                        selectedOffers.push(option);
                    }
                    offerElement.classList.add('selected');
                } else {
                    selectedOffers = selectedOffers.filter(offer => offer !== option);
                    offerElement.classList.remove('selected');
                }
                
                // Garantir que pelo menos uma oferta esteja selecionada
                if (selectedOffers.length === 0) {
                    this.checked = true;
                    selectedOffers.push(option);
                    offerElement.classList.add('selected');
                }
                
                updateOrderSummary();
            });
        });

        // Event listeners para cliques nas ofertas
        document.querySelectorAll('.offer-option').forEach(option => {
            option.addEventListener('click', function(e) {
                // NÃ£o processar clique se for no checkbox
                if (e.target.type === 'checkbox') return;
                
                const checkbox = this.querySelector('.offer-checkbox');
                if (checkbox) {
                    checkbox.checked = !checkbox.checked;
                    checkbox.dispatchEvent(new Event('change'));
                }
            });
        });

        // FunÃ§Ã£o para atualizar resumo do pedido
        function updateOrderSummary() {
            const selectedOffersContainer = document.getElementById('selectedOffers');
            let total = 0;

            // Limpar ofertas anteriores
            selectedOffersContainer.innerHTML = '';

            // Calcular total para cada oferta selecionada
            selectedOffers.forEach(offerKey => {
                const offer = offers[offerKey];
                const basePrice = offer.prices[currentCurrency];
                const discountAmount = (basePrice * offer.discount / 100);
                const offerTotal = basePrice - discountAmount;
                
                total += offerTotal;

                // Adicionar linha da oferta no resumo
                const offerRow = document.createElement('div');
                offerRow.className = 'summary-row';
                offerRow.innerHTML = `
                    <span>${offer.name}</span>
                    <span>${formatPrice(offerTotal)}</span>
                `;
                selectedOffersContainer.appendChild(offerRow);
            });

            // Atualizar total
            const totalElement = document.getElementById('totalAmount');
            if (totalElement) {
                totalElement.textContent = formatPrice(total);
            }
        }

        // Format price for display (removed - using the correct one below)

        // Product Image Gallery Functionality

        // Review Modal Functions
        function openReviewModal(author, date, stars, fullText) {
            const modal = document.createElement('div');
            modal.className = 'review-modal';
            modal.style.cssText = `
                position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                background: rgba(0,0,0,0.8); z-index: 10000; display: flex;
                align-items: center; justify-content: center; padding: 20px;
            `;
            
            // Generate stars HTML
            const starCount = parseFloat(stars);
            const fullStars = Math.floor(starCount);
            const hasHalfStar = starCount % 1 !== 0;
            const emptyStars = 5 - Math.ceil(starCount);
            
            let starsHTML = '';
            for (let i = 0; i < fullStars; i++) {
                starsHTML += '<i class="fas fa-star"></i>';
            }
            if (hasHalfStar) {
                starsHTML += '<i class="fas fa-star-half-alt"></i>';
            }
            for (let i = 0; i < emptyStars; i++) {
                starsHTML += '<i class="far fa-star"></i>';
            }
            
            modal.innerHTML = `
                <div style="
                    background: white; border-radius: 15px; padding: 30px;
                    max-width: 600px; width: 100%; max-height: 80vh; overflow-y: auto;
                    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
                    animation: modalSlideIn 0.3s ease-out;
                ">
                    <div style="display: flex; align-items: center; margin-bottom: 20px;">
                        <div style="
                            width: 50px; height: 50px; background: #d4af37;
                            border-radius: 50%; display: flex; align-items: center;
                            justify-content: center; margin-right: 15px;
                        ">
                            <i class="fas fa-user" style="color: white; font-size: 1.2rem;"></i>
                        </div>
                        <div>
                            <h3 style="margin: 0; color: #333;">${author}</h3>
                            <div style="color: #d4af37; margin: 5px 0;">
                                ${starsHTML}
                            </div>
                            <span style="color: #666; font-size: 0.9rem;">Compra verificada - ${date}</span>
                        </div>
                        <button onclick="this.closest('.review-modal').remove()" style="
                            background: none; border: none; font-size: 1.5rem;
                            color: #999; cursor: pointer; margin-left: auto;
                        ">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div style="
                        background: #f8f9fa; padding: 20px; border-radius: 10px;
                        border-left: 4px solid #d4af37; line-height: 1.6;
                        color: #333;
                    ">
                        <p style="margin: 0; font-style: italic;">"${fullText}"</p>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // Close modal when clicking overlay
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.remove();
                }
            });
        }

        function closeReviewModal() {
            const modal = document.querySelector('.review-modal');
            if (modal) {
                modal.remove();
            }
        }

        // Add click listeners to reviews
        document.addEventListener('DOMContentLoaded', function() {
            const clickableReviews = document.querySelectorAll('.clickable-review');
            clickableReviews.forEach(review => {
                review.addEventListener('click', function() {
                    const author = this.dataset.author;
                    const date = this.dataset.date;
                    const stars = this.dataset.stars;
                    const fullText = this.dataset.fullText || this.querySelector('.review-text').textContent.replace(/"/g, '');
                    
                    openReviewModal(author, date, stars, fullText);
                });
            });
        });

        // Inicializar resumo apÃ³s DOM carregado
        document.addEventListener('DOMContentLoaded', function() {
            updateOrderSummary();
            
            // Event listener para o seletor de moeda do resumo
            const summaryCurrencySelector = document.getElementById('summaryCurrencySelector');
            if (summaryCurrencySelector) {
                summaryCurrencySelector.addEventListener('change', function() {
                    summaryCurrency = this.value;
                    console.log('Summary currency changed to:', summaryCurrency);
                    // Atualizar apenas o resumo do pedido
                    updateOrderSummary();
                });
            }
        });
        
        // TambÃ©m inicializar imediatamente (caso DOM jÃ¡ esteja carregado)
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', updateOrderSummary);
        } else {
            // Pequeno delay para garantir que todos os elementos estejam prontos
            setTimeout(updateOrderSummary, 100);
        }
    </script>
    <script>
        // Currency System for Checkout
        let currentCurrency = 'USD';
        let summaryCurrency = 'USD'; // Moeda do resumo do pedido
        let currentLanguage = 'en'; // Idioma independente da moeda
        let exchangeRates = {
            'USD': { symbol: '$', rate: 1, locale: 'en-US', currency: 'USD' },
            'BRL': { symbol: 'R$', rate: 5.27, locale: 'pt-BR', currency: 'BRL' },
            'EUR': { symbol: 'â‚¬', rate: 0.92, locale: 'de-DE', currency: 'EUR' },
            'AOA': { symbol: 'Kz', rate: 920, locale: 'pt-AO', currency: 'AOA' }
        };

        // Toggle flag dropdown
        function toggleFlagDropdown() {
            const dropdown = document.querySelector('.flag-dropdown');
            const menu = document.getElementById('flagDropdownMenu');
            
            dropdown.classList.toggle('open');
            menu.classList.toggle('open');
        }
        
        // Select flag option
        function selectFlagOption(currency, flag) {
            const selectedFlag = document.getElementById('selectedFlag');
            selectedFlag.textContent = flag;
            
            // Close dropdown
            const dropdown = document.querySelector('.flag-dropdown');
            const menu = document.getElementById('flagDropdownMenu');
            dropdown.classList.remove('open');
            menu.classList.remove('open');
            
            // Change currency
            changeMainCurrency(currency);
        }
        
        // Change main currency (affects everything including summary)
        function changeMainCurrency(currencyCode) {
            currentCurrency = currencyCode;
            
            // Update all prices including summary
            updateCurrencyDisplay();
            
            // Save selection to localStorage
            localStorage.setItem('selectedCurrency', currencyCode);
            
            console.log(`Main currency changed to: ${currencyCode}`);
        }

        // Reviews translations database
        const reviewsTranslations = {
            'brookie_en': {
                short: "It's my absolute favorite foundation, I've bought multiple times! I fell in love the first time I used it, and haven't bought a different foundation since! It's super lightweight but full coverage, matte finish, and I swear it gives me such an airbrushed look!...",
                full: "It's my absolute favorite foundation, I've bought multiple times! I fell in love the first time I used it, and haven't bought a different foundation since!\n\nIt's super lightweight but full coverage, matte finish, and I swear it gives me such an airbrushed look! My skin looks like I don't even have a lot of makeup on! I'm a bartender, so I'm super busy and sweaty during my shifts, and with setting spray, this foundation stays on my entire shift!\n\nI'm running back and forth, 10,000 steps in 5 hours, kegs spraying me, constantly wiping the sweat off my head, sticky with alcohol and citrus, serving 100's of ppl, and looking like a baddie the whole time. I've worked in the restaurant industry for 8 years, and never found a foundation that lasted an entire shift, until this one!\n\nI 100% recommend! And the price is great for the value! You don't even need a lot of the product. I also like buying a shade lighter to use as concealer and carve out my features, it works better than a normal concealer would!\n\nI do have good skin, non textured and I'm semi oily, semi dry in areas"
            },
            'brookie_pt': {
                short: "Ã‰ minha base absoluta favorita, jÃ¡ comprei vÃ¡rias vezes! Me apaixonei na primeira vez que usei, e nÃ£o comprei uma base diferente desde entÃ£o! Ã‰ super leve mas com cobertura total, acabamento matte, e juro que dÃ¡ um look aerografado!...",
                full: "Ã‰ minha base absoluta favorita, jÃ¡ comprei vÃ¡rias vezes! Me apaixonei na primeira vez que usei, e nÃ£o comprei uma base diferente desde entÃ£o!\n\nÃ‰ super leve mas com cobertura total, acabamento matte, e juro que dÃ¡ um look aerografado! Minha pele parece que nem tem muita maquiagem! Sou bartender, entÃ£o fico super ocupada e suando durante meus turnos, e com setting spray, essa base dura todo o meu turno!\n\nFico correndo pra lÃ¡ e pra cÃ¡, 10.000 passos em 5 horas, barris me respingando, constantemente limpando o suor da cabeÃ§a, grudenta com Ã¡lcool e cÃ­tricos, atendendo centenas de pessoas, e parecendo uma gata o tempo todo. Trabalhei na indÃºstria de restaurantes por 8 anos, e nunca encontrei uma base que durasse um turno inteiro, atÃ© esta!\n\nRecomendo 100%! E o preÃ§o Ã© Ã³timo pelo valor! VocÃª nem precisa de muito produto. TambÃ©m gosto de comprar um tom mais claro para usar como corretivo e definir minhas caracterÃ­sticas, funciona melhor que um corretivo normal!\n\nTenho uma pele boa, sem textura e sou meio oleosa, meio seca em algumas Ã¡reas"
            },
            'beatriz_en': {
                short: "Best cost-benefit! The quality is equal to the expensive foundations I used before. Highly recommend!",
                full: "Best cost-benefit! The quality is equal to the expensive foundations I used before. Highly recommend! I was spending a lot of money on famous brand foundations and discovered this one that has the same quality for a much more affordable price. The coverage is uniform, doesn't oxidize during the day and looks beautiful in photos. I've already become a loyal customer!"
            },
            'beatriz_pt': {
                short: "Melhor custo-benefÃ­cio! A qualidade Ã© igual Ã s bases caras que eu usava antes. Super recomendo!",
                full: "Melhor custo-benefÃ­cio! A qualidade Ã© igual Ã s bases caras que eu usava antes. Super recomendo! Estava gastando muito dinheiro com bases de marcas famosas e descobri esta que tem a mesma qualidade por um preÃ§o muito mais acessÃ­vel. A cobertura Ã© uniforme, nÃ£o oxida durante o dia e fica linda nas fotos. JÃ¡ virei cliente fiel!"
            }
        };

        // Manual currency selection (user override)
        function setCurrency(currency) {
            currentCurrency = currency;
            // NÃƒO alterar o idioma quando mudar a moeda
            
            // Save user preference (overrides auto-detection)
            localStorage.setItem('preferredCurrency', currency);
            localStorage.setItem('userManuallySelectedCurrency', 'true');
            
            updateCurrencyDisplay();
            // NÃƒO chamar updateReviewsLanguage() aqui
            
            console.log('ðŸ’° User manually changed currency to:', currency, 'language remains:', currentLanguage);
            
            // Show confirmation message
            showCurrencyChangeConfirmation(currency);
        }

        // Manual language selection (independent of currency)
        function setLanguage(language) {
            currentLanguage = language;
            
            // Save user preference
            localStorage.setItem('preferredLanguage', language);
            localStorage.setItem('userManuallySelectedLanguage', 'true');
            
            updateReviewsLanguage();
            
            console.log('ðŸŒ User manually changed language to:', language, 'currency remains:', currentCurrency);
            
            // Show confirmation message
            showLanguageChangeConfirmation(language);
        }

        // Show confirmation when user changes language
        function showLanguageChangeConfirmation(language) {
            const languageNames = {
                'pt': 'PortuguÃªs',
                'en': 'English'
            };
            
            const confirmationMsg = document.createElement('div');
            confirmationMsg.style.cssText = `
                position: fixed; top: 20px; right: 20px; background: #28a745; color: white;
                padding: 15px 20px; border-radius: 8px; z-index: 10001;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15); animation: slideIn 0.3s ease;
                font-weight: 600;
            `;
            confirmationMsg.innerHTML = `
                <i class="fas fa-language"></i> 
                Idioma alterado para ${languageNames[language]}
            `;
            
            document.body.appendChild(confirmationMsg);
            
            setTimeout(() => {
                confirmationMsg.remove();
            }, 3000);
        }

        // Show confirmation when user changes currency
        function showCurrencyChangeConfirmation(currency) {
            const currencyNames = {
                'USD': 'DÃ³lar Americano (USD)',
                'EUR': 'Euro (EUR)', 
                'BRL': 'Real Brasileiro (BRL)'
            };
            
            const confirmationMsg = document.createElement('div');
            confirmationMsg.style.cssText = `
                position: fixed; top: 20px; right: 20px; background: #d4af37; color: white;
                padding: 15px 20px; border-radius: 8px; z-index: 10001;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15); animation: slideIn 0.3s ease;
                font-weight: 600;
            `;
            confirmationMsg.innerHTML = `
                <i class="fas fa-check-circle"></i> 
                Moeda alterada para ${currencyNames[currency]}
            `;
            
            document.body.appendChild(confirmationMsg);
            
            setTimeout(() => {
                confirmationMsg.remove();
            }, 3000);
        }

        // Format price for display
        function formatPrice(price) {
            if (currentCurrency === 'BRL') {
                return `R$ ${price.toFixed(2).replace('.', ',')}`;
            } else if (currentCurrency === 'USD') {
                return `$${price.toFixed(2)}`;
            } else if (currentCurrency === 'EUR') {
                return `â‚¬${price.toFixed(2)}`;
            } else if (currentCurrency === 'AOA') {
                return `Kz ${price.toLocaleString()}`;
            }
            return price.toString();
        }

        // Update currency display in checkout
        function updateCurrencyDisplay() {
            // Atualizar apenas preÃ§os das ofertas nas checkboxes usando preÃ§os prÃ©-calculados
            document.querySelectorAll('.offer-option').forEach(offerElement => {
                const offerKey = offerElement.dataset.option;
                const offer = offers[offerKey];
                const priceElement = offerElement.querySelector('.price');
                
                if (offer && priceElement) {
                    const price = offer.prices[currentCurrency];
                    if (price) {
                        if (currentCurrency === 'USD') {
                            priceElement.textContent = `$${price.toFixed(2)}`;
                        } else if (currentCurrency === 'BRL') {
                            priceElement.textContent = `R$ ${price.toFixed(2).replace('.', ',')}`;
                        } else if (currentCurrency === 'EUR') {
                            priceElement.textContent = `â‚¬${price.toFixed(2)}`;
                        } else if (currentCurrency === 'AOA') {
                            priceElement.textContent = `Kz ${price.toLocaleString()}`;
                        }
                    }
                }
            });

            // NÃƒO atualizar resumo do pedido - apenas as checkboxes
        }

        // Update reviews language based on currency selection
        function updateReviewsLanguage() {
            console.log('ðŸ”„ Updating reviews to language:', currentLanguage);
            
            // Update Brookie's review
            const brookieReview = document.querySelector('[data-review-id="brookie"]');
            if (brookieReview) {
                const translation = reviewsTranslations[`brookie_${currentLanguage}`];
                if (translation) {
                    const reviewTextElement = brookieReview.querySelector('.review-text');
                    if (reviewTextElement) {
                        reviewTextElement.textContent = `"${translation.short}"`;
                        brookieReview.setAttribute('data-full-text', translation.full);
                        console.log('âœ… Updated Brookie review to', currentLanguage);
                    }
                } else {
                    console.log('âŒ No translation found for brookie_' + currentLanguage);
                }
            }

            // Update Beatriz's review
            const beatrizReview = document.querySelector('[data-review-id="beatriz"]');
            if (beatrizReview) {
                const translation = reviewsTranslations[`beatriz_${currentLanguage}`];
                if (translation) {
                    const reviewTextElement = beatrizReview.querySelector('.review-text');
                    if (reviewTextElement) {
                        reviewTextElement.textContent = `"${translation.short}"`;
                        beatrizReview.setAttribute('data-full-text', translation.full);
                        console.log('âœ… Updated Beatriz review to', currentLanguage);
                    }
                } else {
                    console.log('âŒ No translation found for beatriz_' + currentLanguage);
                }
            }

            // Update section headers
            updateSectionHeaders();
        }

        function updateSectionHeaders() {
            const headers = {
                'en': {
                    reviewsTitle: 'What our customers are saying',
                    reviewsSubtitle: 'Over 1,400 satisfied customers with our products',
                    avgRating: 'Average rating',
                    satisfiedCustomers: 'Satisfied customers',
                    wouldRecommend: 'Would recommend',
                    verifiedPurchase: 'Verified purchase',
                    daysAgo: 'days ago',
                    weekAgo: 'week ago',
                    weeksAgo: 'weeks ago'
                },
                'pt': {
                    reviewsTitle: 'O que nossos clientes estÃ£o dizendo',
                    reviewsSubtitle: 'Mais de 1.400 clientes satisfeitas com nossos produtos',
                    avgRating: 'AvaliaÃ§Ã£o mÃ©dia',
                    satisfiedCustomers: 'Clientes satisfeitas',
                    wouldRecommend: 'Recomendariam',
                    verifiedPurchase: 'Compra verificada',
                    daysAgo: 'dias atrÃ¡s',
                    weekAgo: 'semana atrÃ¡s',
                    weeksAgo: 'semanas atrÃ¡s'
                }
            };

            const texts = headers[currentLanguage];
            
            // Update main headers
            const reviewsHeader = document.querySelector('.reviews-header h3');
            if (reviewsHeader) {
                reviewsHeader.innerHTML = `<i class="fas fa-star"></i> ${texts.reviewsTitle}`;
            }

            const reviewsSubtitle = document.querySelector('.reviews-header p');
            if (reviewsSubtitle) {
                reviewsSubtitle.textContent = texts.reviewsSubtitle;
            }

            // Update stats labels
            const statLabels = document.querySelectorAll('.stat-label');
            if (statLabels.length >= 3) {
                statLabels[0].textContent = texts.avgRating;
                statLabels[1].textContent = texts.satisfiedCustomers;
                statLabels[2].textContent = texts.wouldRecommend;
            }
        }

        // Auto-detect user language and set currency accordingly
        function detectUserLanguageAndCurrency() {
            // Get user's browser language
            const userLanguage = navigator.language || navigator.userLanguage;
            const languageCode = userLanguage.toLowerCase();
            
            console.log('Detected browser language:', userLanguage);
            
            // Set language based on browser language (independent of currency)
            if (languageCode.startsWith('pt')) {
                currentLanguage = 'pt';
                console.log('Portuguese detected â†’ language set to PT');
            } else {
                currentLanguage = 'en';
                console.log('Other language detected â†’ language set to EN');
            }
            
            // Map browser languages to currencies (suggested default, not forced)
            let suggestedCurrency = 'USD'; // Default to USD
            
            if (languageCode.startsWith('pt')) {
                // Portuguese speakers â†’ Brazilian Real (suggested)
                suggestedCurrency = 'BRL';
                console.log('Portuguese detected â†’ suggested BRL');
            } else if (languageCode.startsWith('en')) {
                // English speakers â†’ US Dollar (suggested)
                suggestedCurrency = 'USD';
                console.log('English detected â†’ suggested USD');
            } else if (languageCode.startsWith('fr') || languageCode.startsWith('de') || 
                      languageCode.startsWith('it') || languageCode.startsWith('nl') ||
                      languageCode.startsWith('be') || languageCode.startsWith('at') ||
                      languageCode.startsWith('ch')) {
                // European languages â†’ Euro (suggested)
                suggestedCurrency = 'EUR';
                console.log('European language detected â†’ suggested EUR');
            }
            
            return suggestedCurrency;
        }

        // Initialize currency system
        function initializeCurrency() {
            // Check if user has a saved currency preference
            const savedCurrency = localStorage.getItem('selectedCurrency');
            let detectedCurrency;
            
            if (savedCurrency && exchangeRates[savedCurrency]) {
                detectedCurrency = savedCurrency;
                console.log('Using saved currency preference:', savedCurrency);
            } else {
                detectedCurrency = detectUserLanguageAndCurrency();
                console.log('Auto-detected currency:', detectedCurrency);
            }
            
            currentCurrency = detectedCurrency;
            
            // Update selected flag
            const selectedFlag = document.getElementById('selectedFlag');
            const flagOption = document.querySelector(`[data-currency="${detectedCurrency}"]`);
            if (flagOption && selectedFlag) {
                selectedFlag.textContent = flagOption.dataset.flag;
            }
            
            console.log('ðŸŒ Auto-set currency:', currentCurrency, 'from browser:', navigator.language);
            
            updateCurrencyDisplay();
        }

        // ===== SISTEMA DE INTEGRAÃ‡ÃƒO COM FORNECEDORES =====
        
        // Dados dos fornecedores para cada produto
        const suppliers = {
            'phoera-foundation': {
                name: 'PHOERA Cosmetics',
                email: 'orders@phoera.com',
                phone: '+1 (555) 123-4567',
                address: '123 Beauty Lane, Los Angeles, CA 90210',
                contactPerson: 'Maria Rodriguez',
                apiEndpoint: 'https://api.phoera.com/orders',
                products: ['2 Pack PHOERA Foundation + Combo'],
                processingTime: '24-48 horas',
                shippingMethod: 'Express Shipping',
                minOrderValue: 50.00,
                currency: 'USD'
            }
        };

        // FunÃ§Ã£o para enviar pedido para fornecedor
        async function sendOrderToSupplier(orderData, productType) {
            const supplier = suppliers[productType];
            if (!supplier) {
                console.error('Fornecedor nÃ£o encontrado para:', productType);
                return { success: false, error: 'Fornecedor nÃ£o encontrado' };
            }

            try {
                // Simular envio para API do fornecedor
                const orderPayload = {
                    supplier: supplier.name,
                    orderId: generateOrderId(),
                    timestamp: new Date().toISOString(),
                    customer: {
                        name: orderData.firstName + ' ' + orderData.lastName,
                        email: orderData.email,
                        phone: orderData.phone,
                        address: {
                            street: orderData.address,
                            city: orderData.city,
                            state: orderData.state,
                            zipCode: orderData.zipCode,
                            country: 'Brasil'
                        }
                    },
                    items: orderData.selectedOffers.map(offerKey => ({
                        product: offers[offerKey].name,
                        price: offers[offerKey].price,
                        quantity: 1
                    })),
                    payment: {
                        method: orderData.paymentMethod,
                        total: orderData.total,
                        currency: currentCurrency
                    },
                    specialInstructions: orderData.observations || ''
                };

                console.log('ðŸ“¦ Enviando pedido para fornecedor:', supplier.name);
                console.log('ðŸ“‹ Dados do pedido:', orderPayload);

                // Simular delay de API
                await new Promise(resolve => setTimeout(resolve, 2000));

                // Simular resposta da API (em produÃ§Ã£o, seria uma chamada real)
                const response = {
                    success: true,
                    orderId: orderPayload.orderId,
                    supplierOrderId: 'SUP-' + Date.now(),
                    estimatedDelivery: calculateDeliveryDate(supplier.processingTime),
                    trackingNumber: 'TRK' + Math.random().toString(36).substr(2, 9).toUpperCase(),
                    supplier: supplier.name,
                    contactInfo: {
                        email: supplier.email,
                        phone: supplier.phone,
                        contactPerson: supplier.contactPerson
                    }
                };

                // Salvar pedido no localStorage para histÃ³rico
                saveOrderToHistory(orderPayload, response);

                return response;

            } catch (error) {
                console.error('âŒ Erro ao enviar pedido para fornecedor:', error);
                return { 
                    success: false, 
                    error: 'Erro ao processar pedido com fornecedor',
                    details: error.message 
                };
            }
        }

        // Gerar ID Ãºnico para pedido
        function generateOrderId() {
            return 'ORD-' + Date.now() + '-' + Math.random().toString(36).substr(2, 4).toUpperCase();
        }

        // Calcular data de entrega estimada
        function calculateDeliveryDate(processingTime) {
            const days = processingTime.includes('24-48') ? 3 : 2;
            const deliveryDate = new Date();
            deliveryDate.setDate(deliveryDate.getDate() + days);
            return deliveryDate.toLocaleDateString('pt-BR');
        }

        // Salvar pedido no histÃ³rico
        function saveOrderToHistory(orderData, supplierResponse) {
            const orderHistory = JSON.parse(localStorage.getItem('orderHistory') || '[]');
            const orderRecord = {
                ...orderData,
                supplierResponse,
                orderDate: new Date().toISOString(),
                status: 'Enviado ao fornecedor'
            };
            
            orderHistory.unshift(orderRecord);
            
            // Manter apenas os Ãºltimos 50 pedidos
            if (orderHistory.length > 50) {
                orderHistory.splice(50);
            }
            
            localStorage.setItem('orderHistory', JSON.stringify(orderHistory));
            console.log('ðŸ’¾ Pedido salvo no histÃ³rico:', orderRecord.orderId);
        }

        // FunÃ§Ã£o para mostrar status do pedido
        function showOrderStatus(orderResponse) {
            const statusModal = document.createElement('div');
            statusModal.className = 'order-status-modal';
            statusModal.style.cssText = `
                position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                background: rgba(0,0,0,0.8); z-index: 10002; display: flex;
                align-items: center; justify-content: center; padding: 20px;
            `;

            statusModal.innerHTML = `
                <div style="
                    background: white; border-radius: 15px; padding: 40px;
                    max-width: 500px; width: 100%; text-align: center;
                    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
                    animation: modalSlideIn 0.3s ease-out;
                ">
                    <div style="color: #28a745; font-size: 3rem; margin-bottom: 20px;">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h2 style="color: #333; margin-bottom: 15px;">
                        Pedido Enviado com Sucesso! ðŸŽ‰
                    </h2>
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 20px 0; text-align: left;">
                        <p><strong>ID do Pedido:</strong> ${orderResponse.orderId}</p>
                        <p><strong>ID do Fornecedor:</strong> ${orderResponse.supplierOrderId}</p>
                        <p><strong>Fornecedor:</strong> ${orderResponse.supplier}</p>
                        <p><strong>Entrega Estimada:</strong> ${orderResponse.estimatedDelivery}</p>
                        <p><strong>CÃ³digo de Rastreamento:</strong> ${orderResponse.trackingNumber}</p>
                    </div>
                    <div style="background: #e3f2fd; padding: 15px; border-radius: 8px; margin: 20px 0;">
                        <h4 style="color: #1976d2; margin-bottom: 10px;">
                            <i class="fas fa-info-circle"></i> InformaÃ§Ãµes do Fornecedor
                        </h4>
                        <p><strong>Contato:</strong> ${orderResponse.contactInfo.contactPerson}</p>
                        <p><strong>Email:</strong> ${orderResponse.contactInfo.email}</p>
                        <p><strong>Telefone:</strong> ${orderResponse.contactInfo.phone}</p>
                    </div>
                    <button onclick="this.closest('.order-status-modal').remove(); window.location.href='../../index.html';" 
                            style="
                                background: linear-gradient(135deg, #d4af37, #b8941f);
                                color: white; border: none; padding: 12px 30px;
                                border-radius: 8px; font-size: 1.1rem; font-weight: 600;
                                cursor: pointer; transition: all 0.3s ease;
                            ">
                        <i class="fas fa-home"></i> Voltar ao InÃ­cio
                    </button>
                </div>
            `;

            document.body.appendChild(statusModal);
        }

        // Modificar funÃ§Ã£o de submit do formulÃ¡rio para integrar com fornecedores
        document.getElementById('checkoutForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            // Coletar dados do formulÃ¡rio
            const formData = new FormData(this);
            const orderData = {};
            formData.forEach((value, key) => {
                orderData[key] = value;
            });
            
            // Adicionar dados das ofertas selecionadas
            orderData.selectedOffers = selectedOffers;
            orderData.offerNames = selectedOffers.map(key => offers[key].name);
            
            // Calcular total
            let total = 0;
            selectedOffers.forEach(offerKey => {
                const offer = offers[offerKey];
                const discountAmount = (offer.price * offer.discount / 100);
                const offerTotal = offer.price - discountAmount;
                total += offerTotal;
            });
            
            orderData.total = total;
            orderData.currency = currentCurrency;

            // Mostrar loading
            const submitBtn = this.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processando Pedido...';
            submitBtn.disabled = true;

            try {
                // Enviar pedido para fornecedor
                const supplierResponse = await sendOrderToSupplier(orderData, 'phoera-foundation');
                
                if (supplierResponse.success) {
                    // Mostrar sucesso
                    showOrderStatus(supplierResponse);
                    
                    // Log para desenvolvimento
                    console.log('âœ… Pedido processado com sucesso:', supplierResponse);
                } else {
                    // Mostrar erro
                    alert('Erro ao processar pedido: ' + supplierResponse.error);
                    console.error('âŒ Erro no pedido:', supplierResponse);
                }
                
            } catch (error) {
                alert('Erro de conexÃ£o. Tente novamente.');
                console.error('âŒ Erro na requisiÃ§Ã£o:', error);
            } finally {
                // Restaurar botÃ£o
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
            }
        });






        // Initialize all systems when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initializeCurrency();
            
            // Add event listeners for flag selection
            document.querySelectorAll('.flag-option').forEach(flag => {
                flag.addEventListener('click', function() {
                    const currency = this.dataset.currency;
                    const flagEmoji = this.dataset.flag;
                    selectFlagOption(currency, flagEmoji);
                });
            });
            
            // Close dropdown when clicking outside
            document.addEventListener('click', function(e) {
                const dropdown = document.querySelector('.flag-dropdown');
                const menu = document.getElementById('flagDropdownMenu');
                if (dropdown && menu && !dropdown.contains(e.target)) {
                    dropdown.classList.remove('open');
                    menu.classList.remove('open');
                }
            });
            
            // Close dropdown when clicking outside
            document.addEventListener('click', function(event) {
                const container = document.querySelector('.flag-dropdown-container');
                if (container && !container.contains(event.target)) {
                    const dropdown = document.querySelector('.flag-dropdown');
                    const menu = document.getElementById('flagDropdownMenu');
                    dropdown.classList.remove('open');
                    menu.classList.remove('open');
                }
            });
            
            // Log sistema de fornecedores
            console.log('ðŸ­ Sistema de fornecedores inicializado');
            console.log('ðŸ“‹ Fornecedores disponÃ­veis:', Object.keys(suppliers));
            
            // Inicializar sistema de seleÃ§Ã£o de imagens
            initializeImageSelection();
            
            // Inicializar galeria de produtos
            initializeProductGallery();
        });
        
        // Sistema de seleÃ§Ã£o de imagens
        function initializeImageSelection() {
            const imageItems = document.querySelectorAll('.small-checkbox-item');
            const mainProductImage = document.getElementById('mainProductImage');
            
            // FunÃ§Ã£o para verificar se a imagem carrega
            function testImageLoad(imagePath, callback) {
                const testImg = new Image();
                testImg.onload = () => callback(true);
                testImg.onerror = () => callback(false);
                testImg.src = imagePath;
            }
            
            imageItems.forEach((item, index) => {
                const imagePath = item.getAttribute('data-image');
                const imageName = item.getAttribute('data-name');
                
                // Testar se a imagem carrega
                testImageLoad(imagePath, (success) => {
                    if (!success) {
                        console.warn('âš ï¸ Imagem nÃ£o encontrada:', imagePath);
                        // Adicionar placeholder visual
                        const img = item.querySelector('.small-image');
                        if (img) {
                            img.style.background = '#f0f0f0';
                            img.style.border = '2px dashed #ccc';
                            img.alt = 'Imagem nÃ£o disponÃ­vel';
                        }
                    }
                });
                
                item.addEventListener('click', function() {
                    // Remover seleÃ§Ã£o de todos os itens
                    imageItems.forEach(img => img.classList.remove('selected'));
                    
                    // Adicionar seleÃ§Ã£o ao item clicado
                    this.classList.add('selected');
                    
                    // Capturar a cor selecionada
                    selectedColor = {
                        name: imageName,
                        image: imagePath
                    };
                    
                    console.log('Cor selecionada:', selectedColor);
                    
                    // Atualizar imagem principal
                    if (mainProductImage && imagePath) {
                        // Verificar se a imagem principal carrega
                        testImageLoad(imagePath, (success) => {
                            if (success) {
                                mainProductImage.src = imagePath;
                                mainProductImage.alt = imageName;
                                
                                // Adicionar efeito de transiÃ§Ã£o
                                mainProductImage.style.opacity = '0.7';
                                setTimeout(() => {
                                    mainProductImage.style.opacity = '1';
                                }, 150);
                                
                                console.log('âœ… Imagem carregada:', imageName);
                            } else {
                                console.error('âŒ Erro ao carregar imagem:', imagePath);
                                // Manter imagem atual se a nova nÃ£o carregar
                            }
                        });
                    }
                    
                    console.log('ðŸ–¼ï¸ Imagem selecionada:', imageName);
                    console.log('ðŸ“ Caminho:', imagePath);
                });
            });
            
            // Selecionar primeira imagem por padrÃ£o
            if (imageItems.length > 0) {
                imageItems[0].click();
            }
        }
        
        // Sistema de galeria de produtos
        function initializeProductGallery() {
            const galleryImages = [
                { src: 'Galeria/Kit.jpeg' },
                { src: 'Galeria/opcional.png' },
                { src: 'Galeria/opcional 1.png' },
                { src: 'Galeria/opcional 3.png' },
                { src: 'Galeria/opcional 4.png' },
                { src: 'Galeria/Screenshot 2025-09-20 114923.png' }
            ];
            
            let currentImageIndex = 0;
            const mainImage = document.getElementById('galleryMainImage');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const indicatorsContainer = document.getElementById('galleryIndicators');
            
            // Criar indicadores
            galleryImages.forEach((_, index) => {
                const indicator = document.createElement('div');
                indicator.className = 'gallery-indicator';
                if (index === 0) indicator.classList.add('active');
                indicator.addEventListener('click', () => goToImage(index));
                indicatorsContainer.appendChild(indicator);
            });
            
            function updateImage(direction = null) {
                const currentImage = galleryImages[currentImageIndex];
                
                // Aplicar transiÃ§Ã£o de saÃ­da
                if (direction === 'next') {
                    mainImage.classList.add('slide-right');
                } else if (direction === 'prev') {
                    mainImage.classList.add('slide-left');
                }
                
                // Aguardar transiÃ§Ã£o de saÃ­da e trocar imagem
                setTimeout(() => {
                    mainImage.src = currentImage.src;
                    mainImage.alt = `Imagem ${currentImageIndex + 1}`;
                    
                    // Remover classes de saÃ­da e aplicar entrada
                    mainImage.classList.remove('slide-left', 'slide-right');
                    
                    if (direction === 'next') {
                        mainImage.classList.add('slide-in-left');
                    } else if (direction === 'prev') {
                        mainImage.classList.add('slide-in-right');
                    }
                    
                    // Remover classes de entrada apÃ³s animaÃ§Ã£o
                    setTimeout(() => {
                        mainImage.classList.remove('slide-in-left', 'slide-in-right');
                    }, 500);
                    
                }, 250);
                
                // Atualizar indicadores
                const indicators = document.querySelectorAll('.gallery-indicator');
                indicators.forEach((indicator, index) => {
                    indicator.classList.toggle('active', index === currentImageIndex);
                });
                
                // Atualizar botÃµes
                prevBtn.disabled = currentImageIndex === 0;
                nextBtn.disabled = currentImageIndex === galleryImages.length - 1;
                
                console.log('ðŸ–¼ï¸ Galeria: Imagem', currentImageIndex + 1, 'de', galleryImages.length, direction ? `(${direction})` : '');
            }
            
            function goToImage(index) {
                currentImageIndex = index;
                updateImage();
            }
            
            function nextImage() {
                if (currentImageIndex < galleryImages.length - 1) {
                    currentImageIndex++;
                    updateImage('next');
                }
            }
            
            function prevImage() {
                if (currentImageIndex > 0) {
                    currentImageIndex--;
                    updateImage('prev');
                }
            }
            
            // Event listeners
            nextBtn.addEventListener('click', nextImage);
            prevBtn.addEventListener('click', prevImage);
            
            // NavegaÃ§Ã£o por teclado
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') {
                    e.preventDefault();
                    prevImage();
                }
                if (e.key === 'ArrowRight') {
                    e.preventDefault();
                    nextImage();
                }
            });
            
            // Slideshow automÃ¡tico
            let slideshowInterval;
            const slideshowDelay = 4000; // 4 segundos
            
            function startSlideshow() {
                slideshowInterval = setInterval(() => {
                    if (currentImageIndex < galleryImages.length - 1) {
                        nextImage();
                    } else {
                        currentImageIndex = 0;
                        updateImage('next');
                    }
                }, slideshowDelay);
            }
            
            function stopSlideshow() {
                if (slideshowInterval) {
                    clearInterval(slideshowInterval);
                    slideshowInterval = null;
                }
            }
            
            // Pausar slideshow ao interagir
            prevBtn.addEventListener('click', () => {
                stopSlideshow();
                setTimeout(startSlideshow, 10000); // Reiniciar apÃ³s 10 segundos
            });
            nextBtn.addEventListener('click', () => {
                stopSlideshow();
                setTimeout(startSlideshow, 10000); // Reiniciar apÃ³s 10 segundos
            });
            
            // Pausar slideshow ao passar o mouse sobre a galeria
            const galleryContainer = document.querySelector('.simple-gallery');
            if (galleryContainer) {
                galleryContainer.addEventListener('mouseenter', stopSlideshow);
                galleryContainer.addEventListener('mouseleave', startSlideshow);
            }
            
            // Inicializar
            updateImage();
            
            // Iniciar slideshow automÃ¡tico
            startSlideshow();
            
            console.log('ðŸ–¼ï¸ Galeria de produtos inicializada com', galleryImages.length, 'imagens');
        }
    </script>

    <!-- Sistema de Reviews JavaScript -->
    <script>
        // Sistema de Reviews
        let currentUser = null;
        let userReviews = JSON.parse(localStorage.getItem('userReviews')) || [];
        let selectedRating = 0;

        // Verificar se usuÃ¡rio estÃ¡ logado
        function checkLogin() {
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                return true;
            }
            return false;
        }

        // Mostrar modal de login
        function showLoginModal() {
            document.getElementById('loginModal').style.display = 'flex';
        }

        // Fechar modal de login
        function closeLoginModal() {
            document.getElementById('loginModal').style.display = 'none';
        }

        // Mostrar modal de review
        function showReviewModal() {
            if (!checkLogin()) {
                showLoginModal();
                return;
            }
            document.getElementById('reviewModal').style.display = 'flex';
        }

        // Fechar modal de review
        function closeReviewModal() {
            document.getElementById('reviewModal').style.display = 'none';
            document.getElementById('reviewForm').reset();
            selectedRating = 0;
            updateStarDisplay();
            document.getElementById('imagePreview').innerHTML = '';
        }

        // Atualizar display das estrelas
        function updateStarDisplay() {
            const stars = document.querySelectorAll('#starRating i');
            stars.forEach((star, index) => {
                if (index < selectedRating) {
                    star.style.color = '#d4af37';
                } else {
                    star.style.color = '#ddd';
                }
            });
        }

        // Event listeners para sistema de reviews
        document.addEventListener('DOMContentLoaded', function() {
            // BotÃ£o adicionar review
            const addReviewBtn = document.getElementById('addReviewBtn');
            if (addReviewBtn) {
                addReviewBtn.addEventListener('click', showReviewModal);
            }

            // Fechar modais
            document.getElementById('closeLoginModal').addEventListener('click', closeLoginModal);
            document.getElementById('closeReviewModal').addEventListener('click', closeReviewModal);

            // Login form
            document.getElementById('loginForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;
                
                // Simular login (em produÃ§Ã£o, validar com backend)
                if (email && password) {
                    currentUser = { email: email, name: email.split('@')[0] };
                    localStorage.setItem('currentUser', JSON.stringify(currentUser));
                    closeLoginModal();
                    showReviewModal();
                } else {
                    alert('Por favor, preencha todos os campos');
                }
            });

            // Sistema de estrelas
            const stars = document.querySelectorAll('#starRating i');
            stars.forEach((star, index) => {
                star.addEventListener('click', function() {
                    selectedRating = index + 1;
                    updateStarDisplay();
                });
                star.addEventListener('mouseenter', function() {
                    for (let i = 0; i <= index; i++) {
                        stars[i].style.color = '#d4af37';
                    }
                });
                star.addEventListener('mouseleave', function() {
                    updateStarDisplay();
                });
            });

            // Preview de imagem
            document.getElementById('reviewImage').addEventListener('change', function(e) {
                const file = e.target.files[0];
                const preview = document.getElementById('imagePreview');
                
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        preview.innerHTML = `
                            <img src="${e.target.result}" style="max-width: 200px; max-height: 200px; border-radius: 8px; border: 2px solid #ddd;">
                        `;
                    };
                    reader.readAsDataURL(file);
                } else {
                    preview.innerHTML = '';
                }
            });

            // FormulÃ¡rio de review
            document.getElementById('reviewForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                if (selectedRating === 0) {
                    alert('Por favor, selecione uma avaliaÃ§Ã£o');
                    return;
                }

                const reviewData = {
                    id: Date.now().toString(),
                    name: document.getElementById('reviewerName').value,
                    rating: selectedRating,
                    text: document.getElementById('reviewText').value,
                    image: null,
                    date: new Date().toLocaleDateString('pt-BR'),
                    verified: true
                };

                // Processar imagem se houver
                const imageFile = document.getElementById('reviewImage').files[0];
                if (imageFile) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        reviewData.image = e.target.result;
                        saveReview(reviewData);
                    };
                    reader.readAsDataURL(imageFile);
                } else {
                    saveReview(reviewData);
                }
            });

            // Carregar reviews existentes
            loadUserReviews();
        });

        // Salvar review
        function saveReview(reviewData) {
            userReviews.push(reviewData);
            localStorage.setItem('userReviews', JSON.stringify(userReviews));
            
            // Adicionar review ao DOM
            addReviewToDOM(reviewData);
            
            closeReviewModal();
            alert('Review adicionada com sucesso!');
        }

        // Adicionar review ao DOM
        function addReviewToDOM(reviewData) {
            const reviewsContainer = document.querySelector('.reviews-container');
            const reviewElement = document.createElement('div');
            reviewElement.className = 'review-item clickable-review';
            reviewElement.setAttribute('data-review-id', reviewData.id);
            reviewElement.setAttribute('data-author', reviewData.name);
            reviewElement.setAttribute('data-date', reviewData.date);
            reviewElement.setAttribute('data-stars', reviewData.rating);
            
            let imageHtml = '';
            if (reviewData.image) {
                imageHtml = `<img src="${reviewData.image}" alt="Review Image" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">`;
            } else {
                imageHtml = `<div class="review-avatar"><i class="fas fa-user"></i></div>`;
            }

            let starsHtml = '';
            for (let i = 1; i <= 5; i++) {
                if (i <= reviewData.rating) {
                    starsHtml += '<i class="fas fa-star"></i>';
                } else {
                    starsHtml += '<i class="far fa-star"></i>';
                }
            }

            reviewElement.innerHTML = `
                <div class="review-image">
                    ${imageHtml}
                </div>
                <div class="review-content">
                    <div class="review-stars">
                        ${starsHtml}
                    </div>
                    <p class="review-text">"${reviewData.text}"</p>
                    <div class="review-author">
                        <strong>${reviewData.name}</strong>
                        <span class="review-date">Compra verificada - ${reviewData.date}</span>
                    </div>
                </div>
            `;

            // Adicionar event listener para o modal
            reviewElement.addEventListener('click', function() {
                openReviewModal(reviewData.name, reviewData.date, reviewData.rating, reviewData.text);
            });

            reviewsContainer.insertBefore(reviewElement, reviewsContainer.firstChild);
        }

        // Carregar reviews do usuÃ¡rio
        function loadUserReviews() {
            userReviews.forEach(review => {
                addReviewToDOM(review);
            });
        }
    </script>

    <!-- Modal de Login -->
    <div id="loginModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 10000; align-items: center; justify-content: center;">
        <div style="background: white; padding: 30px; border-radius: 15px; max-width: 400px; width: 90%; text-align: center;">
            <h3 style="color: #d4af37; margin-bottom: 20px;">Fazer Login</h3>
            <form id="loginForm">
                <div style="margin-bottom: 15px;">
                    <input type="email" id="loginEmail" placeholder="Email" required style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 16px;">
                </div>
                <div style="margin-bottom: 20px;">
                    <input type="password" id="loginPassword" placeholder="Senha" required style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 16px;">
                </div>
                <button type="submit" style="background: #d4af37; color: white; border: none; padding: 12px 30px; border-radius: 8px; font-size: 16px; cursor: pointer; margin-right: 10px;">Entrar</button>
                <button type="button" id="closeLoginModal" style="background: #ccc; color: white; border: none; padding: 12px 30px; border-radius: 8px; font-size: 16px; cursor: pointer;">Cancelar</button>
            </form>
        </div>
    </div>

    <!-- Modal de Review -->
    <div id="reviewModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 10000; align-items: center; justify-content: center;">
        <div style="background: white; padding: 30px; border-radius: 15px; max-width: 500px; width: 90%; max-height: 80vh; overflow-y: auto;">
            <h3 style="color: #d4af37; margin-bottom: 20px;">Escrever AvaliaÃ§Ã£o</h3>
            <form id="reviewForm">
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600;">AvaliaÃ§Ã£o:</label>
                    <div id="starRating" style="display: flex; gap: 5px; justify-content: center;">
                        <i class="fas fa-star" data-rating="1" style="font-size: 24px; color: #ddd; cursor: pointer; transition: color 0.3s;"></i>
                        <i class="fas fa-star" data-rating="2" style="font-size: 24px; color: #ddd; cursor: pointer; transition: color 0.3s;"></i>
                        <i class="fas fa-star" data-rating="3" style="font-size: 24px; color: #ddd; cursor: pointer; transition: color 0.3s;"></i>
                        <i class="fas fa-star" data-rating="4" style="font-size: 24px; color: #ddd; cursor: pointer; transition: color 0.3s;"></i>
                        <i class="fas fa-star" data-rating="5" style="font-size: 24px; color: #ddd; cursor: pointer; transition: color 0.3s;"></i>
                    </div>
                </div>
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600;">TÃ­tulo:</label>
                    <input type="text" id="reviewTitle" required style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 16px;" placeholder="TÃ­tulo da sua avaliaÃ§Ã£o">
                </div>
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600;">ComentÃ¡rio:</label>
                    <textarea id="reviewComment" required style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 16px; min-height: 100px; resize: vertical;" placeholder="Compartilhe sua experiÃªncia com o produto"></textarea>
                </div>
                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600;">Foto (opcional):</label>
                    <input type="file" id="reviewImage" accept="image/*" style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 16px;">
                    <div id="imagePreview" style="margin-top: 10px;"></div>
                </div>
                <div style="text-align: center;">
                    <button type="submit" style="background: #d4af37; color: white; border: none; padding: 12px 30px; border-radius: 8px; font-size: 16px; cursor: pointer; margin-right: 10px;">Enviar AvaliaÃ§Ã£o</button>
                    <button type="button" id="closeReviewModal" style="background: #ccc; color: white; border: none; padding: 12px 30px; border-radius: 8px; font-size: 16px; cursor: pointer;">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Payment method control
        function setupPaymentMethodControl() {
            const paymentMethodSelect = document.getElementById('paymentMethod');
            const paypalButton = document.getElementById('paypal-payment-button');
            const pixInfo = document.getElementById('pix-payment-info');
            
            if (paymentMethodSelect) {
                paymentMethodSelect.addEventListener('change', function() {
                    const selectedMethod = this.value;
                    
                    // Hide all payment options first
                    if (paypalButton) paypalButton.style.display = 'none';
                    if (pixInfo) pixInfo.style.display = 'none';
                    
                    // Show selected payment method
                    switch(selectedMethod) {
                        case 'paypal':
                            if (paypalButton) paypalButton.style.display = 'block';
                            break;
                        case 'pix':
                            if (pixInfo) pixInfo.style.display = 'block';
                            break;
                    }
                });
            }
        }
        
        // Initialize payment method control and PayPal
        document.addEventListener('DOMContentLoaded', function() {
            setupPaymentMethodControl();
            initializePayPal();
        });

        // PayPal integration
        function initializePayPal() {
            // Wait for PayPal SDK to be loaded
            if (typeof paypal === 'undefined') {
                console.log('PayPal SDK not loaded yet, retrying...');
                setTimeout(initializePayPal, 100);
                return;
            }

            console.log('PayPal SDK loaded, initializing buttons...');

        paypal.Buttons({
            createOrder: function(data, actions) {
                    return new Promise((resolve, reject) => {
                        try {
                            // Validate required variables
                            if (!selectedOffers || !Array.isArray(selectedOffers) || selectedOffers.length === 0) {
                                throw new Error('No offers selected');
                            }
                            
                            if (!currentCurrency) {
                                currentCurrency = 'USD'; // Fallback
                            }
                            
                            // Get total from order summary (converted to USD for PayPal)
                            const totalElement = document.getElementById('totalAmount');
                            let totalAmount = 0;
                            
                            if (totalElement) {
                                const totalText = totalElement.textContent;
                                const totalValue = parseFloat(totalText.replace(/[^\d.,]/g, '').replace(',', '.'));
                                
                                // Convert to USD if needed
                                if (summaryCurrency === 'BRL') {
                                    totalAmount = totalValue / 5.2; // Convert BRL to USD
                                } else if (summaryCurrency === 'EUR') {
                                    totalAmount = totalValue / 0.92; // Convert EUR to USD
                                } else {
                                    totalAmount = totalValue; // Already USD
                                }
                            } else {
                                // Fallback to calculation
                                totalAmount = selectedOffers.reduce((total, offerType) => {
                                    if (!offers[offerType]) {
                                        console.warn('Offer not found:', offerType);
                                        return total;
                                    }
                                    
                                    const price = offers[offerType].prices && offers[offerType].prices[currentCurrency] 
                                        ? offers[offerType].prices[currentCurrency] 
                                        : offers[offerType].price || 0;
                                    
                                    return total + price;
                                }, 0);
                            }
                            
                            const productNames = selectedOffers.map(offerType => {
                                let productName = offers[offerType] ? offers[offerType].name : 'Produto';
                                
                                // Se for a oferta bÃ¡sica e hÃ¡ cor selecionada, usar apenas o nome da cor
                                if (offerType === 'basic' && selectedColor) {
                                    productName = selectedColor.name;
                                }
                                
                                return productName;
                            }).join(' + ');
                            
                            console.log('PayPal order creation:', {
                                selectedOffers: selectedOffers,
                                totalAmount: totalAmount,
                                currency: currentCurrency,
                                productNames: productNames
                            });
                            
                            if (totalAmount <= 0) {
                                throw new Error('Invalid total amount: ' + totalAmount);
                            }
                            
                            // Create order with timeout
                            const orderPromise = actions.order.create({
                    purchase_units: [{
                        amount: {
                            value: totalAmount.toFixed(2),
                                        currency_code: 'USD'
                                    },
                                    description: productNames || 'PHOERA Foundation Products'
                                }]
                            });
                            
                            // Add timeout to prevent hanging
                            const timeoutPromise = new Promise((_, timeoutReject) => {
                                setTimeout(() => {
                                    timeoutReject(new Error('PayPal order creation timeout'));
                                }, 8000);
                            });
                            
                            Promise.race([orderPromise, timeoutPromise])
                                .then(resolve)
                                .catch(reject);
                                
                        } catch (error) {
                            console.error('Error creating PayPal order:', error);
                            reject(error);
                        }
                });
            },
            onApprove: function(data, actions) {
                return actions.order.capture().then(function(details) {
                        console.log('PayPal payment approved:', details);
                    alert('Pagamento aprovado! ID da transaÃ§Ã£o: ' + details.id);
                    processCheckout();
                    }).catch(function(error) {
                        console.error('PayPal payment error:', error);
                        alert('Erro no processamento do pagamento. Tente novamente.');
                    });
                },
                onError: function(err) {
                    console.error('PayPal error:', err);
                    alert('Erro no PayPal. Tente novamente ou escolha outra forma de pagamento.');
                },
                onCancel: function(data) {
                    console.log('PayPal payment cancelled:', data);
                }
            }).render('#paypal-payment-button').then(function() {
                console.log('PayPal buttons rendered successfully');
            }).catch(function(error) {
                console.error('Error rendering PayPal buttons:', error);
                // Retry after a delay
                setTimeout(() => {
                    console.log('Retrying PayPal button initialization...');
                    initializePayPal();
                }, 2000);
            });
        }
    </script>

    <script>
        // FunÃ§Ã£o de processamento de checkout
        function processCheckout() {
            const email = document.getElementById('email').value;
            const paymentMethod = document.getElementById('paymentMethod').value;
            const observations = document.getElementById('observations').value;

            if (!email || !paymentMethod) {
                alert('Por favor, preencha o email e selecione uma forma de pagamento.');
                return;
            }
            
            // Validar se a oferta bÃ¡sica estÃ¡ selecionada e se uma cor foi escolhida
            if (selectedOffers.includes('basic') && !selectedColor) {
                alert('Por favor, selecione uma cor/tonalidade para a base PHOERA Foundation.');
                return;
            }
            
            const orderData = {
                id: 'ORDER_' + Date.now(),
                products: selectedOffers.map(offerType => {
                    const product = {
                        ...offers[offerType],
                        totalPrice: offers[offerType].prices[currentCurrency]
                    };
                    
                    // Se for a oferta bÃ¡sica e hÃ¡ cor selecionada, usar apenas o nome da cor
                    if (offerType === 'basic' && selectedColor) {
                        product.selectedColor = selectedColor;
                        product.name = selectedColor.name;
                    }
                    
                    return product;
                }),
                customer: {
                    email
                },
                paymentMethod,
                observations,
                total: selectedOffers.reduce((total, offerType) => total + offers[offerType].prices[currentCurrency], 0),
                date: new Date().toISOString()
            };
            
            // Save order
            let orders = JSON.parse(localStorage.getItem('orders') || '[]');
            orders.push(orderData);
            localStorage.setItem('orders', JSON.stringify(orders));
            
            // Show specific message based on payment method
            let successMessage = `Pedido realizado com sucesso!\n\nProdutos: ${orderData.products.map(p => p.name).join(' + ')}\nTotal: ${formatPrice(orderData.total)}\n\n`;
            
            switch(paymentMethod) {
                case 'paypal':
                    successMessage += 'O pagamento via PayPal foi processado. VocÃª receberÃ¡ um email de confirmaÃ§Ã£o em breve.';
                    break;
                case 'pix':
                    successMessage += 'VocÃª receberÃ¡ as instruÃ§Ãµes de pagamento PIX por email. ApÃ³s o pagamento, seu pedido serÃ¡ processado.';
                    break;
                default:
                    successMessage += 'VocÃª receberÃ¡ um email de confirmaÃ§Ã£o em breve.';
            }
            
            alert(successMessage);
            
            // Redirect to home page
            window.location.href = '../../index.html';
        }

        // Checkout Translation System (without currency converter)
        class CheckoutTranslator {
            constructor() {
                this.userCountry = null;
                this.userCurrency = 'USD';
                this.isInitialized = false;
                this.init();
            }
            
            async init() {
                try {
                    await this.detectUserLocation();
                    this.updatePageContent();
                    this.isInitialized = true;
                    console.log(`Checkout translator initialized. Currency: ${this.userCurrency}`);
                } catch (error) {
                    console.error('Error initializing checkout translator:', error);
                    this.userCurrency = 'USD';
                    this.updatePageContent();
                }
            }
            
            async detectUserLocation() {
                try {
                    let countryCode = null;
                    
                    // Check if running from file:// protocol
                    if (window.location.protocol === 'file:') {
                        console.log('Running from file:// protocol, using fallback detection');
                        // Try to detect from browser language
                        const browserLang = navigator.language || navigator.userLanguage;
                        if (browserLang.startsWith('pt')) {
                            countryCode = 'BR';
                            console.log('Detected Portuguese language, assuming Brazil');
                        } else if (browserLang.startsWith('es')) {
                            countryCode = 'ES';
                            console.log('Detected Spanish language, assuming Spain');
                        } else {
                            countryCode = 'US';
                            console.log('Using default US location');
                        }
                    } else {
                        try {
                            const response = await fetch('https://ipapi.co/json/', { 
                                timeout: 5000,
                                mode: 'cors'
                            });
                            if (response.ok) {
                                const data = await response.json();
                                countryCode = data.country_code;
                                console.log('Location detected via ipapi.co:', countryCode);
                            }
                        } catch (e) {
                            console.log('ipapi.co failed, trying alternative...');
                        }
                        
                        if (!countryCode) {
                            try {
                                const response = await fetch('https://ipinfo.io/json', { 
                                    timeout: 5000,
                                    mode: 'cors'
                                });
                                if (response.ok) {
                                    const data = await response.json();
                                    countryCode = data.country;
                                    console.log('Location detected via ipinfo.io:', countryCode);
                                }
                            } catch (e) {
                                console.log('ipinfo.io also failed');
                            }
                        }
                    }
                    
                    this.userCountry = countryCode;
                    
                    const countryToCurrency = {
                        'BR': 'BRL',
                        'US': 'USD', 'CA': 'USD', 'MX': 'USD', 'AR': 'USD', 'CL': 'USD', 'CO': 'USD', 'PE': 'USD', 'UY': 'USD', 'BO': 'USD', 'PY': 'USD', 'VE': 'USD', 'EC': 'USD', 'GY': 'USD', 'SR': 'USD', 'GF': 'USD', 'FK': 'USD', 'BZ': 'USD', 'GT': 'USD', 'HN': 'USD', 'SV': 'USD', 'NI': 'USD', 'CR': 'USD', 'PA': 'USD', 'CU': 'USD', 'JM': 'USD', 'HT': 'USD', 'DO': 'USD', 'PR': 'USD', 'VI': 'USD', 'AG': 'USD', 'BB': 'USD', 'DM': 'USD', 'GD': 'USD', 'KN': 'USD', 'LC': 'USD', 'VC': 'USD', 'TT': 'USD', 'BS': 'USD', 'AU': 'USD', 'NZ': 'USD', 'JP': 'USD', 'KR': 'USD', 'SG': 'USD', 'HK': 'USD', 'TW': 'USD', 'TH': 'USD', 'MY': 'USD', 'ID': 'USD', 'PH': 'USD', 'VN': 'USD', 'IN': 'USD', 'PK': 'USD', 'BD': 'USD', 'LK': 'USD', 'MM': 'USD', 'KH': 'USD', 'LA': 'USD', 'BN': 'USD', 'FJ': 'USD', 'PG': 'USD', 'SB': 'USD', 'VU': 'USD', 'NC': 'USD', 'PF': 'USD', 'WS': 'USD', 'TO': 'USD', 'KI': 'USD', 'TV': 'USD', 'NR': 'USD', 'MH': 'USD', 'FM': 'USD', 'PW': 'USD', 'AS': 'USD', 'GU': 'USD', 'MP': 'USD', 'CK': 'USD', 'NU': 'USD', 'TK': 'USD', 'WF': 'USD', 'NF': 'USD', 'PN': 'USD', 'GS': 'USD', 'SH': 'USD', 'AC': 'USD', 'TA': 'USD', 'IO': 'USD', 'CX': 'USD', 'CC': 'USD', 'HM': 'USD', 'AQ': 'USD', 'BV': 'USD', 'TF': 'USD', 'UM': 'USD',
                        'DE': 'EUR', 'FR': 'EUR', 'IT': 'EUR', 'ES': 'EUR', 'NL': 'EUR', 'BE': 'EUR', 'AT': 'EUR', 'PT': 'EUR', 'IE': 'EUR', 'FI': 'EUR', 'GR': 'EUR', 'LU': 'EUR', 'MT': 'EUR', 'CY': 'EUR', 'SK': 'EUR', 'SI': 'EUR', 'EE': 'EUR', 'LV': 'EUR', 'LT': 'EUR', 'AD': 'EUR', 'MC': 'EUR', 'SM': 'EUR', 'VA': 'EUR', 'ME': 'EUR', 'XK': 'EUR'
                    };
                    
                    this.userCurrency = countryToCurrency[this.userCountry] || 'USD';
                    console.log(`Final detection - Country: ${this.userCountry}, Currency: ${this.userCurrency}`);
                    
                } catch (error) {
                    console.error('Error in location detection:', error);
                    this.userCurrency = 'USD';
                    this.userCountry = 'Unknown';
                }
            }
            
            translateContent(contentKey) {
                const translations = {
                    'checkout_title': {
                        'USD': 'Checkout',
                        'BRL': 'Finalizar Compra',
                        'EUR': 'Checkout'
                    },
                    'product_info': {
                        'USD': 'Product Information',
                        'BRL': 'InformaÃ§Ãµes do Produto',
                        'EUR': 'Product Information'
                    },
                    'customer_info': {
                        'USD': 'Customer Information',
                        'BRL': 'InformaÃ§Ãµes do Cliente',
                        'EUR': 'Customer Information'
                    },
                    'payment_info': {
                        'USD': 'Payment Information',
                        'BRL': 'InformaÃ§Ãµes de Pagamento',
                        'EUR': 'Payment Information'
                    },
                    'order_summary': {
                        'USD': 'Order Summary',
                        'BRL': 'Resumo do Pedido',
                        'EUR': 'Order Summary'
                    },
                    'first_name': {
                        'USD': 'First Name',
                        'BRL': 'Nome',
                        'EUR': 'First Name'
                    },
                    'last_name': {
                        'USD': 'Last Name',
                        'BRL': 'Sobrenome',
                        'EUR': 'Last Name'
                    },
                    'email': {
                        'USD': 'Email',
                        'BRL': 'E-mail',
                        'EUR': 'Email'
                    },
                    'phone': {
                        'USD': 'Phone',
                        'BRL': 'Telefone',
                        'EUR': 'Phone'
                    },
                    'address': {
                        'USD': 'Address',
                        'BRL': 'EndereÃ§o',
                        'EUR': 'Address'
                    },
                    'city': {
                        'USD': 'City',
                        'BRL': 'Cidade',
                        'EUR': 'City'
                    },
                    'state': {
                        'USD': 'State',
                        'BRL': 'Estado',
                        'EUR': 'State'
                    },
                    'zip_code': {
                        'USD': 'Zip Code',
                        'BRL': 'CEP',
                        'EUR': 'Zip Code'
                    },
                    'country': {
                        'USD': 'Country',
                        'BRL': 'PaÃ­s',
                        'EUR': 'Country'
                    },
                    'payment_method': {
                        'USD': 'Payment Method',
                        'BRL': 'MÃ©todo de Pagamento',
                        'EUR': 'Payment Method'
                    },
                    'observations': {
                        'USD': 'Observations',
                        'BRL': 'ObservaÃ§Ãµes',
                        'EUR': 'Observations'
                    },
                    'total': {
                        'USD': 'Total',
                        'BRL': 'Total',
                        'EUR': 'Total'
                    },
                    'checkout_button': {
                        'USD': 'Complete Purchase',
                        'BRL': 'Finalizar Compra',
                        'EUR': 'Complete Purchase'
                    },
                    'required_fields': {
                        'USD': 'Please fill in all required fields.',
                        'BRL': 'Por favor, preencha todos os campos obrigatÃ³rios.',
                        'EUR': 'Please fill in all required fields.'
                    },
                    'order_success': {
                        'USD': 'Order completed successfully!',
                        'BRL': 'Pedido realizado com sucesso!',
                        'EUR': 'Order completed successfully!'
                    },
                    'confirmation_email': {
                        'USD': 'You will receive a confirmation email shortly.',
                        'BRL': 'VocÃª receberÃ¡ um e-mail de confirmaÃ§Ã£o em breve.',
                        'EUR': 'You will receive a confirmation email shortly.'
                    }
                };
                
                return translations[contentKey] ? 
                    translations[contentKey][this.userCurrency] || 
                    translations[contentKey]['USD'] : 
                    contentKey;
            }
            
            updatePageContent() {
                try {
                    // Update page title
                    const pageTitle = document.querySelector('title');
                    if (pageTitle) {
                        pageTitle.textContent = `${this.translateContent('checkout_title')} - 2 Pack PHOERA Foundation | 67 Beauty Hub`;
                    }
                    
                    // Update form labels
                    const firstNameLabel = document.querySelector('label[for="firstName"]');
                    if (firstNameLabel) firstNameLabel.textContent = this.translateContent('first_name');
                    
                    const lastNameLabel = document.querySelector('label[for="lastName"]');
                    if (lastNameLabel) lastNameLabel.textContent = this.translateContent('last_name');
                    
                    const emailLabel = document.querySelector('label[for="email"]');
                    if (emailLabel) emailLabel.textContent = this.translateContent('email');
                    
                    const phoneLabel = document.querySelector('label[for="phone"]');
                    if (phoneLabel) phoneLabel.textContent = this.translateContent('phone');
                    
                    const addressLabel = document.querySelector('label[for="address"]');
                    if (addressLabel) addressLabel.textContent = this.translateContent('address');
                    
                    const cityLabel = document.querySelector('label[for="city"]');
                    if (cityLabel) cityLabel.textContent = this.translateContent('city');
                    
                    const stateLabel = document.querySelector('label[for="state"]');
                    if (stateLabel) stateLabel.textContent = this.translateContent('state');
                    
                    const zipCodeLabel = document.querySelector('label[for="zipCode"]');
                    if (zipCodeLabel) zipCodeLabel.textContent = this.translateContent('zip_code');
                    
                    const countryLabel = document.querySelector('label[for="country"]');
                    if (countryLabel) countryLabel.textContent = this.translateContent('country');
                    
                    const paymentLabel = document.querySelector('label[for="paymentMethod"]');
                    if (paymentLabel) paymentLabel.textContent = this.translateContent('payment_method');
                    
                    const observationsLabel = document.querySelector('label[for="observations"]');
                    if (observationsLabel) observationsLabel.textContent = this.translateContent('observations');
                    
                    // Update placeholders
                    const firstNameInput = document.getElementById('firstName');
                    if (firstNameInput) firstNameInput.placeholder = this.translateContent('first_name');
                    
                    const lastNameInput = document.getElementById('lastName');
                    if (lastNameInput) lastNameInput.placeholder = this.translateContent('last_name');
                    
                    const emailInput = document.getElementById('email');
                    if (emailInput) emailInput.placeholder = this.translateContent('email');
                    
                    
                    const observationsInput = document.getElementById('observations');
                    if (observationsInput) observationsInput.placeholder = this.translateContent('observations');
                    
                    // Update checkout button
                    const checkoutButton = document.querySelector('button[onclick="processCheckout()"]');
                    if (checkoutButton) checkoutButton.textContent = this.translateContent('checkout_button');
                    
                    console.log('Checkout page content updated successfully');
                    
                } catch (error) {
                    console.error('Error updating checkout page content:', error);
                }
            }
        }
        
        // Initialize checkout translator when page loads
        document.addEventListener('DOMContentLoaded', function() {
            new CheckoutTranslator();
        });
    </script>

</body>
</html>
