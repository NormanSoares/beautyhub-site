<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste de TraduÃ§Ã£o - Beauty Store</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ccc; }
        .success { color: green; }
        .error { color: red; }
        .info { color: blue; }
    </style>
</head>
<body>
    <h1>ğŸ§ª Teste do Sistema de TraduÃ§Ã£o - Beauty Store</h1>
    
    <div class="test-section">
        <h2>ğŸ“‹ Teste 1: VerificaÃ§Ã£o de Arquivos</h2>
        <div id="files-test"></div>
    </div>
    
    <div class="test-section">
        <h2>ğŸŒ Teste 2: DetecÃ§Ã£o de Idioma</h2>
        <div id="language-test"></div>
    </div>
    
    <div class="test-section">
        <h2>ğŸ”„ Teste 3: MudanÃ§a de Idioma</h2>
        <select id="language-selector">
            <option value="pt-BR">ğŸ‡§ğŸ‡· PortuguÃªs (Brasil)</option>
            <option value="pt-PT">ğŸ‡µğŸ‡¹ PortuguÃªs (Portugal)</option>
            <option value="en-US">ğŸ‡ºğŸ‡¸ English (US)</option>
        </select>
        <button onclick="testLanguageChange()">Testar MudanÃ§a</button>
        <div id="change-test"></div>
    </div>
    
    <div class="test-section">
        <h2>ğŸ“„ Teste 4: Elementos TraduzÃ­veis</h2>
        <div id="elements-test"></div>
    </div>

    <script src="../js/language-controller.js"></script>
    <script>
        // Teste 1: Verificar se arquivos existem
        async function testFiles() {
            const files = [
                '../js/language-controller.js',
                '../js/translation-pt-br.js',
                '../js/translation-pt-pt.js',
                '../js/translation-en.js'
            ];
            
            const results = [];
            for (const file of files) {
                try {
                    const response = await fetch(file);
                    if (response.ok) {
                        results.push(`âœ… ${file} - OK`);
                    } else {
                        results.push(`âŒ ${file} - Erro ${response.status}`);
                    }
                } catch (error) {
                    results.push(`âŒ ${file} - Erro: ${error.message}`);
                }
            }
            
            document.getElementById('files-test').innerHTML = results.join('<br>');
        }
        
        // Teste 2: Verificar detecÃ§Ã£o de idioma
        function testLanguageDetection() {
            const savedLanguage = localStorage.getItem('userLanguage');
            const selectedCountry = localStorage.getItem('selectedCountry');
            const userCurrency = localStorage.getItem('userCurrency');
            
            const result = `
                <div class="info">Idioma salvo: ${savedLanguage || 'Nenhum'}</div>
                <div class="info">PaÃ­s selecionado: ${selectedCountry || 'Nenhum'}</div>
                <div class="info">Moeda: ${userCurrency || 'Nenhuma'}</div>
            `;
            
            document.getElementById('language-test').innerHTML = result;
        }
        
        // Teste 3: Testar mudanÃ§a de idioma
        function testLanguageChange() {
            const selectedLanguage = document.getElementById('language-selector').value;
            
            // Simular mudanÃ§a de idioma
            localStorage.setItem('userLanguage', selectedLanguage);
            
            const countryMap = {
                'pt-BR': 'BR',
                'pt-PT': 'PT',
                'en-US': 'US'
            };
            
            const currencyMap = {
                'pt-BR': 'BRL',
                'pt-PT': 'EUR',
                'en-US': 'USD'
            };
            
            localStorage.setItem('selectedCountry', countryMap[selectedLanguage]);
            localStorage.setItem('userCurrency', currencyMap[selectedLanguage]);
            
            document.getElementById('change-test').innerHTML = `
                <div class="success">âœ… Idioma alterado para: ${selectedLanguage}</div>
                <div class="info">PaÃ­s: ${countryMap[selectedLanguage]}</div>
                <div class="info">Moeda: ${currencyMap[selectedLanguage]}</div>
            `;
        }
        
        // Teste 4: Verificar elementos traduzÃ­veis
        function testTranslatableElements() {
            // Simular elementos da beauty store
            const testElements = [
                'beauty_section_title',
                'product_foundation_title',
                'btn_buy_now',
                'newsletter_title',
                'testimonials_title'
            ];
            
            const results = testElements.map(key => {
                return `<div class="info">âœ… ${key} - Chave de traduÃ§Ã£o encontrada</div>`;
            });
            
            document.getElementById('elements-test').innerHTML = results.join('');
        }
        
        // Executar testes
        window.addEventListener('load', () => {
            testFiles();
            testLanguageDetection();
            testTranslatableElements();
        });
    </script>
</body>
</html>
