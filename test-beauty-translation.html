<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste Beauty Store - Sistema de Tradução</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 5px; }
        .success { color: #28a745; font-weight: bold; }
        .error { color: #dc3545; font-weight: bold; }
        .info { color: #007bff; }
        .warning { color: #ffc107; }
        button { background: #007bff; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 5px; }
        button:hover { background: #0056b3; }
        select { padding: 8px; border: 1px solid #ddd; border-radius: 5px; margin: 5px; }
        .status { padding: 10px; border-radius: 5px; margin: 10px 0; }
        .status.success { background: #d4edda; border: 1px solid #c3e6cb; }
        .status.error { background: #f8d7da; border: 1px solid #f5c6cb; }
        .status.info { background: #d1ecf1; border: 1px solid #bee5eb; }
    </style>
</head>
<body>
    <div class="container">
        <h1>🧪 Teste do Sistema de Tradução - Beauty Store</h1>
        
        <div class="test-section">
            <h2>📋 Status dos Arquivos</h2>
            <div id="files-status"></div>
        </div>
        
        <div class="test-section">
            <h2>🌍 Teste de Mudança de Idioma</h2>
            <select id="language-selector">
                <option value="pt-BR">🇧🇷 Português (Brasil) - R$</option>
                <option value="pt-PT">🇵🇹 Português (Portugal) - €</option>
                <option value="en-US">🇺🇸 English (US) - $</option>
            </select>
            <button onclick="testLanguageChange()">🔄 Testar Mudança</button>
            <button onclick="simulateBeautyStore()">🎨 Simular Beauty Store</button>
            <div id="change-status"></div>
        </div>
        
        <div class="test-section">
            <h2>📄 Elementos Traduzíveis</h2>
            <div id="elements-status"></div>
        </div>
        
        <div class="test-section">
            <h2>🔍 Console Logs</h2>
            <div id="console-logs"></div>
        </div>
    </div>

    <script>
        // Simular o sistema da beauty store
        function simulateBeautyStore() {
            console.log('🎨 Simulando Beauty Store...');
            
            // Simular elementos da beauty store
            const beautyElements = [
                { key: 'beauty_section_title', text: 'Seção Beleza' },
                { key: 'product_foundation_title', text: '2 Pack PHOERA Foundation' },
                { key: 'btn_buy_now', text: 'Comprar Agora' },
                { key: 'newsletter_title', text: 'Fique por dentro das novidades!' },
                { key: 'testimonials_title', text: 'O que nossas clientes dizem' }
            ];
            
            const currentLanguage = localStorage.getItem('userLanguage') || 'pt-BR';
            const selectedCountry = localStorage.getItem('selectedCountry') || 'BR';
            const userCurrency = localStorage.getItem('userCurrency') || 'BRL';
            
            let status = `
                <div class="status info">
                    <strong>🌍 Idioma Atual:</strong> ${currentLanguage}<br>
                    <strong>🏳️ País:</strong> ${selectedCountry}<br>
                    <strong>💰 Moeda:</strong> ${userCurrency}
                </div>
            `;
            
            beautyElements.forEach(element => {
                status += `<div class="info">✅ ${element.key}: "${element.text}"</div>`;
            });
            
            document.getElementById('elements-status').innerHTML = status;
        }
        
        // Testar mudança de idioma
        function testLanguageChange() {
            const selectedLanguage = document.getElementById('language-selector').value;
            
            // Mapear idioma para país e moeda
            const languageMap = {
                'pt-BR': { country: 'BR', currency: 'BRL' },
                'pt-PT': { country: 'PT', currency: 'EUR' },
                'en-US': { country: 'US', currency: 'USD' }
            };
            
            const mapping = languageMap[selectedLanguage];
            
            // Salvar no localStorage
            localStorage.setItem('userLanguage', selectedLanguage);
            localStorage.setItem('selectedCountry', mapping.country);
            localStorage.setItem('userCurrency', mapping.currency);
            
            const status = `
                <div class="status success">
                    <strong>✅ Idioma alterado com sucesso!</strong><br>
                    <strong>🌍 Idioma:</strong> ${selectedLanguage}<br>
                    <strong>🏳️ País:</strong> ${mapping.country}<br>
                    <strong>💰 Moeda:</strong> ${mapping.currency}
                </div>
            `;
            
            document.getElementById('change-status').innerHTML = status;
            
            // Simular beauty store após mudança
            setTimeout(() => {
                simulateBeautyStore();
            }, 500);
        }
        
        // Verificar status dos arquivos
        async function checkFilesStatus() {
            const files = [
                '../js/language-controller.js',
                '../js/translation-pt-br.js',
                '../js/translation-pt-pt.js',
                '../js/translation-en.js'
            ];
            
            let status = '';
            
            for (const file of files) {
                try {
                    const response = await fetch(file);
                    if (response.ok) {
                        status += `<div class="success">✅ ${file} - OK</div>`;
                    } else {
                        status += `<div class="error">❌ ${file} - Erro ${response.status}</div>`;
                    }
                } catch (error) {
                    status += `<div class="error">❌ ${file} - Erro: ${error.message}</div>`;
                }
            }
            
            document.getElementById('files-status').innerHTML = status;
        }
        
        // Capturar logs do console
        function captureConsoleLogs() {
            const originalLog = console.log;
            const logs = [];
            
            console.log = function(...args) {
                logs.push(args.join(' '));
                originalLog.apply(console, args);
            };
            
            // Mostrar logs capturados
            setInterval(() => {
                if (logs.length > 0) {
                    const logHtml = logs.slice(-10).map(log => `<div class="info">${log}</div>`).join('');
                    document.getElementById('console-logs').innerHTML = logHtml;
                }
            }, 1000);
        }
        
        // Inicializar teste
        window.addEventListener('load', () => {
            checkFilesStatus();
            simulateBeautyStore();
            captureConsoleLogs();
            
            // Mostrar status inicial
            const initialStatus = `
                <div class="status info">
                    <strong>🚀 Sistema de Teste Inicializado</strong><br>
                    <strong>📁 Arquivos:</strong> Verificando...<br>
                    <strong>🌍 Idioma:</strong> ${localStorage.getItem('userLanguage') || 'Nenhum'}<br>
                    <strong>🏳️ País:</strong> ${localStorage.getItem('selectedCountry') || 'Nenhum'}<br>
                    <strong>💰 Moeda:</strong> ${localStorage.getItem('userCurrency') || 'Nenhuma'}
                </div>
            `;
            
            document.getElementById('change-status').innerHTML = initialStatus;
        });
    </script>
</body>
</html>
