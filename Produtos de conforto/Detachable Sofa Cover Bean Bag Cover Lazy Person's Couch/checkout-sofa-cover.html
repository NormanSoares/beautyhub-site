<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - 3-in-1 Sofa Cover | 67 Beauty Hub</title>
    <link rel="stylesheet" href="../../styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- PayPal SDK -->
    <!-- PayPal SDK will be loaded dynamically with correct locale -->
    <!-- AliExpress Integration -->
    <script src="../../js/aliexpress-integration.js"></script>
    <!-- Review System -->
    <script src="../../js/review-system.js"></script>
    <!-- Product Variation Mapping System -->
    <script src="../../js/product-variation-mapping.js"></script>
    <!-- Global Translation System -->
    <script src="../../js/language-controller.js"></script>
    
    <!-- Scripts do Sistema de Processamento (carregar primeiro) -->
    <script src="../../js/supplier-order-processor.js"></script>
    <script src="../../js/payment-gateway.js"></script>
    <script src="../../js/pix-generator.js"></script>
    <style>
        /* Estilo para produtos de conforto - design acolhedor e confortável */
        body {
            background: linear-gradient(135deg, #f8f6f0 0%, #f0ede5 50%, #e8e2d8 100%);
            font-family: 'Poppins', sans-serif;
        }
        
        .checkout-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
            margin-top: 50px;
        }
        
        .checkout-layout {
            display: flex;
            flex-direction: column;
            gap: 40px;
        }
        
        .unified-section {
            background: linear-gradient(145deg, #ffffff 0%, #faf9f7 100%);
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(139, 69, 19, 0.08);
            padding: 40px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
            align-items: start;
            border: 1px solid rgba(139, 69, 19, 0.1);
        }
        
        .checkout-bottom {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 40px;
            align-items: start;
        }
        
        .form-section {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            padding: 30px;
        }
        
        .summary-section {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            padding: 30px;
            height: fit-content;
            position: sticky;
            top: 20px;
        }
        
        .product-gallery {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .main-image {
            width: 100%;
            height: 400px;
            object-fit: cover;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .thumbnail-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }
        
        .thumbnail {
            width: 100%;
            height: 80px;
            object-fit: cover;
            border-radius: 8px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }
        
        .thumbnail:hover,
        .thumbnail.active {
            border-color: #8B4513;
            transform: scale(1.05);
        }
        
        .product-info h1 {
            font-size: 2.4rem;
            color: #8B4513;
            margin-bottom: 20px;
            font-weight: 500;
            letter-spacing: -0.5px;
        }
        
        .product-info .subtitle {
            color: #7f8c8d;
            font-size: 1.1rem;
            margin-bottom: 20px;
        }
        
        .price-section {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
        }
        
        .price-main {
            font-size: 2.5rem;
            font-weight: 700;
            color: #8B4513;
            margin-bottom: 5px;
        }
        
        .price-original {
            font-size: 1.2rem;
            color: #95a5a6;
            text-decoration: line-through;
            margin-bottom: 10px;
        }
        
        .discount-badge {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            display: inline-block;
            margin-bottom: 15px;
        }
        
        .features-list {
            list-style: none;
            padding: 0;
            margin-bottom: 25px;
        }
        
        .features-list li {
            padding: 8px 0;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .features-list li i {
            color: #8B4513;
            width: 20px;
        }
        
        .size-selector {
            margin-bottom: 25px;
        }
        
        .size-options {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .size-option {
            padding: 10px 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            min-width: 60px;
        }
        
        .size-option:hover,
        .size-option.selected {
            border-color: #8B4513;
            background: rgba(139, 69, 19, 0.1);
        }
        
        .quantity-selector {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .quantity-controls {
            display: flex;
            align-items: center;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .quantity-btn {
            background: #f8f9fa;
            border: none;
            padding: 10px 15px;
            cursor: pointer;
            font-size: 1.2rem;
            color: #2c3e50;
            transition: all 0.3s ease;
        }
        
        .quantity-btn:hover {
            background: #e9ecef;
        }
        
        .quantity-input {
            border: none;
            padding: 10px 15px;
            text-align: center;
            width: 60px;
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        .buy-now-btn {
            background: linear-gradient(135deg, #8B4513, #A0522D);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }
        
        .buy-now-btn:hover {
            background: linear-gradient(135deg, #A0522D, #8B4513);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(139, 69, 19, 0.3);
        }
        
        .section-title {
            font-size: 1.5rem;
            color: #2c3e50;
            margin-bottom: 20px;
            font-weight: 600;
            border-bottom: 2px solid #8B4513;
            padding-bottom: 10px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #2c3e50;
            font-weight: 500;
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #8B4513;
            box-shadow: 0 0 0 3px rgba(139, 69, 19, 0.1);
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .payment-methods {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .payment-method {
            flex: 1;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .payment-method:hover,
        .payment-method.selected {
            border-color: #8B4513;
            background: rgba(139, 69, 19, 0.1);
        }
        
        .payment-method i {
            font-size: 2rem;
            margin-bottom: 10px;
            color: #8B4513;
        }
        
        .order-summary {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .order-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #e9ecef;
        }
        
        .order-item:last-child {
            border-bottom: none;
        }
        
        .order-total {
            background: #8B4513;
            color: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            font-size: 1.2rem;
            font-weight: 600;
        }
        
        .shipping-info {
            background: #e8f5e8;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #27ae60;
        }
        
        .shipping-info h4 {
            color: #27ae60;
            margin-bottom: 10px;
        }
        
        .shipping-info p {
            color: #2c3e50;
            margin: 5px 0;
        }
        
        .security-badges {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        
        .security-badge {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            color: #27ae60;
            font-size: 0.9rem;
        }
        
        .security-badge i {
            font-size: 1.5rem;
        }
        
        @media (max-width: 768px) {
            .unified-section {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .checkout-bottom {
                grid-template-columns: 1fr;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .thumbnail-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .product-info h1 {
                font-size: 1.8rem;
            }
            
            .price-main {
                font-size: 2rem;
            }
            
            .main-image {
                height: 300px;
            }
            
            .size-options {
                flex-wrap: wrap;
            }
        }
        
        @media (max-width: 480px) {
            .main-image {
                height: 250px;
            }
        }

        /* Gallery Styles */
        .product-gallery-section {
            margin: 30px 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 15px;
            border: 1px solid rgba(139, 69, 19, 0.1);
        }

        .product-gallery-section h3 {
            color: #8B4513;
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: 500;
        }

        .gallery-main {
            position: relative;
            max-width: 100%;
            margin: 0 auto;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(139, 69, 19, 0.15);
        }

        .gallery-main-image {
            width: 100%;
            height: 400px;
            object-fit: cover;
            display: block;
            transition: opacity 0.3s ease;
        }

        .gallery-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(139, 69, 19, 0.8);
            color: white;
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            transition: all 0.3s ease;
            z-index: 10;
        }

        .gallery-nav:hover {
            background: rgba(139, 69, 19, 1);
            transform: translateY(-50%) scale(1.1);
        }

        .gallery-prev {
            left: 15px;
        }

        .gallery-next {
            right: 15px;
        }

        .gallery-indicators {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .gallery-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(139, 69, 19, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .gallery-indicator.active {
            background: #8B4513;
            transform: scale(1.2);
        }

        .gallery-indicator:hover {
            background: rgba(139, 69, 19, 0.6);
        }

        @media (max-width: 768px) {
            .gallery-main-image {
                height: 300px;
            }
            
            .gallery-nav {
                width: 40px;
                height: 40px;
                font-size: 14px;
            }
        }

        /* Emotional Benefits Section */
        .emotional-benefits-section {
            margin: 30px 0;
            padding: 25px;
            background: linear-gradient(145deg, #f8f6f0 0%, #f0ede5 100%);
            border-radius: 20px;
            border: 1px solid rgba(107, 91, 149, 0.1);
            box-shadow: 0 10px 30px rgba(107, 91, 149, 0.08);
        }

        .emotional-benefits-section h3 {
            color: #6B5B95;
            font-size: 1.8rem;
            margin-bottom: 15px;
            text-align: center;
            font-weight: 500;
        }

        .emotional-benefits-subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 25px;
        }

        .benefit-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 8px 25px rgba(107, 91, 149, 0.1);
            border: 1px solid rgba(107, 91, 149, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .benefit-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(107, 91, 149, 0.15);
        }

        .benefit-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #6B5B95, #8E7CC3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            color: white;
            font-size: 1.5rem;
        }

        .benefit-card h4 {
            color: #6B5B95;
            font-size: 1.3rem;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .benefit-card p {
            color: #666;
            line-height: 1.6;
            font-size: 1rem;
        }

        @media (max-width: 768px) {
            .benefits-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .emotional-benefits-section h3 {
                font-size: 1.5rem;
            }
        }

        /* Checkout Form Styles */
        .checkout-btn {
            background: linear-gradient(135deg, #6B5B95, #8E7CC3);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(107, 91, 149, 0.3);
            width: 100%;
            margin-top: 20px;
        }

        .checkout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(107, 91, 149, 0.4);
        }

        .checkout-btn i {
            margin-right: 8px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #6B5B95;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
            box-sizing: border-box;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #6B5B95;
        }

        .checkout-summary {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            border: 1px solid rgba(107, 91, 149, 0.1);
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #e0e0e0;
        }

        .summary-row.total {
            font-weight: bold;
            font-size: 1.2rem;
            color: #6B5B95;
            border-bottom: none;
            border-top: 2px solid #6B5B95;
            margin-top: 10px;
            padding-top: 15px;
        }

        /* Form Row Layout */
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
                gap: 10px;
            }
        }

        /* Form Section Styling */
        .form-section h3 {
            color: #6B5B95;
            font-size: 1.4rem;
            margin: 30px 0 20px 0;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(107, 91, 149, 0.2);
        }

        .form-section h3:first-child {
            margin-top: 0;
        }

        /* Country Selector Styling */
        .form-group select {
            background: white;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
            background-position: right 8px center;
            background-repeat: no-repeat;
            background-size: 16px;
            padding-right: 40px;
        }

        /* Payment Method Sections */
        #paypal-payment-button,
        #pix-payment-info,
        #stripe-payment-info {
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        /* Form Validation Styling */
        .form-group input:invalid,
        .form-group select:invalid,
        .form-group textarea:invalid {
            border-color: #dc3545;
        }

        .form-group input:valid,
        .form-group select:valid,
        .form-group textarea:valid {
            border-color: #28a745;
        }

        /* Required Field Indicator */
        .form-group label::after {
            content: ' *';
            color: #dc3545;
            font-weight: bold;
        }

        .form-group label:not([for*="observations"])::after {
            content: ' *';
            color: #dc3545;
            font-weight: bold;
        }

        /* Reviews Section Styles */
        .reviews-section {
            margin-top: 50px;
            padding: 40px 20px;
            background: linear-gradient(145deg, #ffffff 0%, #faf9f7 100%);
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(139, 69, 19, 0.08);
            border: 1px solid rgba(139, 69, 19, 0.1);
        }

        .reviews-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .reviews-title {
            color: #6B5B95;
            font-size: 2.2rem;
            margin-bottom: 10px;
            text-align: center;
            font-weight: 500;
        }

        .reviews-subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1rem;
        }

        .reviews-stats {
            text-align: center;
            margin-bottom: 40px;
        }

        .rating-overview {
            display: inline-block;
            background: rgba(255, 255, 255, 0.8);
            padding: 20px 30px;
            border-radius: 15px;
            border: 1px solid rgba(139, 69, 19, 0.1);
        }

        .rating-number {
            font-size: 3rem;
            font-weight: bold;
            color: #6B5B95;
            margin-bottom: 5px;
        }

        .rating-stars {
            color: #ffc107;
            font-size: 1.2rem;
            margin-bottom: 5px;
        }

        .rating-count {
            color: #666;
            font-size: 0.9rem;
        }

        .reviews-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .review-placeholder {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 25px rgba(139, 69, 19, 0.1);
            border: 1px solid rgba(139, 69, 19, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .review-placeholder:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(139, 69, 19, 0.15);
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .reviewer-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .reviewer-avatar {
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, #6B5B95, #8E7CC3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        .reviewer-details {
            flex: 1;
        }

        .reviewer-name {
            font-weight: 600;
            color: #6B5B95;
            margin-bottom: 3px;
        }

        .review-rating {
            color: #ffc107;
            font-size: 0.9rem;
        }

        .review-date {
            color: #999;
            font-size: 0.85rem;
        }

        .review-text {
            color: #333;
            line-height: 1.6;
            font-size: 1rem;
        }

        .reviews-footer {
            text-align: center;
        }

        .load-more-reviews-btn {
            background: linear-gradient(135deg, #6B5B95, #8E7CC3);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(107, 91, 149, 0.3);
        }

        .load-more-reviews-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(107, 91, 149, 0.4);
        }

        @media (max-width: 768px) {
            .reviews-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .reviews-title {
                font-size: 1.8rem;
            }
            
            .rating-number {
                font-size: 2.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <img src="../../Logo.png" alt="67 Beauty Hub" style="height: 40px;">
            </div>
            <ul class="nav-menu">
                <li><a href="../../index.html">Início</a></li>
                <li><a href="../../index.html#beauty">Beleza</a></li>
                <li><a href="../../index.html#comfort">Conforto</a></li>
            </ul>
        </div>
    </nav>

    <div class="checkout-container">
        <div class="checkout-layout">
            <!-- Product Section -->
            <div class="unified-section">
                <!-- Product Gallery -->
                <div class="product-gallery">
                    <img src="Apresentação.jpeg" alt="Detachable Sofa Cover" class="main-image" id="mainImage">
                    <div class="thumbnail-grid">
                        <img src="Apresentação.jpeg" alt="Detachable Sofa Cover" class="thumbnail active" onclick="changeImage(this)">
                        <img src="Galeria/main-image-1.jpeg" alt="Detachable Sofa Cover" class="thumbnail" onclick="changeImage(this)">
                        <img src="Galeria/main-image-2.jpeg" alt="Detachable Sofa Cover" class="thumbnail" onclick="changeImage(this)">
                        <img src="Galeria/main-image-3.jpeg" alt="Detachable Sofa Cover" class="thumbnail" onclick="changeImage(this)">
                    </div>
                </div>

                <!-- Product Info -->
                <div class="product-info">
                    <h1 data-translate-key="product_sofa_cover">3-in-1 Sofa Cover</h1>
                    <p class="subtitle" data-translate-key="product_sofa_cover_subtitle">Removable cover for sofa and ottoman - Lazy Person's Couch</p>
                    
                    <div class="price-section">
                        <div class="price-main">$34.99</div>
                        <div class="price-original">$69.99</div>
                        <div class="discount-badge">50% OFF</div>
                    </div>

                    <!-- Product Gallery -->
                    <div class="product-gallery-section">
                        <h3><i class="fas fa-images"></i> <span data-translate-key="gallery_title">Product Gallery</span></h3>
                        <div class="gallery-main">
                            <img src="Galeria/Apresentação.jpg" alt="Sofa Cover" class="gallery-main-image" id="galleryMainImage">
                            <button class="gallery-nav gallery-prev" onclick="previousImage()">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <button class="gallery-nav gallery-next" onclick="nextImage()">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                        <div class="gallery-indicators" id="galleryIndicators"></div>
                    </div>

                    <!-- Emotional Benefits Section -->
                    <div class="emotional-benefits-section">
                        <h3><i class="fas fa-heart"></i> <span data-translate-key="emotional_benefits_title">Transform Your Home Into a Safe Haven</span></h3>
                        <p class="emotional-benefits-subtitle" data-translate-key="emotional_benefits_subtitle">Create a secure and cozy sanctuary where your family can truly relax and feel at home</p>
                        
                        <div class="benefits-grid">
                            <div class="benefit-card">
                                <div class="benefit-icon">
                                    <i class="fas fa-shield-alt"></i>
                                </div>
                                <h4 data-translate-key="benefit_protection_title">Protection & Safety</h4>
                                <p data-translate-key="benefit_protection_text">Keep your sofa safe from spills, pets, and daily wear while maintaining a clean, healthy environment for your family</p>
                            </div>
                            
                            <div class="benefit-card">
                                <div class="benefit-icon">
                                    <i class="fas fa-home"></i>
                                </div>
                                <h4 data-translate-key="benefit_comfort_title">Home Comfort</h4>
                                <p data-translate-key="benefit_comfort_text">Transform any space into a warm, inviting area where everyone feels comfortable and at ease</p>
                            </div>
                            
                            <div class="benefit-card">
                                <div class="benefit-icon">
                                    <i class="fas fa-users"></i>
                                </div>
                                <h4 data-translate-key="benefit_family_title">Family Moments</h4>
                                <p data-translate-key="benefit_family_text">Create the perfect setting for movie nights, family gatherings, and precious moments with your loved ones</p>
                            </div>
                        </div>
                    </div>

                    <ul class="features-list">
                        <li><i class="fas fa-check"></i> <span data-translate-key="feature_durable_material">Durable and comfortable material</span></li>
                        <li><i class="fas fa-check"></i> <span data-translate-key="feature_easy_install">Easy to put on and remove</span></li>
                        <li><i class="fas fa-check"></i> <span data-translate-key="feature_machine_washable">Machine washable</span></li>
                        <li><i class="fas fa-check"></i> <span data-translate-key="feature_protects_sofa">Protects your sofa</span></li>
                        <li><i class="fas fa-check"></i> <span data-translate-key="feature_modern_design">Modern design</span></li>
                    </ul>

                    <div class="size-selector">
                        <label data-translate-key="size_label">Size:</label>
                        <div class="size-options">
                            <div class="size-option" onclick="selectSize('S')">S</div>
                            <div class="size-option" onclick="selectSize('M')">M</div>
                            <div class="size-option" onclick="selectSize('L')">L</div>
                            <div class="size-option" onclick="selectSize('XL')">XL</div>
                        </div>
                    </div>

                    <div class="quantity-selector">
                        <label data-translate-key="quantity_label">Quantity:</label>
                        <div class="quantity-controls">
                            <button class="quantity-btn" onclick="decreaseQuantity()">-</button>
                            <input type="number" class="quantity-input" id="quantity" value="1" min="1" max="5">
                            <button class="quantity-btn" onclick="increaseQuantity()">+</button>
                        </div>
                    </div>

                    <button class="buy-now-btn" onclick="processOrder('test123')">
                        <i class="fas fa-shopping-cart"></i> <span data-translate-key="buy_now_btn">Buy Now</span>
                    </button>
                </div>
            </div>

            <!-- Checkout Form -->
            <div class="checkout-bottom">
                <div class="form-section">
                    <h3><i class="fas fa-user"></i> <span data-translate-key="customer_info">Customer Information</span></h3>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="firstName" data-translate-key="first_name">First Name *</label>
                            <input type="text" id="firstName" name="firstName" required>
                        </div>
                        <div class="form-group">
                            <label for="lastName" data-translate-key="last_name">Last Name *</label>
                            <input type="text" id="lastName" name="lastName" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="email" data-translate-key="email_label">Email *</label>
                        <input type="email" id="email" name="email" required placeholder="seu@email.com">
                    </div>

                    <div class="form-group">
                        <label for="phone" data-translate-key="phone_label">Phone *</label>
                        <input type="tel" id="phone" name="phone" required placeholder="+1 (555) 123-4567">
                    </div>

                    <h3><i class="fas fa-truck"></i> <span data-translate-key="shipping_info">Shipping Information</span></h3>

                    <div class="form-group">
                        <label for="address" data-translate-key="address_label">Address *</label>
                        <textarea id="address" name="address" rows="3" required placeholder="Street address, apartment, suite, etc."></textarea>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="city" data-translate-key="city_label">City *</label>
                            <input type="text" id="city" name="city" required>
                        </div>
                        <div class="form-group">
                            <label for="state" data-translate-key="state_label">State/Province *</label>
                            <input type="text" id="state" name="state" required>
                        </div>
                    </div>

                    <div class="form-row">
                    <div class="form-group">
                            <label for="zipCode" data-translate-key="zip_code_label">ZIP/Postal Code *</label>
                            <input type="text" id="zipCode" name="zipCode" required>
                        </div>
                        <div class="form-group">
                            <label for="country" data-translate-key="country_label">Country *</label>
                            <select id="country" name="country" required>
                                <option value="" data-translate-key="select_country">Select Country</option>
                                <option value="US" data-translate-key="country_us">United States</option>
                                <option value="BR" data-translate-key="country_br">Brazil</option>
                                <option value="PT" data-translate-key="country_pt">Portugal</option>
                                <option value="CA" data-translate-key="country_ca">Canada</option>
                                <option value="GB" data-translate-key="country_gb">United Kingdom</option>
                                <option value="DE" data-translate-key="country_de">Germany</option>
                                <option value="FR" data-translate-key="country_fr">France</option>
                                <option value="ES" data-translate-key="country_es">Spain</option>
                                <option value="IT" data-translate-key="country_it">Italy</option>
                                <option value="AU" data-translate-key="country_au">Australia</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="observations" data-translate-key="observations_label">Order Notes (optional)</label>
                        <textarea id="observations" name="observations" rows="3" placeholder="Any special instructions for your order?"></textarea>
                    </div>

                    <h3><i class="fas fa-credit-card"></i> <span data-translate-key="payment_method">Payment Method</span></h3>
                    
                    <div class="form-group">
                        <label for="paymentMethod" data-translate-key="payment_method_label">Payment Method *</label>
                        <select id="paymentMethod" name="paymentMethod" required>
                            <option value="" data-translate-key="select_option">Select</option>
                            <option value="paypal" data-translate-key="paypal_option">PayPal</option>
                            <option value="pix" id="pix-option" style="display: none;" data-translate-key="pix_option">PIX (Brazil only)</option>
                            <option value="stripe" id="stripe-option" style="display: none;" data-translate-key="stripe_option">Credit Card (Stripe)</option>
                        </select>
                        </div>

                    <div id="paypal-payment-button" style="display: none;"></div>
                    <div id="pix-payment-info" style="display: none;">
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border: 2px solid #6B5B95; text-align: center;">
                            <h4 style="color: #6B5B95; margin-bottom: 15px;"><i class="fas fa-qrcode"></i> <span data-translate-key="pix_payment">PIX Payment</span></h4>
                            <p style="color: #666; margin-bottom: 15px;" data-translate-key="pix_payment_info">After confirming your order, you will receive PIX payment instructions by email.</p>
                            <div style="background: white; padding: 15px; border-radius: 8px; border: 1px solid #ddd;">
                                <strong data-translate-key="pix_key">PIX Key:</strong> contato@67beautyhub.com
                        </div>
                    </div>
                    </div>
                    
                    <div id="stripe-payment-info" style="display: none;">
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border: 2px solid #6B5B95; text-align: center;">
                            <h4 style="color: #6B5B95; margin-bottom: 15px;"><i class="fas fa-credit-card"></i> <span data-translate-key="stripe_payment">Credit Card Payment</span></h4>
                            <p style="color: #666; margin-bottom: 15px;" data-translate-key="stripe_payment_info">Secure payment processing with Stripe. Your card information is encrypted and secure.</p>
                        </div>
                    </div>

                    <button class="checkout-btn" onclick="processCheckout()">
                        <i class="fas fa-lock"></i> <span data-translate-key="confirm_order">Complete Order</span>
                    </button>
                </div>

                <!-- Order Summary -->
                <div class="summary-section">
                    <h3><i class="fas fa-receipt"></i> <span data-translate-key="order_summary">Order Summary</span></h3>
                    <div class="checkout-summary">
                        <div id="selectedOffers"></div>
                        <div class="summary-row total">
                            <span data-translate-key="total">Total</span>
                            <span id="totalAmount">$34.99</span>
                        </div>
                        <!-- Currency automatically detected based on browser language -->
                        </div>
                </div>
                        </div>
                    </div>
                    
        <!-- Reviews Section -->
        <div class="reviews-section">
            <div class="reviews-container">
                <h2 class="reviews-title">
                    <i class="fas fa-home"></i> 
                    <span data-translate-key="reviews_title">Customer Reviews</span>
                </h2>
                <p class="reviews-subtitle" data-translate-key="reviews_subtitle">How this product has improved our customers' comfort and daily life</p>
                
                <div class="reviews-stats">
                    <div class="rating-overview">
                        <div class="rating-number">4.8</div>
                        <div class="rating-stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <div class="rating-count" data-translate-key="rating_based_on">Based on 127 reviews</div>
                    </div>
                    </div>

                <div class="reviews-grid" id="reviewsGrid">
                    <!-- Reviews will be dynamically loaded here -->
                    <div class="review-placeholder">
                        <div class="review-content">
                            <div class="review-header">
                                <div class="reviewer-info">
                                    <div class="reviewer-avatar">
                                        <i class="fas fa-user"></i>
                                    </div>
                                    <div class="reviewer-details">
                                        <div class="reviewer-name" data-translate-key="reviewer_1_name">Sarah M.</div>
                                        <div class="review-rating">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="review-date" data-translate-key="review_date">2 days ago</div>
                            </div>
                            <div class="review-text" data-translate-key="review_1_text">
                                "This sofa cover has transformed my living room! So comfortable and cozy. My family loves spending time here now. Perfect for our home!"
                            </div>
                        </div>
                    </div>

                    <div class="review-placeholder">
                        <div class="review-content">
                            <div class="review-header">
                                <div class="reviewer-info">
                                    <div class="reviewer-avatar">
                                        <i class="fas fa-user"></i>
                        </div>
                                    <div class="reviewer-details">
                                        <div class="reviewer-name" data-translate-key="reviewer_2_name">Michael R.</div>
                                        <div class="review-rating">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                        </div>
                    </div>
                </div>
                                <div class="review-date" data-translate-key="review_date">1 week ago</div>
                            </div>
                            <div class="review-text" data-translate-key="review_2_text">
                                "The material is so soft and warm! Perfect for those cozy movie nights with the family. Easy to clean and maintain. Love it!"
                            </div>
                        </div>
                    </div>

                    <div class="review-placeholder">
                        <div class="review-content">
                            <div class="review-header">
                                <div class="reviewer-info">
                                    <div class="reviewer-avatar">
                                        <i class="fas fa-user"></i>
                                    </div>
                                    <div class="reviewer-details">
                                        <div class="reviewer-name" data-translate-key="reviewer_3_name">Emma L.</div>
                                        <div class="review-rating">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="review-date" data-translate-key="review_date">2 weeks ago</div>
                            </div>
                            <div class="review-text" data-translate-key="review_3_text">
                                "This cover has made our sofa so much more comfortable! The kids love it and it's perfect for our home. Highly recommend for any family!"
                            </div>
                        </div>
                    </div>
                </div>

                <div class="reviews-footer">
                    <button class="load-more-reviews-btn" data-translate-key="load_more_reviews">Load More Reviews</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Gallery functionality
        const galleryImages = [
            'Galeria/Apresentação.jpg',
            'Galeria/main-image-1.jpeg',
            'Galeria/main-image-2.jpeg',
            'Galeria/main-image-3.jpeg'
        ];
        
        let currentImageIndex = 0;
        
        function initializeGallery() {
            const indicatorsContainer = document.getElementById('galleryIndicators');
            if (!indicatorsContainer) return;
            
            // Clear existing indicators
            indicatorsContainer.innerHTML = '';
            
            // Create indicators
            galleryImages.forEach((_, index) => {
                const indicator = document.createElement('div');
                indicator.className = 'gallery-indicator';
                if (index === 0) indicator.classList.add('active');
                indicator.onclick = () => goToImage(index);
                indicatorsContainer.appendChild(indicator);
            });
        }
        
        function nextImage() {
            currentImageIndex = (currentImageIndex + 1) % galleryImages.length;
            updateGallery();
        }
        
        function previousImage() {
            currentImageIndex = (currentImageIndex - 1 + galleryImages.length) % galleryImages.length;
            updateGallery();
        }
        
        function goToImage(index) {
            currentImageIndex = index;
            updateGallery();
        }
        
        function updateGallery() {
            const mainImage = document.getElementById('galleryMainImage');
            const indicators = document.querySelectorAll('.gallery-indicator');
            
            if (mainImage) {
                mainImage.src = galleryImages[currentImageIndex];
            }
            
            indicators.forEach((indicator, index) => {
                indicator.classList.toggle('active', index === currentImageIndex);
            });
        }

        let quantity = 1;
        let basePrice = 34.99;
        let selectedPayment = null;
        let selectedSize = 'M';

        function changeImage(thumbnail) {
            // Remove active class from all thumbnails
            document.querySelectorAll('.thumbnail').forEach(thumb => {
                thumb.classList.remove('active');
            });
            
            // Add active class to clicked thumbnail
            thumbnail.classList.add('active');
            
            // Change main image
            document.getElementById('mainImage').src = thumbnail.src;
        }

        function selectSize(size) {
            selectedSize = size;
            
            // Remove selected class from all size options
            document.querySelectorAll('.size-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Add selected class to clicked size option
            event.target.classList.add('selected');
            
            updateOrderSummary();
        }

        function increaseQuantity() {
            if (quantity < 5) {
                quantity++;
                updateQuantity();
            }
        }

        function decreaseQuantity() {
            if (quantity > 1) {
                quantity--;
                updateQuantity();
            }
        }

        function updateQuantity() {
            document.getElementById('quantity').value = quantity;
            document.getElementById('orderQuantity').textContent = quantity + 'x';
            
            const subtotal = (basePrice * quantity).toFixed(2);
            const total = subtotal;
            
            document.getElementById('subtotal').textContent = '$' + subtotal;
            document.getElementById('total').textContent = '$' + total;
        }

        function updateOrderSummary() {
            document.getElementById('orderProduct').textContent = `3-in-1 Sofa Cover (Size ${selectedSize})`;
        }

        function selectPayment(method) {
            selectedPayment = method;
            
            // Remove selected class from all payment methods
            document.querySelectorAll('.payment-method').forEach(method => {
                method.classList.remove('selected');
            });
            
            // Add selected class to clicked payment method
            event.target.closest('.payment-method').classList.add('selected');
        }

        function processOrder(transactionId) {
            const orderData = {
                id: 'ORDER_' + Date.now(),
                transactionId: transactionId,
                product: {
                    name: '3-in-1 Sofa Cover (Size ' + selectedSize + ')',
                    price: basePrice,
                    quantity: quantity,
                    size: selectedSize
                },
                customer: {
                    firstName: document.getElementById('firstName').value,
                    lastName: document.getElementById('lastName').value,
                    email: document.getElementById('email').value,
                    phone: document.getElementById('phone').value,
                    address: document.getElementById('address').value,
                    city: document.getElementById('city').value,
                    state: document.getElementById('state').value,
                    zipCode: document.getElementById('zipCode').value
                },
                paymentMethod: selectedPayment,
                total: (basePrice * quantity).toFixed(2),
                status: 'pending',
                date: new Date().toISOString()
            };
            
            // Map order for supplier (AliExpress)
            let mappedOrder = null;
            if (typeof mapProductOrder === 'function') {
                try {
                    const mappingOrderData = {
                        id: orderData.id,
                        customer: orderData.customer,
                        items: [{
                            productId: 'detachable_sofa_cover',
                            name: orderData.product.name,
                            variation: {
                                type: 'size',
                                value: selectedSize,
                                displayName: selectedSize
                            },
                            quantity: orderData.product.quantity,
                            unitPrice: orderData.product.price,
                            totalPrice: orderData.total
                        }],
                        total: orderData.total,
                        date: orderData.date
                    };
                    mappedOrder = mapProductOrder(mappingOrderData);
                    console.log('Pedido mapeado para fornecedor:', mappedOrder);
                } catch (error) {
                    console.error('Erro ao mapear pedido:', error);
                }
            }
            
            // Save order to localStorage
            let orders = JSON.parse(localStorage.getItem('orders') || '[]');
            orders.push(orderData);
            localStorage.setItem('orders', JSON.stringify(orders));
            
            // Also save to dashboardData for dashboard synchronization
            let dashboardData = JSON.parse(localStorage.getItem('dashboardData') || '{}');
            if (!dashboardData.orders) dashboardData.orders = [];
            const orderToSave = mappedOrder || orderData;
            dashboardData.orders.push(orderToSave);
            localStorage.setItem('dashboardData', JSON.stringify(dashboardData));
            
            // Redirecionamento será feito pelo supplier-order-processor.js
        }

        // Initialize
        updateQuantity();
        updateOrderSummary();
        
        // Set default size as selected
        document.querySelector('.size-option[onclick*="M"]').classList.add('selected');
        
        // Initialize gallery
        initializeGallery();
        
        // Reviews functionality
        function initializeReviews() {
            const loadMoreBtn = document.querySelector('.load-more-reviews-btn');
            if (loadMoreBtn) {
                loadMoreBtn.addEventListener('click', loadMoreReviews);
            }
        }
        
        function loadMoreReviews() {
            // This function will be used to load more reviews in the future
            // For now, it just shows a message
            const btn = document.querySelector('.load-more-reviews-btn');
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Loading...';
            
            setTimeout(() => {
                btn.innerHTML = 'No more reviews available';
                btn.disabled = true;
                btn.style.opacity = '0.6';
            }, 1000);
        }
        
        // Initialize reviews
        initializeReviews();
        
        // Payment system functions
        function processCheckout() {
            // Validate all required fields
            const requiredFields = ['firstName', 'lastName', 'email', 'phone', 'address', 'city', 'state', 'zipCode', 'country', 'paymentMethod'];
            const missingFields = [];
            
            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (!field || !field.value.trim()) {
                    missingFields.push(fieldId);
                }
            });
            
            if (missingFields.length > 0) {
                alert('Please fill in all required fields: ' + missingFields.join(', '));
                return;
            }
            
            const paymentMethod = document.getElementById('paymentMethod').value;
            
            if (paymentMethod === 'paypal') {
                initializePayPal();
            } else if (paymentMethod === 'pix') {
                handlePixPayment();
            } else if (paymentMethod === 'stripe') {
                handleStripePayment();
            }
        }
        
        function initializePayPal() {
            console.log('PayPal payment initialized');
            // PayPal integration will be handled here
        }
        
        function handlePixPayment() {
            console.log('PIX payment initialized');
            // PIX payment processing
        }
        
        function handleStripePayment() {
            console.log('Stripe payment initialized');
            // Stripe payment processing
        }
        
        // Auto-detect payment methods based on user location
        function setupPaymentMethodsByRegion() {
            const userLanguage = navigator.language || navigator.userLanguage;
            const pixOption = document.getElementById('pix-option');
            const stripeOption = document.getElementById('stripe-option');
            
            // Show PIX for Brazilian users
            if (userLanguage.startsWith('pt-BR') || userLanguage.startsWith('pt_BR')) {
                if (pixOption) {
                    pixOption.style.display = 'block';
                    console.log('🇧🇷 Brazilian customer detected - PIX enabled');
                }
            } else {
                if (pixOption) {
                    pixOption.style.display = 'none';
                }
            }
            
            // Show Stripe for US/UK/CA/AU users
            if (userLanguage.startsWith('en-US') || userLanguage.startsWith('en-GB') || 
                userLanguage.startsWith('en-CA') || userLanguage.startsWith('en-AU')) {
                if (stripeOption) {
                    stripeOption.style.display = 'block';
                    console.log('🇺🇸 English-speaking customer detected - Stripe enabled');
                }
            } else {
                if (stripeOption) {
                    stripeOption.style.display = 'none';
                }
            }
        }
        
        // Payment method change handler
        function setupPaymentMethodControl() {
            const paymentMethodSelect = document.getElementById('paymentMethod');
            if (paymentMethodSelect) {
                paymentMethodSelect.addEventListener('change', function() {
                    const selectedMethod = this.value;
                    
                    // Hide all payment sections
                    document.getElementById('paypal-payment-button').style.display = 'none';
                    document.getElementById('pix-payment-info').style.display = 'none';
                    document.getElementById('stripe-payment-info').style.display = 'none';
                    
                    // Show selected payment method
                    switch(selectedMethod) {
                        case 'paypal':
                            document.getElementById('paypal-payment-button').style.display = 'block';
                            break;
                        case 'pix':
                            document.getElementById('pix-payment-info').style.display = 'block';
                            break;
                        case 'stripe':
                            document.getElementById('stripe-payment-info').style.display = 'block';
                            break;
                    }
                });
            }
        }
        
        // Initialize payment system
        document.addEventListener('DOMContentLoaded', function() {
            setupPaymentMethodsByRegion();
            setupPaymentMethodControl();
        });
    </script>

    <!-- Sistema de Tradução -->
    <script>
        class CheckoutTranslator {
            constructor() {
                this.userLanguage = 'en';
                this.userCountry = null;
                this.userCurrency = 'USD';
                this.isInitialized = false;
                this.init();
            }
            
            async init() {
                try {
                    await this.detectUserLocation();
                    this.updatePageContent();
                    this.isInitialized = true;
                    console.log(`Checkout translator initialized. Language: ${this.userLanguage}, Currency: ${this.userCurrency}`);
                } catch (error) {
                    console.error('Error initializing checkout translator:', error);
                    this.userLanguage = 'en';
                    this.userCurrency = 'USD';
                    this.updatePageContent();
                }
            }
            
            async detectUserLocation() {
                try {
                    let countryCode = null;
                    
                    // Check if running from file:// protocol
                    if (window.location.protocol === 'file:') {
                        console.log('Running from file:// protocol, using fallback detection');
                        this.userLanguage = 'en';
                        this.userCountry = 'US';
                        this.userCurrency = 'USD';
                        return;
                    }
                    
                    // Use ONLY browser language - NO IP detection
                    const browserLang = navigator.language || navigator.userLanguage;
                    console.log('🌍 Browser language detected:', browserLang);
                    
                    // Set language and currency based ONLY on browser language
                    if (browserLang.startsWith('pt-PT') || browserLang.startsWith('pt_PT')) {
                        this.userLanguage = 'pt';
                        this.userCountry = 'PT';
                        this.userCurrency = 'EUR';
                        console.log('🇵🇹 Portuguese (Portugal) detected → EUR');
                    } else if (browserLang.startsWith('pt-BR') || browserLang.startsWith('pt_BR')) {
                        this.userLanguage = 'pt';
                        this.userCountry = 'BR';
                        this.userCurrency = 'BRL';
                        console.log('🇧🇷 Portuguese (Brazil) detected → BRL');
                    } else if (browserLang.startsWith('pt')) {
                        // Generic Portuguese - default to USD (for Angola and other Portuguese-speaking countries)
                        this.userLanguage = 'pt';
                        this.userCountry = 'AO'; // Angola
                        this.userCurrency = 'USD';
                        console.log('🇦🇴 Generic Portuguese detected → USD (Angola/International)');
                    } else {
                        this.userLanguage = 'en';
                        this.userCountry = 'US';
                        this.userCurrency = 'USD';
                        console.log('🇺🇸 English detected → USD');
                    }
                } catch (error) {
                    console.error('Error detecting user location:', error);
                    this.userLanguage = 'en';
                    this.userCountry = 'US';
                    this.userCurrency = 'USD';
                }
            }
            
            translateContent(contentKey) {
                // Detect user language
                const browserLang = navigator.language || navigator.userLanguage;
                const userLanguage = browserLang.startsWith('pt') ? 'pt' : 'en';
                // Portuguese speakers (Brazil, Portugal, etc.) get BRL translations
                const languageKey = userLanguage === 'pt' ? 'BRL' : 'USD';
                
                console.log(`🌍 Translating ${contentKey}: userLanguage=${userLanguage}, languageKey=${languageKey}`);
                
                const translations = {
                    'checkout_title': {
                        'USD': 'Checkout',
                        'BRL': 'Finalizar Compra',
                        'EUR': 'Finalizar Compra'
                    },
                    'product_sofa_cover': {
                        'USD': '3-in-1 Sofa Cover',
                        'BRL': 'Capa Sofá 3 em 1',
                        'EUR': '3-in-1 Sofa Cover'
                    },
                    'gallery_title': {
                        'USD': 'Product Gallery',
                        'BRL': 'Galeria do Produto',
                        'EUR': 'Galeria do Produto'
                    },
                    'reviews_title': {
                        'USD': 'Customer Reviews',
                        'BRL': 'Avaliações dos Clientes',
                        'EUR': 'Avaliações dos Clientes'
                    },
                    'reviews_subtitle': {
                        'USD': 'How this product has improved our customers\' comfort and daily life',
                        'BRL': 'Como este produto melhorou o conforto e a vida diária dos nossos clientes',
                        'EUR': 'Como este produto melhorou o conforto e a vida diária dos nossos clientes'
                    },
                    'rating_based_on': {
                        'USD': 'Based on 127 reviews',
                        'BRL': 'Baseado em 127 avaliações',
                        'EUR': 'Baseado em 127 avaliações'
                    },
                    'reviewer_1_name': {
                        'USD': 'Sarah M.',
                        'BRL': 'Sarah M.',
                        'EUR': 'Sarah M.'
                    },
                    'reviewer_2_name': {
                        'USD': 'Michael R.',
                        'BRL': 'Michael R.',
                        'EUR': 'Michael R.'
                    },
                    'reviewer_3_name': {
                        'USD': 'Emma L.',
                        'BRL': 'Emma L.',
                        'EUR': 'Emma L.'
                    },
                    'review_date': {
                        'USD': '2 days ago',
                        'BRL': 'há 2 dias',
                        'EUR': 'há 2 dias'
                    },
                    'review_1_text': {
                        'USD': '"This sofa cover has transformed my living room! So comfortable and cozy. My family loves spending time here now. Perfect for our home!"',
                        'BRL': '"Esta capa de sofá transformou minha sala de estar! Tão confortável e aconchegante. Minha família adora passar tempo aqui agora. Perfeito para nossa casa!"',
                        'EUR': '"Esta capa de sofá transformou minha sala de estar! Tão confortável e aconchegante. Minha família adora passar tempo aqui agora. Perfeito para nossa casa!"'
                    },
                    'review_2_text': {
                        'USD': '"The material is so soft and warm! Perfect for those cozy movie nights with the family. Easy to clean and maintain. Love it!"',
                        'BRL': '"O material é tão macio e quentinho! Perfeito para aquelas noites aconchegantes de filme com a família. Fácil de limpar e manter. Adorei!"',
                        'EUR': '"O material é tão macio e quentinho! Perfeito para aquelas noites aconchegantes de filme com a família. Fácil de limpar e manter. Adorei!"'
                    },
                    'review_3_text': {
                        'USD': '"This cover has made our sofa so much more comfortable! The kids love it and it\'s perfect for our home. Highly recommend for any family!"',
                        'BRL': '"Esta capa tornou nosso sofá muito mais confortável! As crianças adoram e é perfeito para nossa casa. Altamente recomendado para qualquer família!"',
                        'EUR': '"Esta capa tornou nosso sofá muito mais confortável! As crianças adoram e é perfeito para nossa casa. Altamente recomendado para qualquer família!"'
                    },
                    'load_more_reviews': {
                        'USD': 'Load More Reviews',
                        'BRL': 'Carregar Mais Avaliações',
                        'EUR': 'Carregar Mais Avaliações'
                    },
                    'emotional_benefits_title': {
                        'USD': 'Transform Your Home Into a Safe Haven',
                        'BRL': 'Transforme Sua Casa em um Refúgio Seguro',
                        'EUR': 'Transforme Sua Casa em um Refúgio Seguro'
                    },
                    'emotional_benefits_subtitle': {
                        'USD': 'Create a secure and cozy sanctuary where your family can truly relax and feel at home',
                        'BRL': 'Crie um santuário seguro e aconchegante onde sua família pode realmente relaxar e se sentir em casa',
                        'EUR': 'Crie um santuário seguro e aconchegante onde sua família pode realmente relaxar e se sentir em casa'
                    },
                    'benefit_protection_title': {
                        'USD': 'Protection & Safety',
                        'BRL': 'Proteção e Segurança',
                        'EUR': 'Proteção e Segurança'
                    },
                    'benefit_protection_text': {
                        'USD': 'Keep your sofa safe from spills, pets, and daily wear while maintaining a clean, healthy environment for your family',
                        'BRL': 'Mantenha seu sofá seguro de derramamentos, pets e desgaste diário enquanto mantém um ambiente limpo e saudável para sua família',
                        'EUR': 'Mantenha seu sofá seguro de derramamentos, pets e desgaste diário enquanto mantém um ambiente limpo e saudável para sua família'
                    },
                    'benefit_comfort_title': {
                        'USD': 'Home Comfort',
                        'BRL': 'Conforto do Lar',
                        'EUR': 'Conforto do Lar'
                    },
                    'benefit_comfort_text': {
                        'USD': 'Transform any space into a warm, inviting area where everyone feels comfortable and at ease',
                        'BRL': 'Transforme qualquer espaço em uma área acolhedora e convidativa onde todos se sintam confortáveis e à vontade',
                        'EUR': 'Transforme qualquer espaço em uma área acolhedora e convidativa onde todos se sintam confortáveis e à vontade'
                    },
                    'benefit_family_title': {
                        'USD': 'Family Moments',
                        'BRL': 'Momentos em Família',
                        'EUR': 'Momentos em Família'
                    },
                    'benefit_family_text': {
                        'USD': 'Create the perfect setting for movie nights, family gatherings, and precious moments with your loved ones',
                        'BRL': 'Crie o ambiente perfeito para noites de filme, reuniões familiares e momentos preciosos com seus entes queridos',
                        'EUR': 'Crie o ambiente perfeito para noites de filme, reuniões familiares e momentos preciosos com seus entes queridos'
                    },
                    'contact_info': {
                        'USD': 'Contact Information',
                        'BRL': 'Informações de Contato',
                        'EUR': 'Informações de Contato'
                    },
                    'email_label': {
                        'USD': 'Email *',
                        'BRL': 'Email *',
                        'EUR': 'Email *'
                    },
                    'payment_method': {
                        'USD': 'Payment Method',
                        'BRL': 'Método de Pagamento',
                        'EUR': 'Método de Pagamento'
                    },
                    'payment_method_label': {
                        'USD': 'Payment Method *',
                        'BRL': 'Método de Pagamento *',
                        'EUR': 'Método de Pagamento *'
                    },
                    'select_option': {
                        'USD': 'Select',
                        'BRL': 'Selecionar',
                        'EUR': 'Selecionar'
                    },
                    'pix_option': {
                        'USD': 'PIX (Brazil only)',
                        'BRL': 'PIX (Apenas Brasil)',
                        'EUR': 'PIX (Apenas Brasil)'
                    },
                    'pix_payment': {
                        'USD': 'PIX Payment',
                        'BRL': 'Pagamento PIX',
                        'EUR': 'Pagamento PIX'
                    },
                    'pix_payment_info': {
                        'USD': 'After confirming your order, you will receive PIX payment instructions by email.',
                        'BRL': 'Após confirmar seu pedido, você receberá as instruções de pagamento PIX por email.',
                        'EUR': 'Após confirmar seu pedido, você receberá as instruções de pagamento PIX por email.'
                    },
                    'pix_key': {
                        'USD': 'PIX Key:',
                        'BRL': 'Chave PIX:',
                        'EUR': 'Chave PIX:'
                    },
                    'observations_label': {
                        'USD': 'Observations (optional)',
                        'BRL': 'Observações (opcional)',
                        'EUR': 'Observações (opcional)'
                    },
                    'confirm_order': {
                        'USD': 'Complete Order',
                        'BRL': 'Finalizar Pedido',
                        'EUR': 'Finalizar Pedido'
                    },
                    'customer_info': {
                        'USD': 'Customer Information',
                        'BRL': 'Informações do Cliente',
                        'EUR': 'Informações do Cliente'
                    },
                    'phone_label': {
                        'USD': 'Phone *',
                        'BRL': 'Telefone *',
                        'EUR': 'Telefone *'
                    },
                    'shipping_info': {
                        'USD': 'Shipping Information',
                        'BRL': 'Informações de Entrega',
                        'EUR': 'Informações de Entrega'
                    },
                    'address_label': {
                        'USD': 'Address *',
                        'BRL': 'Endereço *',
                        'EUR': 'Endereço *'
                    },
                    'city_label': {
                        'USD': 'City *',
                        'BRL': 'Cidade *',
                        'EUR': 'Cidade *'
                    },
                    'state_label': {
                        'USD': 'State/Province *',
                        'BRL': 'Estado/Província *',
                        'EUR': 'Estado/Província *'
                    },
                    'zip_code_label': {
                        'USD': 'ZIP/Postal Code *',
                        'BRL': 'CEP/Código Postal *',
                        'EUR': 'CEP/Código Postal *'
                    },
                    'country_label': {
                        'USD': 'Country *',
                        'BRL': 'País *',
                        'EUR': 'País *'
                    },
                    'select_country': {
                        'USD': 'Select Country',
                        'BRL': 'Selecionar País',
                        'EUR': 'Selecionar País'
                    },
                    'country_us': {
                        'USD': 'United States',
                        'BRL': 'Estados Unidos',
                        'EUR': 'Estados Unidos'
                    },
                    'country_br': {
                        'USD': 'Brazil',
                        'BRL': 'Brasil',
                        'EUR': 'Brasil'
                    },
                    'country_pt': {
                        'USD': 'Portugal',
                        'BRL': 'Portugal',
                        'EUR': 'Portugal'
                    },
                    'country_ca': {
                        'USD': 'Canada',
                        'BRL': 'Canadá',
                        'EUR': 'Canadá'
                    },
                    'country_gb': {
                        'USD': 'United Kingdom',
                        'BRL': 'Reino Unido',
                        'EUR': 'Reino Unido'
                    },
                    'country_de': {
                        'USD': 'Germany',
                        'BRL': 'Alemanha',
                        'EUR': 'Alemanha'
                    },
                    'country_fr': {
                        'USD': 'France',
                        'BRL': 'França',
                        'EUR': 'França'
                    },
                    'country_es': {
                        'USD': 'Spain',
                        'BRL': 'Espanha',
                        'EUR': 'Espanha'
                    },
                    'country_it': {
                        'USD': 'Italy',
                        'BRL': 'Itália',
                        'EUR': 'Itália'
                    },
                    'country_au': {
                        'USD': 'Australia',
                        'BRL': 'Austrália',
                        'EUR': 'Austrália'
                    },
                    'stripe_option': {
                        'USD': 'Credit Card (Stripe)',
                        'BRL': 'Cartão de Crédito (Stripe)',
                        'EUR': 'Cartão de Crédito (Stripe)'
                    },
                    'stripe_payment': {
                        'USD': 'Credit Card Payment',
                        'BRL': 'Pagamento com Cartão',
                        'EUR': 'Pagamento com Cartão'
                    },
                    'stripe_payment_info': {
                        'USD': 'Secure payment processing with Stripe. Your card information is encrypted and secure.',
                        'BRL': 'Processamento seguro com Stripe. Suas informações de cartão são criptografadas e seguras.',
                        'EUR': 'Processamento seguro com Stripe. Suas informações de cartão são criptografadas e seguras.'
                    }
                };
                
                return translations[contentKey] ? 
                    translations[contentKey][languageKey] || 
                    translations[contentKey]['USD'] : 
                    contentKey;
            }
            
            updatePageContent() {
                try {
                    // Update page title
                    const pageTitle = document.querySelector('title');
                    if (pageTitle) {
                        pageTitle.textContent = `${this.translateContent('checkout_title')} - 3-in-1 Sofa Cover | 67 Beauty Hub`;
                    }
                    
                    // Update product title
                    const productTitle = document.querySelector('h1[data-translate-key="product_sofa_cover"]');
                    if (productTitle) productTitle.textContent = this.translateContent('product_sofa_cover');
                    
                    // Update order summary title
                    const orderSummaryTitle = document.querySelector('span[data-translate-key="order_summary"]');
                    if (orderSummaryTitle) orderSummaryTitle.textContent = this.translateContent('order_summary');
                    
                    console.log('Checkout page content updated successfully');
                    
                } catch (error) {
                    console.error('Error updating checkout page content:', error);
                }
            }
        }
        
        // Sistema CheckoutTranslator removido - usando sistema global unificado
    </script>


</body>
</html>
