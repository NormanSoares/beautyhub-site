<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - Portable Neck Pillow | 67 Beauty Hub</title>
    <link rel="stylesheet" href="../../styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- PayPal SDK -->
    <!-- PayPal SDK will be loaded dynamically with correct locale -->
    <!-- AliExpress Integration -->
    <script src="../../js/aliexpress-integration.js"></script>
    <!-- Review System -->
    <script src="../../js/review-system.js"></script>
    <!-- Product Variation Mapping System -->
    <script src="../../js/product-variation-mapping.js"></script>
    <!-- Global Translation System -->
    <script src="../../js/language-controller.js"></script>
    
    <!-- Scripts do Sistema de Processamento (carregar primeiro) -->
    <script src="../../js/supplier-order-processor.js"></script>
    <script src="../../js/payment-gateway.js"></script>
    <script src="../../js/pix-generator.js"></script>
    <style>
        /* Estilo para produtos de conforto - baseado nas p√°ginas de beleza */
        body {
            background: linear-gradient(135deg, #f5f1e8 0%, #e8dcc0 100%);
        }
        
        .checkout-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
            margin-top: 50px;
        }
        
        .checkout-layout {
            display: flex;
            flex-direction: column;
            gap: 40px;
        }
        
        .unified-section {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            padding: 30px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            align-items: start;
        }
        
        .checkout-bottom {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 40px;
            align-items: start;
        }
        
        .form-section {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            padding: 30px;
        }
        
        .summary-section {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            padding: 30px;
            height: fit-content;
            position: sticky;
            top: 20px;
        }
        
        .product-gallery {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .main-image {
            width: 100%;
            height: 400px;
            object-fit: cover;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .thumbnail-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }
        
        .thumbnail {
            width: 100%;
            height: 80px;
            object-fit: cover;
            border-radius: 8px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }
        
        .thumbnail:hover,
        .thumbnail.active {
            border-color: #8B4513;
            transform: scale(1.05);
        }
        
        .product-info h1 {
            font-size: 2.2rem;
            color: #2c3e50;
            margin-bottom: 15px;
            font-weight: 600;
        }
        
        .product-info .subtitle {
            color: #7f8c8d;
            font-size: 1.1rem;
            margin-bottom: 20px;
        }
        
        .price-section {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
        }
        
        .price-main {
            font-size: 2.5rem;
            font-weight: 700;
            color: #8B4513;
            margin-bottom: 5px;
        }
        
        .price-original {
            font-size: 1.2rem;
            color: #95a5a6;
            text-decoration: line-through;
            margin-bottom: 10px;
        }
        
        .discount-badge {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            display: inline-block;
            margin-bottom: 15px;
        }
        
        .features-list {
            list-style: none;
            padding: 0;
            margin-bottom: 25px;
        }
        
        .features-list li {
            padding: 8px 0;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .features-list li i {
            color: #8B4513;
            width: 20px;
        }
        
        .color-selector {
            margin-bottom: 25px;
        }
        
        .color-options {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .color-option {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid transparent;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .color-option:hover,
        .color-option.selected {
            border-color: #8B4513;
            transform: scale(1.1);
        }
        
        .color-option::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: inherit;
        }
        
        .quantity-selector {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .quantity-controls {
            display: flex;
            align-items: center;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .quantity-btn {
            background: #f8f9fa;
            border: none;
            padding: 10px 15px;
            cursor: pointer;
            font-size: 1.2rem;
            color: #2c3e50;
            transition: all 0.3s ease;
        }
        
        .quantity-btn:hover {
            background: #e9ecef;
        }
        
        .quantity-input {
            border: none;
            padding: 10px 15px;
            text-align: center;
            width: 60px;
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        .buy-now-btn {
            background: linear-gradient(135deg, #8B4513, #A0522D);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }
        
        .buy-now-btn:hover {
            background: linear-gradient(135deg, #A0522D, #8B4513);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(139, 69, 19, 0.3);
        }
        
        .section-title {
            font-size: 1.5rem;
            color: #2c3e50;
            margin-bottom: 20px;
            font-weight: 600;
            border-bottom: 2px solid #8B4513;
            padding-bottom: 10px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #2c3e50;
            font-weight: 500;
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #8B4513;
            box-shadow: 0 0 0 3px rgba(139, 69, 19, 0.1);
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .payment-methods {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .payment-method {
            flex: 1;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .payment-method:hover,
        .payment-method.selected {
            border-color: #8B4513;
            background: rgba(139, 69, 19, 0.1);
        }
        
        .payment-method i {
            font-size: 2rem;
            margin-bottom: 10px;
            color: #8B4513;
        }
        
        .order-summary {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .order-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #e9ecef;
        }
        
        .order-item:last-child {
            border-bottom: none;
        }
        
        .order-total {
            background: #8B4513;
            color: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            font-size: 1.2rem;
            font-weight: 600;
        }
        
        .shipping-info {
            background: #e8f5e8;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #27ae60;
        }
        
        .shipping-info h4 {
            color: #27ae60;
            margin-bottom: 10px;
        }
        
        .shipping-info p {
            color: #2c3e50;
            margin: 5px 0;
        }
        
        .security-badges {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        
        .security-badge {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            color: #27ae60;
            font-size: 0.9rem;
        }
        
        .security-badge i {
            font-size: 1.5rem;
        }
        
        @media (max-width: 768px) {
            .unified-section {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .checkout-bottom {
                grid-template-columns: 1fr;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .thumbnail-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .product-info h1 {
                font-size: 1.8rem;
            }
            
            .price-main {
                font-size: 2rem;
            }
            
            .main-image {
                height: 300px;
            }
            
            .color-options {
                flex-wrap: wrap;
            }
        }
        
        
        @media (max-width: 480px) {
            .main-image {
                height: 250px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <img src="../../Logo.png" alt="67 Beauty Hub" style="height: 40px;">
            </div>
            <ul class="nav-menu">
                <li><a href="../../index.html">In√≠cio</a></li>
                <li><a href="../../index.html#beauty">Beleza</a></li>
                <li><a href="../../index.html#comfort">Conforto</a></li>
            </ul>
        </div>
    </nav>

    <div class="checkout-container">
        <div class="checkout-layout">
            <!-- Product Section -->
            <div class="unified-section">
                <!-- Product Gallery -->
                <div class="product-gallery">
                    <img src="Galeria/main-image-1.jpeg" alt="Memory Foam Neck Pillow" class="main-image" id="mainImage">
                    <div class="thumbnail-grid">
                        <img src="Galeria/main-image-1.jpeg" alt="Memory Foam Neck Pillow" class="thumbnail active" onclick="changeImage(this)">
                        <img src="Galeria/Gemini_Generated_Image_1ply131ply131ply.png" alt="Memory Foam Neck Pillow" class="thumbnail" onclick="changeImage(this)">
                        <img src="Galeria/Gemini_Generated_Image_8i5pij8i5pij8i5p.png" alt="Memory Foam Neck Pillow" class="thumbnail" onclick="changeImage(this)">
                        <img src="Galeria/Gemini_Generated_Image_ewn2ycewn2ycewn2.png" alt="Memory Foam Neck Pillow" class="thumbnail" onclick="changeImage(this)">
                    </div>
                </div>

                <!-- Product Info -->
                <div class="product-info">
                    <h1 data-translate-key="product_memory_foam_pillow">Travesseiro Cervical Port√°til</h1>
                    <p class="subtitle">Travesseiro cervical port√°til para viagem e descanso</p>
                    
                    <div class="price-section">
                        <div class="price-main">$42.70</div>
                        <div class="price-original">$80.57</div>
                        <div class="discount-badge">47% OFF</div>
                    </div>

                    <ul class="features-list">
                        <li><i class="fas fa-check"></i> Memory foam de alta qualidade</li>
                        <li><i class="fas fa-check"></i> Design em U para suporte cervical</li>
                        <li><i class="fas fa-check"></i> Port√°til e leve</li>
                        <li><i class="fas fa-check"></i> Ideal para viagens e camping</li>
                        <li><i class="fas fa-check"></i> Inclui sacola de transporte</li>
                    </ul>

                    <div class="color-selector">
                        <label>Cor:</label>
                        <div class="color-options">
                            <div class="color-option" style="background: #8B4513;" onclick="selectColor('Brown', this)" title="Marrom"></div>
                            <div class="color-option" style="background: #000000;" onclick="selectColor('Black', this)" title="Preto"></div>
                            <div class="color-option" style="background: #C0C0C0;" onclick="selectColor('Gray', this)" title="Cinza"></div>
                            <div class="color-option" style="background: #FFFFFF; border: 1px solid #ccc;" onclick="selectColor('White', this)" title="Branco"></div>
                        </div>
                    </div>

                    <div class="quantity-selector">
                        <label>Quantidade:</label>
                        <div class="quantity-controls">
                            <button class="quantity-btn" onclick="decreaseQuantity()">-</button>
                            <input type="number" class="quantity-input" id="quantity" value="1" min="1" max="3">
                            <button class="quantity-btn" onclick="increaseQuantity()">+</button>
                        </div>
                    </div>

                    <button class="buy-now-btn" onclick="processOrder('test123')">
                        <i class="fas fa-shopping-cart"></i> Comprar Agora
                    </button>
                </div>
            </div>

            <!-- Emotional Benefits Section -->
            <div class="emotional-benefits-section">
                <h3 data-translate-key="emotional_benefits_title">Safe and Cozy Home</h3>
                <p class="emotional-benefits-subtitle" data-translate-key="emotional_benefits_subtitle">Create a secure and cozy sanctuary where your family can truly relax and feel at home</p>
                
                <div class="benefits-grid">
                    <div class="benefit-item">
                        <div class="benefit-icon">
                            <i class="fas fa-home"></i>
                        </div>
                        <div class="benefit-content">
                            <h4 data-translate-key="benefit_1_title">Family Protection</h4>
                            <p data-translate-key="benefit_1_description">Protect your furniture while creating a comfortable space for the whole family</p>
                        </div>
                    </div>
                    
                    <div class="benefit-item">
                        <div class="benefit-icon">
                            <i class="fas fa-heart"></i>
                        </div>
                        <div class="benefit-content">
                            <h4 data-translate-key="benefit_2_title">Comfort & Relaxation</h4>
                            <p data-translate-key="benefit_2_description">Transform any space into a cozy retreat where everyone can unwind</p>
                        </div>
                    </div>
                    
                    <div class="benefit-item">
                        <div class="benefit-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="benefit-content">
                            <h4 data-translate-key="benefit_3_title">Durability & Quality</h4>
                            <p data-translate-key="benefit_3_description">Built to last with premium materials that withstand daily use</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Checkout Form -->
            <div class="checkout-bottom">
                <div class="form-section">
                    <h3><i class="fas fa-user"></i> <span data-translate-key="customer_info">Customer Information</span></h3>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="firstName" data-translate-key="first_name">First Name *</label>
                            <input type="text" id="firstName" name="firstName" required>
                        </div>
                        <div class="form-group">
                            <label for="lastName" data-translate-key="last_name">Last Name *</label>
                            <input type="text" id="lastName" name="lastName" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="email" data-translate-key="email_label">Email *</label>
                        <input type="email" id="email" name="email" required placeholder="seu@email.com">
                    </div>

                    <div class="form-group">
                        <label for="phone" data-translate-key="phone_label">Phone *</label>
                        <input type="tel" id="phone" name="phone" required placeholder="+1 (555) 123-4567">
                    </div>

                    <h3><i class="fas fa-truck"></i> <span data-translate-key="shipping_info">Shipping Information</span></h3>

                    <div class="form-group">
                        <label for="address" data-translate-key="address_label">Address *</label>
                        <textarea id="address" name="address" rows="3" required placeholder="Street address, apartment, suite, etc."></textarea>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="city" data-translate-key="city_label">City *</label>
                            <input type="text" id="city" name="city" required>
                        </div>
                        <div class="form-group">
                            <label for="state" data-translate-key="state_label">State/Province *</label>
                            <input type="text" id="state" name="state" required>
                        </div>
                    </div>

                    <div class="form-row">
                    <div class="form-group">
                            <label for="zipCode" data-translate-key="zip_code_label">ZIP/Postal Code *</label>
                            <input type="text" id="zipCode" name="zipCode" required>
                        </div>
                        <div class="form-group">
                            <label for="country" data-translate-key="country_label">Country *</label>
                            <select id="country" name="country" required>
                                <option value="" data-translate-key="select_country">Select Country</option>
                                <option value="US" data-translate-key="country_us">United States</option>
                                <option value="BR" data-translate-key="country_br">Brazil</option>
                                <option value="PT" data-translate-key="country_pt">Portugal</option>
                                <option value="CA" data-translate-key="country_ca">Canada</option>
                                <option value="GB" data-translate-key="country_gb">United Kingdom</option>
                                <option value="DE" data-translate-key="country_de">Germany</option>
                                <option value="FR" data-translate-key="country_fr">France</option>
                                <option value="ES" data-translate-key="country_es">Spain</option>
                                <option value="IT" data-translate-key="country_it">Italy</option>
                                <option value="AU" data-translate-key="country_au">Australia</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="observations" data-translate-key="observations_label">Order Notes (optional)</label>
                        <textarea id="observations" name="observations" rows="3" placeholder="Any special instructions for your order?"></textarea>
                    </div>

                    <h3><i class="fas fa-credit-card"></i> <span data-translate-key="payment_method">Payment Method</span></h3>
                    
                    <div class="form-group">
                        <label for="paymentMethod" data-translate-key="payment_method_label">Payment Method *</label>
                        <select id="paymentMethod" name="paymentMethod" required>
                            <option value="" data-translate-key="select_option">Select</option>
                            <option value="paypal" data-translate-key="paypal_option">PayPal</option>
                            <option value="pix" id="pix-option" style="display: none;" data-translate-key="pix_option">PIX (Brazil only)</option>
                            <option value="stripe" id="stripe-option" style="display: none;" data-translate-key="stripe_option">Credit Card (Stripe)</option>
                        </select>
                    </div>

                    <div id="paypal-payment-button" style="display: none;"></div>
                    <div id="pix-payment-info" style="display: none;">
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border: 2px solid #6B5B95; text-align: center;">
                            <h4 style="color: #6B5B95; margin-bottom: 15px;"><i class="fas fa-qrcode"></i> <span data-translate-key="pix_payment">PIX Payment</span></h4>
                            <p style="color: #666; margin-bottom: 15px;" data-translate-key="pix_payment_info">After confirming your order, you will receive PIX payment instructions by email.</p>
                            <div style="background: white; padding: 15px; border-radius: 8px; border: 1px solid #ddd;">
                                <strong data-translate-key="pix_key">PIX Key:</strong> contato@67beautyhub.com
                            </div>
                        </div>
                    </div>
                    
                    <div id="stripe-payment-info" style="display: none;">
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border: 2px solid #6B5B95; text-align: center;">
                            <h4 style="color: #6B5B95; margin-bottom: 15px;"><i class="fas fa-credit-card"></i> <span data-translate-key="stripe_payment">Credit Card Payment</span></h4>
                            <p style="color: #666; margin-bottom: 15px;" data-translate-key="stripe_payment_info">Secure payment processing with Stripe. Your card information is encrypted and secure.</p>
                        </div>
                    </div>

                    <h3 class="section-title">Payment Method</h3>
                    
                    <div class="payment-methods">
                        <div class="payment-method" onclick="selectPayment('paypal')">
                            <i class="fab fa-paypal"></i>
                            <div>PayPal</div>
                        </div>
                        <div class="payment-method" onclick="selectPayment('credit')">
                            <i class="fas fa-credit-card"></i>
                            <div>Cart√£o</div>
                        </div>
                    </div>
                </div>

                <!-- Order Summary -->
                <div class="summary-section">
                    <h3 class="section-title"><span data-translate-key="order_summary">Resumo do Pedido</span></h3>
                    
                    <div class="order-summary">
                        <div class="order-item">
                            <span id="orderProduct">Travesseiro Cervical Port√°til (Marrom)</span>
                            <span id="orderQuantity">1x</span>
                        </div>
                        <div class="order-item">
                            <span>Subtotal</span>
                            <span id="subtotal">$42.70</span>
                        </div>
                        <div class="order-item">
                            <span>Shipping</span>
                            <span>Free</span>
                        </div>
                    </div>
                    
                    <div class="order-total">
                        Total: <span id="total">$42.70</span>
                    </div>

                    <div class="shipping-info">
                        <h4><i class="fas fa-truck"></i> Fast Delivery</h4>
                        <p>Free shipping throughout the US</p>
                        <p>Delivery in 3-7 business days</p>
                    </div>

                    <div class="security-badges">
                        <div class="security-badge">
                            <i class="fas fa-shield-alt"></i>
                            <span>Secure</span>
                        </div>
                        <div class="security-badge">
                            <i class="fas fa-lock"></i>
                            <span>Protected</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Reviews Section -->
        <div class="reviews-section">
            <div class="reviews-container">
                <h2 class="reviews-title">
                    <i class="fas fa-home"></i> 
                    <span data-translate-key="reviews_title">Customer Reviews</span>
                </h2>
                <p class="reviews-subtitle" data-translate-key="reviews_subtitle">How this product has improved our customers' comfort and daily life</p>
                
                <div class="reviews-stats">
                    <div class="rating-overview">
                        <div class="rating-number">4.7</div>
                        <div class="rating-stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <div class="rating-text" data-translate-key="rating_based_on">Based on 892 reviews</div>
                    </div>
                </div>

                <div class="reviews-grid">
                    <div class="review-card">
                        <div class="review-header">
                            <div class="reviewer-info">
                                <div class="reviewer-avatar">S</div>
                                <div class="reviewer-details">
                                    <div class="reviewer-name">Sarah Johnson</div>
                                    <div class="review-rating">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="review-content">
                            <p data-translate-key="review_1_text">"This pillow is a game changer for travel! The memory foam provides perfect neck support and the portable design is so convenient. I use it on flights, in the car, and even at home."</p>
                        </div>
                    </div>

                    <div class="review-card">
                        <div class="review-header">
                            <div class="reviewer-info">
                                <div class="reviewer-avatar">M</div>
                                <div class="reviewer-details">
                                    <div class="reviewer-name">Mike Chen</div>
                                    <div class="review-rating">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="review-content">
                            <p data-translate-key="review_2_text">"Excellent quality and comfort. The cervical support really helps with neck pain. The carry bag makes it easy to take anywhere. Highly recommend!"</p>
                        </div>
                    </div>

                    <div class="review-card">
                        <div class="review-header">
                            <div class="reviewer-info">
                                <div class="reviewer-avatar">L</div>
                                <div class="reviewer-details">
                                    <div class="reviewer-name">Lisa Rodriguez</div>
                                    <div class="review-rating">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="review-content">
                            <p data-translate-key="review_3_text">"Perfect for office naps and travel. The memory foam is so comfortable and the U-shape design really supports the neck. Great value for money!"</p>
                        </div>
                    </div>
                </div>

                <div class="reviews-actions">
                    <button class="load-more-reviews" data-translate-key="load_more_reviews">Load More Reviews</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let quantity = 1;
        let basePrice = 42.70;
        let selectedPayment = null;
        let selectedColor = 'Brown';

        function changeImage(thumbnail) {
            // Remove active class from all thumbnails
            document.querySelectorAll('.thumbnail').forEach(thumb => {
                thumb.classList.remove('active');
            });
            
            // Add active class to clicked thumbnail
            thumbnail.classList.add('active');
            
            // Change main image
            document.getElementById('mainImage').src = thumbnail.src;
        }

        function selectColor(color, element) {
            selectedColor = color;
            
            // Remove selected class from all color options
            document.querySelectorAll('.color-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Add selected class to clicked color option
            element.classList.add('selected');
            
            updateOrderSummary();
        }

        function increaseQuantity() {
            if (quantity < 3) {
                quantity++;
                updateQuantity();
            }
        }

        function decreaseQuantity() {
            if (quantity > 1) {
                quantity--;
                updateQuantity();
            }
        }

        function updateQuantity() {
            document.getElementById('quantity').value = quantity;
            document.getElementById('orderQuantity').textContent = quantity + 'x';
            
            const subtotal = (basePrice * quantity).toFixed(2);
            const total = subtotal;
            
            document.getElementById('subtotal').textContent = '$' + subtotal;
            document.getElementById('total').textContent = '$' + total;
        }

        function updateOrderSummary() {
            document.getElementById('orderProduct').textContent = `Travesseiro Cervical Port√°til (${selectedColor})`;
        }

        function selectPayment(method) {
            selectedPayment = method;
            
            // Remove selected class from all payment methods
            document.querySelectorAll('.payment-method').forEach(method => {
                method.classList.remove('selected');
            });
            
            // Add selected class to clicked payment method
            event.target.closest('.payment-method').classList.add('selected');
        }

        function processOrder(transactionId) {
            const orderData = {
                id: 'ORDER_' + Date.now(),
                transactionId: transactionId,
                product: {
                    name: 'Travesseiro Cervical Port√°til (' + selectedColor + ')',
                    price: basePrice,
                    quantity: quantity,
                    color: selectedColor
                },
                customer: {
                    firstName: document.getElementById('firstName').value,
                    lastName: document.getElementById('lastName').value,
                    email: document.getElementById('email').value,
                    phone: document.getElementById('phone').value,
                    address: document.getElementById('address').value,
                    city: document.getElementById('city').value,
                    state: document.getElementById('state').value,
                    zipCode: document.getElementById('zipCode').value
                },
                paymentMethod: selectedPayment,
                total: (basePrice * quantity).toFixed(2),
                status: 'pending',
                date: new Date().toISOString()
            };
            
            // Map order for supplier (AliExpress)
            let mappedOrder = null;
            if (typeof mapProductOrder === 'function') {
                try {
                    const mappingOrderData = {
                        id: orderData.id,
                        customer: orderData.customer,
                        items: [{
                            productId: 'memory_foam_neck_pillow',
                            name: orderData.product.name,
                            variation: {
                                type: 'color',
                                value: selectedColor,
                                displayName: selectedColor
                            },
                            quantity: orderData.product.quantity,
                            unitPrice: orderData.product.price,
                            totalPrice: orderData.total
                        }],
                        total: orderData.total,
                        date: orderData.date
                    };
                    mappedOrder = mapProductOrder(mappingOrderData);
                    console.log('Pedido mapeado para fornecedor:', mappedOrder);
                } catch (error) {
                    console.error('Erro ao mapear pedido:', error);
                }
            }
            
            // Save order to localStorage
            let orders = JSON.parse(localStorage.getItem('orders') || '[]');
            orders.push(orderData);
            localStorage.setItem('orders', JSON.stringify(orders));
            
            // Also save to dashboardData for dashboard synchronization
            let dashboardData = JSON.parse(localStorage.getItem('dashboardData') || '{}');
            if (!dashboardData.orders) dashboardData.orders = [];
            const orderToSave = mappedOrder || orderData;
            dashboardData.orders.push(orderToSave);
            localStorage.setItem('dashboardData', JSON.stringify(dashboardData));
            
            // Redirecionamento ser√° feito pelo supplier-order-processor.js
        }

        // Initialize
        updateQuantity();
        updateOrderSummary();
        
        // Set default color as selected
        document.querySelector('.color-option[title="Marrom"]').classList.add('selected');
    </script>

    <!-- Sistema de Tradu√ß√£o -->
    <script>
        class CheckoutTranslator {
            constructor() {
                this.userLanguage = 'en';
                this.userCountry = null;
                this.userCurrency = 'USD';
                this.isInitialized = false;
                this.init();
            }
            
            async init() {
                try {
                    await this.detectUserLocation();
                    this.updatePageContent();
                    this.isInitialized = true;
                    console.log(`Checkout translator initialized. Language: ${this.userLanguage}, Currency: ${this.userCurrency}`);
                } catch (error) {
                    console.error('Error initializing checkout translator:', error);
                    this.userLanguage = 'en';
                    this.userCurrency = 'USD';
                    this.updatePageContent();
                }
            }
            
            async detectUserLocation() {
                try {
                    let countryCode = null;
                    
                    // Check if running from file:// protocol
                    if (window.location.protocol === 'file:') {
                        console.log('Running from file:// protocol, using fallback detection');
                        this.userLanguage = 'en';
                        this.userCountry = 'US';
                        this.userCurrency = 'USD';
                        return;
                    }
                    
                    // Detect browser language first
                    const browserLangInitial = navigator.language || navigator.userLanguage;
                    if (browserLangInitial.startsWith('pt')) {
                        this.userLanguage = 'pt';
                    } else {
                        this.userLanguage = 'en';
                    }
                    
                    // Use ONLY browser language - NO IP detection
                    const browserLang = navigator.language || navigator.userLanguage;
                    console.log('üåç Browser language detected:', browserLang);
                    
                    // Set language and currency based ONLY on browser language
                    if (browserLang.startsWith('pt-PT') || browserLang.startsWith('pt_PT')) {
                        this.userLanguage = 'pt';
                        this.userCountry = 'PT';
                        this.userCurrency = 'EUR';
                        console.log('üáµüáπ Portuguese (Portugal) detected ‚Üí EUR');
                    } else if (browserLang.startsWith('pt-BR') || browserLang.startsWith('pt_BR')) {
                        this.userLanguage = 'pt';
                        this.userCountry = 'BR';
                        this.userCurrency = 'BRL';
                        console.log('üáßüá∑ Portuguese (Brazil) detected ‚Üí BRL');
                    } else if (browserLang.startsWith('pt')) {
                        // Generic Portuguese - default to USD (for Angola and other Portuguese-speaking countries)
                        this.userLanguage = 'pt';
                        this.userCountry = 'AO'; // Angola
                        this.userCurrency = 'USD';
                        console.log('üá¶üá¥ Generic Portuguese detected ‚Üí USD (Angola/International)');
                    } else {
                        this.userLanguage = 'en';
                        this.userCountry = 'US';
                        this.userCurrency = 'USD';
                        console.log('üá∫üá∏ English detected ‚Üí USD');
                    }
                } catch (error) {
                    console.error('Error detecting user location:', error);
                    this.userLanguage = 'en';
                    this.userCountry = 'US';
                    this.userCurrency = 'USD';
                }
            }
            
            translateContent(contentKey) {
                // Detect user language
                const browserLang = navigator.language || navigator.userLanguage;
                const userLanguage = browserLang.startsWith('pt') ? 'pt' : 'en';
                // Portuguese speakers (Brazil, Portugal, etc.) get BRL translations
                const languageKey = userLanguage === 'pt' ? 'BRL' : 'USD';
                
                console.log(`üåç Translating ${contentKey}: userLanguage=${userLanguage}, languageKey=${languageKey}`);
                
                const translations = {
                    'checkout_title': {
                        'USD': 'Checkout',
                        'BRL': 'Finalizar Compra',
                        'EUR': 'Finalizar Compra'
                    },
                    'product_memory_foam_pillow': {
                        'USD': 'Portable Neck Pillow',
                        'BRL': 'Travesseiro Cervical Port√°til',
                        'EUR': 'Travesseiro Cervical Port√°til'
                    }
                };
                
                // Use detected language for translation (not currency)
                const currencyKey = this.userLanguage === 'pt' ? 'BRL' : 'USD';
                return translations[contentKey] ?
                    translations[contentKey][currencyKey] ||
                    translations[contentKey]['USD'] :
                    contentKey;
            }
            
            updatePageContent() {
                try {
                    // Update page title
                    const pageTitle = document.querySelector('title');
                    if (pageTitle) {
                        pageTitle.textContent = `${this.translateContent('checkout_title')} - Portable Neck Pillow | 67 Beauty Hub`;
                    }
                    
                    // Update product title
                    const productTitle = document.querySelector('h1[data-translate-key="product_memory_foam_pillow"]');
                    if (productTitle) productTitle.textContent = this.translateContent('product_memory_foam_pillow');
                    
                    // Update order summary title
                    const orderSummaryTitle = document.querySelector('span[data-translate-key="order_summary"]');
                    if (orderSummaryTitle) orderSummaryTitle.textContent = this.translateContent('order_summary');
                    
                    console.log('Checkout page content updated successfully');
                    
                } catch (error) {
                    console.error('Error updating checkout page content:', error);
                }
            }
        }
        
        // Sistema CheckoutTranslator removido - usando sistema global unificado
    </script>


</body>
</html>
