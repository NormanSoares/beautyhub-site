<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Checkout - Phero Perfume | 67 Beauty Hub</title>
    <link rel="stylesheet" href="../../styles.css" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <script src="../../script.js"></script>
    <script src="../../js/aliexpress-integration.js"></script>
    <style>
        body { background: #f0e6d2; }
        .checkout-container { max-width: 1200px; margin: 0 auto; padding: 40px 20px; margin-top: 50px; }
        .checkout-layout { display: flex; flex-direction: column; gap: 40px; }
        .unified-section { background: white; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); padding: 30px; display: grid; grid-template-columns: 1fr 1fr; gap: 40px; align-items: start; }
        .checkout-bottom { display: grid; grid-template-columns: 2fr 1fr; gap: 40px; align-items: start; }
        .form-section { background: white; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); padding: 30px; }
        .checkout-header { text-align: center; margin-bottom: 40px; grid-column: 1 / -1; }
        .checkout-header h1 { color: #d4af37; font-size: 2.5rem; margin-bottom: 10px; }
        .product-summary { background: #f8f9fa; padding: 30px; border-radius: 10px; margin-bottom: 30px; text-align: center; }
        .product-image { max-width: 100%; height: 400px; object-fit: cover; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.15); margin: 0 auto 20px; display: block; }
        .product-details h3 { color: #333; font-size: 1.8rem; margin-bottom: 15px; }
        .product-details p { color: #666; margin-bottom: 20px; font-size: 1.1rem; line-height: 1.6; }
        .offer-options { display: flex; flex-direction: column; gap: 20px; margin-bottom: 30px; }
        .offer-option { border: 2px solid #e0e0e0; border-radius: 12px; padding: 20px; cursor: pointer; transition: all 0.3s ease; position: relative; background: white; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
        .offer-option:hover { border-color: #d4af37; transform: translateY(-2px); box-shadow: 0 8px 25px rgba(212, 175, 55, 0.15); }
        .offer-option.selected { border-color: #d4af37; background: linear-gradient(135deg, #fff9e6, #fff); box-shadow: 0 8px 25px rgba(212, 175, 55, 0.2); transform: translateY(-2px); }
        .offer-checkbox { position: absolute; top: 15px; left: 15px; width: 20px; height: 20px; accent-color: #d4af37; cursor: pointer; }
        .offer-option.has-checkbox { padding-left: 50px; }
        .offer-option.has-checkbox .option-header { margin-left: 10px; }
        .option-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .offer-option h4 { color: #333; font-size: 1.3rem; margin: 0; }
        .offer-option .price { font-size: 1.5rem; font-weight: 700; color: #d4af37; }
        .offer-option .description { color: #666; font-size: 0.95rem; margin-bottom: 10px; }
        .summary-section { background: white; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); padding: 30px; position: sticky; top: 20px; }
        .summary-section h3 { color: #333; margin-bottom: 20px; font-size: 1.4rem; text-align: center; border-bottom: 2px solid #d4af37; padding-bottom: 10px; }
        .form-group-section { margin-bottom: 30px; }
        .form-group-section h3 { color: #333; margin-bottom: 20px; font-size: 1.3rem; border-bottom: 2px solid #d4af37; padding-bottom: 10px; display: flex; align-items: center; gap: 10px; }
        .form-group-section h3 i { color: #d4af37; font-size: 1.2rem; }
        .form-row { display: flex; gap: 20px; margin-bottom: 20px; }
        .form-group { flex: 1; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 500; color: #333; }
        .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 12px 15px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 16px; transition: all 0.3s ease; background: white; color: #333; }
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus { outline: none; border-color: #d4af37; box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1); transform: translateY(-1px); }
        .checkout-summary { background: #f8f9fa; padding: 25px; border-radius: 10px; margin-bottom: 30px; }
        .summary-row { display: flex; justify-content: space-between; margin-bottom: 10px; }
        .summary-row.total { border-top: 2px solid #d4af37; padding-top: 15px; margin-top: 15px; font-size: 1.2rem; font-weight: 700; color: #d4af37; }
        .checkout-btn { width: 100%; background: linear-gradient(135deg, #d4af37, #b8941f); color: white; border: none; padding: 15px; font-size: 1.2rem; font-weight: 600; border-radius: 10px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3); display: flex; align-items: center; justify-content: center; gap: 10px; }
        .checkout-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(212, 175, 55, 0.4); }
        .back-link { text-align: center; margin-top: 20px; }
        .back-link a { color: #d4af37; text-decoration: none; font-weight: 500; }
        @media (max-width: 768px) { 
            .checkout-layout { grid-template-columns: 1fr; gap: 20px; } 
            .form-row { flex-direction: column; } 
            .unified-section { grid-template-columns: 1fr; gap: 20px; } 
            .checkout-bottom { grid-template-columns: 1fr; gap: 20px; } 
            .summary-section { position: static; order: -1; } 
            .product-image { height: 300px; }
            .checkout-container { padding: 20px 10px; margin-top: 20px; }
            .checkout-header h1 { font-size: 2rem; }
            .form-section, .summary-section { padding: 20px; }
            .offer-option { padding: 15px; }
            .checkout-btn { padding: 12px; font-size: 1.1rem; }
        }
        
        @media (max-width: 480px) {
            .product-image { height: 250px; }
            .checkout-header h1 { font-size: 1.8rem; }
            .form-section, .summary-section { padding: 15px; }
            .offer-option { padding: 12px; }
            .offer-option h4 { font-size: 1.1rem; }
            .offer-option .price { font-size: 1.3rem; }
            .checkout-btn { padding: 10px; font-size: 1rem; }
            .form-group input, .form-group select, .form-group textarea { padding: 10px 12px; font-size: 14px; }
        }
        
        /* Flag Dropdown Styles */
        .flag-dropdown-container {
            position: relative;
            display: inline-block;
            margin-left: 20px;
        }
        
        .flag-dropdown {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 20px;
            background: white;
            border: 2px solid #d4af37;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.1);
        }
        
        .flag-dropdown:hover {
            border-color: #b8941f;
            box-shadow: 0 6px 20px rgba(212, 175, 55, 0.2);
        }
        
        .selected-flag {
            font-size: 1.5rem;
            user-select: none;
        }
        
        .dropdown-arrow {
            color: #d4af37;
            font-size: 0.9rem;
            transition: transform 0.3s ease;
        }
        
        .flag-dropdown.open .dropdown-arrow {
            transform: rotate(180deg);
        }
        
        .flag-dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 2px solid #d4af37;
            border-top: none;
            border-radius: 0 0 8px 8px;
            box-shadow: 0 6px 20px rgba(212, 175, 55, 0.2);
            z-index: 1000;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        
        .flag-dropdown-menu.open {
            max-height: 400px;
            overflow-y: auto;
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* Internet Explorer 10+ */
        }
        
        .flag-dropdown-menu.open::-webkit-scrollbar {
            display: none; /* WebKit browsers (Chrome, Safari, Edge) */
        }
        
        .flag-option {
            padding: 12px 20px;
            cursor: pointer;
            transition: background-color 0.2s ease;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .flag-option:hover {
            background-color: #fff9e6;
        }
        
        .flag-option:last-child {
            border-radius: 0 0 6px 6px;
        }
        
        /* Mobile Menu Styles */
        .mobile-menu-toggle {
            display: none;
            flex-direction: column;
            cursor: pointer;
            padding: 10px;
        }
        
        .mobile-menu-toggle span {
            width: 25px;
            height: 3px;
            background: #d4af37;
            margin: 3px 0;
            transition: 0.3s;
            border-radius: 2px;
        }
        
        .mobile-menu-toggle.active span:nth-child(1) {
            transform: rotate(-45deg) translate(-5px, 6px);
        }
        
        .mobile-menu-toggle.active span:nth-child(2) {
            opacity: 0;
        }
        
        .mobile-menu-toggle.active span:nth-child(3) {
            transform: rotate(45deg) translate(-5px, -6px);
        }
        
        @media (max-width: 768px) {
            .mobile-menu-toggle {
                display: flex;
            }
            
            .nav-menu {
                position: fixed;
                top: 70px;
                left: -100%;
                width: 100%;
                height: calc(100vh - 70px);
                background: white;
                flex-direction: column;
                justify-content: flex-start;
                align-items: center;
                transition: left 0.3s ease;
                padding-top: 20px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 1000;
            }
            
            .nav-menu.active {
                left: 0;
            }
            
            .nav-item {
                margin: 15px 0;
            }
            
            .nav-link {
                font-size: 1.2rem;
                padding: 10px 20px;
            }
            
            .flag-dropdown-container {
                margin-top: 20px;
                margin-left: 0;
            }
            
            .flag-dropdown {
                padding: 10px 15px;
            }
            
            .selected-flag {
                font-size: 1.3rem;
            }
        }
        
        /* Offers Title */
        .offers-title {
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }
        
        /* Reviews Section Styles */
        .reviews-section {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            padding: 40px;
            margin: 40px auto;
            max-width: 1200px;
        }
        
        .reviews-header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .reviews-header h3 {
            color: #333;
            font-size: 2rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .reviews-header h3 i {
            color: #d4af37;
        }
        
        .reviews-header p {
            color: #666;
            font-size: 1.1rem;
        }
        
        .reviews-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .review-item {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 25px;
            border: 2px solid #e0e0e0;
            transition: all 0.3s ease;
        }
        
        .review-item:hover {
            border-color: #d4af37;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(212, 175, 55, 0.15);
        }
        
        .review-image {
            margin-bottom: 15px;
        }
        
        .review-avatar {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #d4af37, #b8941f);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }
        
        .review-stars {
            color: #d4af37;
            margin-bottom: 15px;
        }
        
        .review-stars i {
            margin-right: 2px;
        }
        
        .review-text {
            color: #333;
            font-size: 1rem;
            line-height: 1.6;
            margin-bottom: 15px;
            font-style: italic;
        }
        
        .review-author strong {
            color: #333;
            font-size: 1.1rem;
        }
        
        .review-date {
            color: #666;
            font-size: 0.9rem;
            display: block;
            margin-top: 5px;
        }
        
        .reviews-stats {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: #d4af37;
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: #666;
            font-size: 1rem;
        }
        
        /* Screen Reader Only */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        /* Add Review Section */
        .add-review-section {
            display: none;
        }
        
        @media (max-width: 768px) {
            .reviews-section {
                padding: 20px;
                margin: 20px auto;
            }
            
            .reviews-header h3 {
                font-size: 1.5rem;
            }
            
            .reviews-container {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .reviews-stats {
                gap: 20px;
            }
            
            .stat-number {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <div class="logo-container">
                    <img src="../../Logo.png" alt="67 Beauty Hub" class="logo-image" />
                    <div class="logo-text"><span class="logo-brand">67 BEAUTY HUB</span></div>
                </div>
            </div>
            <ul class="nav-menu" id="navMenu">
                <li class="nav-item"><a href="../../index.html" class="nav-link">Início</a></li>
                <li class="nav-item"><a href="../../index.html#products" class="nav-link">Produtos</a></li>
                <li class="nav-item"><a href="../../index.html#about" class="nav-link">Sobre</a></li>
                <li class="nav-item"><a href="../../index.html#contact" class="nav-link">Contato</a></li>
            </ul>
            
            <!-- Mobile Menu Toggle -->
            <div class="mobile-menu-toggle" id="mobileMenuToggle" role="button" aria-label="Toggle mobile menu" aria-expanded="false" tabindex="0">
                <span></span>
                <span></span>
                <span></span>
            </div>
            
            <!-- Flag Dropdown Selector -->
            <div class="flag-dropdown-container">
                <div class="flag-dropdown" id="flagDropdown" role="button" aria-label="Select country and currency" aria-expanded="false" tabindex="0">
                    <div class="selected-flag" id="selectedFlag">🇺🇸</div>
                    <i class="fas fa-chevron-down dropdown-arrow" aria-hidden="true"></i>
                </div>
                <div class="flag-dropdown-menu" id="flagDropdownMenu" role="listbox" aria-label="Country selection">
                    <!-- Países selecionados -->
                    <div class="flag-option" data-currency="USD" data-flag="🇺🇸" data-country="Estados Unidos" role="option" tabindex="0">🇺🇸 Estados Unidos</div>
                    <div class="flag-option" data-currency="BRL" data-flag="🇧🇷" data-country="Brasil" role="option" tabindex="0">🇧🇷 Brasil</div>
                    <div class="flag-option" data-currency="EUR" data-flag="🇵🇹" data-country="Portugal" role="option" tabindex="0">🇵🇹 Portugal</div>
                </div>
            </div>
        </div>
    </nav>

    <div class="checkout-container">
        <div class="checkout-header">
            <h1><i class="fas fa-shopping-cart"></i> Finalizar Compra</h1>
            <p>Escolha sua oferta e complete seu pedido com segurança</p>
        </div>

        <div class="checkout-layout">
            <div class="unified-section">
                <div class="product-info">
                    <div class="product-summary">
                        <img src="Apresentação.jpg" alt="Phero Perfume" class="product-image" id="mainProductImage" />
                        <div class="product-details">
                            <h3>Phero Perfume</h3>
                            <p>Fragrância feminina com feromônios, desenvolvida para realçar a confiança, atrair olhares e despertar desejo. Um perfume envolvente para mulheres que querem marcar presença.</p>
                        </div>
                    </div>
                </div>

                <div class="offers-info">
                    <h3 class="offers-title"><i class="fas fa-gift"></i> Escolha Sua Oferta</h3>
                    
                    <div class="offer-options">
                        <div class="offer-option has-checkbox selected" data-option="basic">
                            <input type="checkbox" class="offer-checkbox" id="offer-basic" data-option="basic" checked />
                            <div class="option-header">
                                <h4>Perfume 50ml</h4>
                                <div class="price">R$ 129,90</div>
                            </div>
                            <div class="description">Fragrância com feromônios femininos</div>
                            <div class="description">• Duração até 8 horas</div>
                            <div class="description">• Notas envolventes e sedutoras</div>
                        </div>

                        <div class="offer-option has-checkbox" data-option="premium">
                            <input type="checkbox" class="offer-checkbox" id="offer-premium" data-option="premium" />
                            <div class="option-header">
                                <h4>Kit Duplo</h4>
                                <div class="price">R$ 199,90</div>
                            </div>
                            <div class="description">+ 1 perfume adicional 30ml</div>
                            <div class="description">• Perfeito para presentear</div>
                            <div class="description">• Economia no kit duplo</div>
                        </div>

                        <div class="offer-option has-checkbox" data-option="complete">
                            <input type="checkbox" class="offer-checkbox" id="offer-complete" data-option="complete" />
                            <div class="option-header">
                                <h4>Kit Premium</h4>
                                <div class="price">R$ 249,90</div>
                            </div>
                            <div class="description">+ Loção hidratante com feromônios</div>
                            <div class="description">• Hidratação com fragrância</div>
                            <div class="description">• Kit completo de sedução</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="checkout-bottom">
                <div class="form-section">
                    <form class="checkout-form" id="checkoutForm">
                        <div class="form-group-section">
                            <h3><i class="fas fa-user"></i> Dados Pessoais</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="firstName">Nome *</label>
                                    <input type="text" id="firstName" name="firstName" required aria-describedby="firstName-help" aria-required="true" />
                                    <div id="firstName-help" class="sr-only">Digite seu nome completo</div>
                                </div>
                                <div class="form-group">
                                    <label for="lastName">Sobrenome *</label>
                                    <input type="text" id="lastName" name="lastName" required aria-describedby="lastName-help" aria-required="true" />
                                    <div id="lastName-help" class="sr-only">Digite seu sobrenome</div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="email">E-mail *</label>
                                    <input type="email" id="email" name="email" required />
                                </div>
                                <div class="form-group">
                                    <label for="phone">Telefone *</label>
                                    <input type="tel" id="phone" name="phone" required />
                                </div>
                            </div>
                        </div>

                        <div class="form-group-section">
                            <h3><i class="fas fa-map-marker-alt"></i> Endereço de Entrega</h3>
                            <div class="form-group">
                                <label for="address">Endereço Completo *</label>
                                <input type="text" id="address" name="address" required />
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="city">Cidade *</label>
                                    <input type="text" id="city" name="city" required />
                                </div>
                                <div class="form-group">
                                    <label for="country">País *</label>
                                    <input type="text" id="country" name="country" required placeholder="Selecione ou digite o nome do seu país" list="country-list" />
                                    <datalist id="country-list">
                                        <option value="🇧🇷 Brasil"></option>
                                        <option value="🇺🇸 Estados Unidos"></option>
                                        <option value="🇨🇦 Canadá"></option>
                                        <option value="🇲🇽 México"></option>
                                        <option value="🇦🇷 Argentina"></option>
                                        <option value="🇨🇱 Chile"></option>
                                        <option value="🇨🇴 Colômbia"></option>
                                        <option value="🇵🇪 Peru"></option>
                                        <option value="🇺🇾 Uruguai"></option>
                                        <option value="🇵🇹 Portugal"></option>
                                        <option value="🇪🇸 Espanha"></option>
                                        <option value="🇫🇷 França"></option>
                                        <option value="🇩🇪 Alemanha"></option>
                                        <option value="🇮🇹 Itália"></option>
                                        <option value="🇬🇧 Reino Unido"></option>
                                        <option value="🇦🇺 Austrália"></option>
                                        <option value="🇯🇵 Japão"></option>
                                        <option value="🇨🇳 China"></option>
                                        <option value="🇮🇳 Índia"></option>
                                    </datalist>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="state">Estado/Província *</label>
                                    <select id="state" name="state" required>
                                        <option value="">Selecione</option></option>
                                        <!-- Estados brasileiros (padrão) -->
                                        <option value="AC" data-country="Brasil">Acre</option></option>
                                        <option value="AL" data-country="Brasil">Alagoas</option></option>
                                        <option value="AP" data-country="Brasil">Amapá</option></option>
                                        <option value="AM" data-country="Brasil">Amazonas</option></option>
                                        <option value="BA" data-country="Brasil">Bahia</option></option>
                                        <option value="CE" data-country="Brasil">Ceará</option></option>
                                        <option value="DF" data-country="Brasil">Distrito Federal</option></option>
                                        <option value="ES" data-country="Brasil">Espírito Santo</option></option>
                                        <option value="GO" data-country="Brasil">Goiás</option></option>
                                        <option value="MA" data-country="Brasil">Maranhão</option></option>
                                        <option value="MT" data-country="Brasil">Mato Grosso</option>
                                        <option value="MS" data-country="Brasil">Mato Grosso do Sul</option>
                                        <option value="MG" data-country="Brasil">Minas Gerais</option>
                                        <option value="PA" data-country="Brasil">Pará</option>
                                        <option value="PB" data-country="Brasil">Paraíba</option>
                                        <option value="PR" data-country="Brasil">Paraná</option>
                                        <option value="PE" data-country="Brasil">Pernambuco</option>
                                        <option value="PI" data-country="Brasil">Piauí</option>
                                        <option value="RJ" data-country="Brasil">Rio de Janeiro</option>
                                        <option value="RN" data-country="Brasil">Rio Grande do Norte</option>
                                        <option value="RS" data-country="Brasil">Rio Grande do Sul</option>
                                        <option value="RO" data-country="Brasil">Rondônia</option>
                                        <option value="RR" data-country="Brasil">Roraima</option>
                                        <option value="SC" data-country="Brasil">Santa Catarina</option>
                                        <option value="SP" data-country="Brasil">São Paulo</option>
                                        <option value="SE" data-country="Brasil">Sergipe</option>
                                        <option value="TO" data-country="Brasil">Tocantins</option>
                                        <!-- Estados americanos -->
                                        <option value="AL" data-country="Estados Unidos">Alabama</option>
                                        <option value="AK" data-country="Estados Unidos">Alaska</option>
                                        <option value="AZ" data-country="Estados Unidos">Arizona</option>
                                        <option value="AR" data-country="Estados Unidos">Arkansas</option>
                                        <option value="CA" data-country="Estados Unidos">California</option>
                                        <option value="CO" data-country="Estados Unidos">Colorado</option>
                                        <option value="CT" data-country="Estados Unidos">Connecticut</option>
                                        <option value="DE" data-country="Estados Unidos">Delaware</option>
                                        <option value="FL" data-country="Estados Unidos">Florida</option>
                                        <option value="GA" data-country="Estados Unidos">Georgia</option>
                                        <option value="HI" data-country="Estados Unidos">Hawaii</option>
                                        <option value="ID" data-country="Estados Unidos">Idaho</option>
                                        <option value="IL" data-country="Estados Unidos">Illinois</option>
                                        <option value="IN" data-country="Estados Unidos">Indiana</option>
                                        <option value="IA" data-country="Estados Unidos">Iowa</option>
                                        <option value="KS" data-country="Estados Unidos">Kansas</option>
                                        <option value="KY" data-country="Estados Unidos">Kentucky</option>
                                        <option value="LA" data-country="Estados Unidos">Louisiana</option>
                                        <option value="ME" data-country="Estados Unidos">Maine</option>
                                        <option value="MD" data-country="Estados Unidos">Maryland</option>
                                        <option value="MA" data-country="Estados Unidos">Massachusetts</option>
                                        <option value="MI" data-country="Estados Unidos">Michigan</option>
                                        <option value="MN" data-country="Estados Unidos">Minnesota</option>
                                        <option value="MS" data-country="Estados Unidos">Mississippi</option>
                                        <option value="MO" data-country="Estados Unidos">Missouri</option>
                                        <option value="MT" data-country="Estados Unidos">Montana</option>
                                        <option value="NE" data-country="Estados Unidos">Nebraska</option>
                                        <option value="NV" data-country="Estados Unidos">Nevada</option>
                                        <option value="NH" data-country="Estados Unidos">New Hampshire</option>
                                        <option value="NJ" data-country="Estados Unidos">New Jersey</option>
                                        <option value="NM" data-country="Estados Unidos">New Mexico</option>
                                        <option value="NY" data-country="Estados Unidos">New York</option>
                                        <option value="NC" data-country="Estados Unidos">North Carolina</option>
                                        <option value="ND" data-country="Estados Unidos">North Dakota</option>
                                        <option value="OH" data-country="Estados Unidos">Ohio</option>
                                        <option value="OK" data-country="Estados Unidos">Oklahoma</option>
                                        <option value="OR" data-country="Estados Unidos">Oregon</option>
                                        <option value="PA" data-country="Estados Unidos">Pennsylvania</option>
                                        <option value="RI" data-country="Estados Unidos">Rhode Island</option>
                                        <option value="SC" data-country="Estados Unidos">South Carolina</option>
                                        <option value="SD" data-country="Estados Unidos">South Dakota</option>
                                        <option value="TN" data-country="Estados Unidos">Tennessee</option>
                                        <option value="TX" data-country="Estados Unidos">Texas</option>
                                        <option value="UT" data-country="Estados Unidos">Utah</option>
                                        <option value="VT" data-country="Estados Unidos">Vermont</option>
                                        <option value="VA" data-country="Estados Unidos">Virginia</option>
                                        <option value="WA" data-country="Estados Unidos">Washington</option>
                                        <option value="WV" data-country="Estados Unidos">West Virginia</option>
                                        <option value="WI" data-country="Estados Unidos">Wisconsin</option>
                                        <option value="WY" data-country="Estados Unidos">Wyoming</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="zipCode">CEP *</label>
                                    <input type="text" id="zipCode" name="zipCode" required />
                                </div>
                            </div>
                        </div>

                        <div class="form-group-section">
                            <h3><i class="fas fa-credit-card"></i> Forma de Pagamento</h3>
                            <div class="form-group">
                                <label for="paymentMethod">Método de Pagamento *</label>
                                <select id="paymentMethod" name="paymentMethod" required>
                                    <option value="">Selecione</option></option>
                                    <option value="pix">PIX</option>
                                    <option value="paypal">PayPal</option>
                                    <option value="visa">Visa</option>
                                    <option value="credit">Cartão de Crédito</option>
                                    <option value="debit">Cartão de Débito</option>
                                    <option value="boleto">Boleto Bancário</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="observations">Observações (opcional)</label>
                                <textarea id="observations" name="observations" rows="3" placeholder="Alguma observação especial sobre seu pedido?"></textarea>
                            </div>
                        </div>

                        <button type="submit" class="checkout-btn">
                            <i class="fas fa-check"></i> Confirmar Pedido
                        </button>
                    </form>

                </div>

                <div class="summary-section">
                    <h3><i class="fas fa-receipt"></i> Resumo do Pedido</h3>
                    <div class="checkout-summary">
                        <div id="selectedOffers"></div>
                        <div class="summary-row total">
                            <span>Total</span>
                            <span id="totalAmount">R$ 129,90</span>
                        </div>
                        
                        <!-- Currency Selector for Summary -->
                        <div style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 10px; text-align: center;">
                            <div>
                                <label style="display: block; color: #555; font-size: 14px; margin-bottom: 5px;">
                                    <i class="fas fa-exchange-alt"></i> Moeda do Resumo
                                </label>
                                <select id="summaryCurrencySelector" style="padding: 8px 12px; border: 2px solid #d4af37; border-radius: 6px; background: white; color: #333; font-size: 14px; width: 100%; max-width: 250px;">
                                    <option value="USD">🇺🇸 Dólar Americano (USD)</option>
                                    <option value="BRL">🇧🇷 Real Brasileiro (BRL)</option>
                                    <option value="EUR">🇪🇺 Euro (EUR)</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const offers = {
            basic: { name: 'Perfume 50ml', price: 129.90, discount: 0, shipping: 8.90 },
            premium: { name: 'Kit Duplo', price: 199.90, discount: 0, shipping: 8.90 },
            complete: { name: 'Kit Premium', price: 249.90, discount: 0, shipping: 0 }
        };

        let selectedOffers = ['basic'];

        document.querySelectorAll('.offer-checkbox').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                const option = this.dataset.option;
                const offerElement = this.closest('.offer-option');
                
                if (this.checked) {
                    if (!selectedOffers.includes(option)) {
                        selectedOffers.push(option);
                    }
                    offerElement.classList.add('selected');
                } else {
                    selectedOffers = selectedOffers.filter(offer => offer !== option);
                    offerElement.classList.remove('selected');
                }
                
                if (selectedOffers.length === 0) {
                    this.checked = true;
                    selectedOffers.push(option);
                    offerElement.classList.add('selected');
                }
                
                updateOrderSummary();
            });
        });

        document.querySelectorAll('.offer-option').forEach(option => {
            option.addEventListener('click', function(e) {
                if (e.target.type === 'checkbox') return;
                const checkbox = this.querySelector('.offer-checkbox');
                checkbox.checked = !checkbox.checked;
                checkbox.dispatchEvent(new Event('change'));
            });
        });

        function updateOrderSummary() {
            const selectedOffersContainer = document.getElementById('selectedOffers');
            let total = 0;

            selectedOffersContainer.innerHTML = '';

            selectedOffers.forEach(offerKey => {
                const offer = offers[offerKey];
                const discountAmount = (offer.price * offer.discount / 100);
                const offerTotal = offer.price - discountAmount;
                
                total += offerTotal;

                const offerRow = document.createElement('div');
                offerRow.className = 'summary-row';
                offerRow.innerHTML = `
                    <span>${offer.name}</span>
                    <span>R$ ${offerTotal.toFixed(2).replace('.', ',')}</span>
                `;
                selectedOffersContainer.appendChild(offerRow);
            });

            const totalElement = document.getElementById('totalAmount');
            if (totalElement) {
                totalElement.textContent = `R$ ${total.toFixed(2).replace('.', ',')}`;
            }
        }

        document.getElementById('checkoutForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Validate form
            if (!validateForm()) {
                return;
            }
            
            const formData = new FormData(this);
            const orderData = {};
            formData.forEach((value, key) => {
                orderData[key] = value;
            });
            
            orderData.selectedOffers = selectedOffers;
            orderData.offerNames = selectedOffers.map(key => offers[key].name);
            
            let total = 0;
            selectedOffers.forEach(offerKey => {
                const offer = offers[offerKey];
                const discountAmount = (offer.price * offer.discount / 100);
                const offerTotal = offer.price - discountAmount;
                total += offerTotal;
            });
            
            orderData.total = total;
            
            const offerNames = selectedOffers.map(key => offers[key].name).join(', ');
            alert(`Pedido realizado com sucesso!\n\nProduto: Phero Perfume\nOfertas: ${offerNames}\nTotal: R$ ${orderData.total.toFixed(2).replace('.', ',')}\n\nVocê receberá um e-mail de confirmação em breve.`);
            
            window.location.href = '../../index.html';
        });

        function validateForm() {
            const requiredFields = ['firstName', 'lastName', 'email', 'phone', 'address', 'city', 'country', 'state', 'zipCode', 'paymentMethod'];
            let isValid = true;
            
            // Clear previous error styles
            document.querySelectorAll('.form-group input, .form-group select').forEach(field => {
                field.style.borderColor = '#e0e0e0';
            });
            
            // Validate required fields
            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (!field || !field.value.trim()) {
                    field.style.borderColor = '#e74c3c';
                    isValid = false;
                }
            });
            
            // Validate email format
            const email = document.getElementById('email');
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (email && !emailRegex.test(email.value)) {
                email.style.borderColor = '#e74c3c';
                isValid = false;
            }
            
            // Validate phone format (Brazilian)
            const phone = document.getElementById('phone');
            const phoneRegex = /^\(\d{2}\) \d{5}-\d{4}$/;
            if (phone && !phoneRegex.test(phone.value)) {
                phone.style.borderColor = '#e74c3c';
                isValid = false;
            }
            
            // Validate ZIP code format (Brazilian)
            const zipCode = document.getElementById('zipCode');
            const zipRegex = /^\d{5}-\d{3}$/;
            if (zipCode && !zipRegex.test(zipCode.value)) {
                zipCode.style.borderColor = '#e74c3c';
                isValid = false;
            }
            
            if (!isValid) {
                alert('Por favor, preencha todos os campos obrigatórios corretamente.');
            }
            
            return isValid;
        }

        document.getElementById('zipCode').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            value = value.replace(/(\d{5})(\d)/, '$1-$2');
            e.target.value = value;
        });

        document.getElementById('phone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            value = value.replace(/(\d{2})(\d{5})(\d{4})/, '($1) $2-$3');
            e.target.value = value;
        });

        // Sync country input with flag dropdown and update states
        document.getElementById('country').addEventListener('input', function() {
            const countryValue = this.value.toLowerCase();
            const flagOptions = document.querySelectorAll('.flag-option');
            
            // Try to match with existing flag options
            flagOptions.forEach(option => {
                const optionCountry = option.dataset.country.toLowerCase();
                const optionText = option.textContent.toLowerCase();
                
                if (countryValue.includes(optionCountry) || optionText.includes(countryValue)) {
                    // Update flag dropdown to match
                    const flag = option.dataset.flag;
                    const currency = option.dataset.currency;
                    
                    document.getElementById('selectedFlag').textContent = flag;
                    updateCurrency(currency);
                    
                    // Update state options based on country
                    updateStateOptions(optionCountry);
                }
            });
        });

        function updateStateOptions(country) {
            const stateSelect = document.getElementById('state');
            const options = stateSelect.querySelectorAll('option');
            
            // Hide all options except the first one
            options.forEach(option => {
                if (option.value === '') {
                    option.style.display = 'block';
                } else {
                    option.style.display = 'none';
                }
            });
            
            // Show options for the selected country
            options.forEach(option => {
                if (option.dataset.country && option.dataset.country.toLowerCase() === country.toLowerCase()) {
                    option.style.display = 'block';
                }
            });
            
            // Reset state selection
            stateSelect.value = '';
        }

        // Mobile Menu Toggle
        document.getElementById('mobileMenuToggle').addEventListener('click', function() {
            const navMenu = document.getElementById('navMenu');
            const mobileToggle = document.getElementById('mobileMenuToggle');
            
            navMenu.classList.toggle('active');
            mobileToggle.classList.toggle('active');
            
            // Update ARIA attributes
            const isExpanded = navMenu.classList.contains('active');
            mobileToggle.setAttribute('aria-expanded', isExpanded);
        });

        // Close mobile menu when clicking on a link
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', function() {
                const navMenu = document.getElementById('navMenu');
                const mobileToggle = document.getElementById('mobileMenuToggle');
                
                navMenu.classList.remove('active');
                mobileToggle.classList.remove('active');
            });
        });

        // Close mobile menu when clicking outside
        document.addEventListener('click', function(e) {
            const navMenu = document.getElementById('navMenu');
            const mobileToggle = document.getElementById('mobileMenuToggle');
            const navContainer = document.querySelector('.nav-container');
            
            if (!navContainer.contains(e.target) && navMenu.classList.contains('active')) {
                navMenu.classList.remove('active');
                mobileToggle.classList.remove('active');
            }
        });

        document.addEventListener('DOMContentLoaded', function() {
            updateOrderSummary();
            
            // Event listener para o seletor de moeda do resumo
            const summaryCurrencySelector = document.getElementById('summaryCurrencySelector');
            if (summaryCurrencySelector) {
                summaryCurrencySelector.addEventListener('change', function() {
                    const selectedCurrency = this.value;
                    console.log('Summary currency changed to:', selectedCurrency);
                    // Aqui você pode adicionar lógica de conversão se necessário
                });
            }
            
            // Set default country based on initial flag selection
            const defaultFlag = document.getElementById('selectedFlag').textContent;
            const defaultOption = document.querySelector(`[data-flag="${defaultFlag}"]`);
            if (defaultOption) {
                const countryInput = document.getElementById('country');
                if (countryInput && !countryInput.value) {
                    countryInput.value = `${defaultFlag} ${defaultOption.dataset.country}`;
                }
            }
        });
    </script>

    <!-- Reviews Section (moved to end) -->
    <div class="reviews-section">
        <div class="reviews-header">
            <h3><i class="fas fa-star"></i> O que nossos clientes estão dizendo</h3>
            <p>Mais de 1.400 clientes satisfeitas com nossos produtos</p>
            
            <!-- Botão para adicionar review -->
            <div style="margin-top: 20px;">
                <button id="addReviewBtn" style="background: #d4af37; color: white; border: none; padding: 12px 24px; border-radius: 25px; font-size: 16px; cursor: pointer; transition: all 0.3s ease;">
                    <i class="fas fa-plus"></i> Adicionar sua Review
                </button>
            </div>
        </div>
        
        <div class="reviews-container">
            <div class="review-item clickable-review" data-review-id="customer1" data-author="Cliente Satisfeita" data-date="15 dias atrás" data-stars="5">
                <div class="review-image">
                    <div class="review-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                </div>
                <div class="review-content">
                    <div class="review-stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <p class="review-text">"Produto excelente! Superou minhas expectativas. Qualidade incrível e entrega rápida. Recomendo para todos!"</p>
                    <div class="review-author">
                        <strong>Cliente Satisfeita</strong>
                        <span class="review-date">Compra verificada - 15 dias atrás</span>
                    </div>
                </div>
            </div>

            <div class="review-item clickable-review" data-author="Maria Silva" data-date="1 semana atrás" data-stars="5">
                <div class="review-image">
                    <div class="review-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                </div>
                <div class="review-content">
                    <div class="review-stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <p class="review-text">"Muito satisfeita com a compra! O produto chegou exatamente como descrito. Atendimento perfeito e qualidade garantida."</p>
                    <div class="review-author">
                        <strong>Maria Silva</strong>
                        <span class="review-date">Compra verificada - 1 semana atrás</span>
                    </div>
                </div>
            </div>

            <div class="review-item clickable-review" data-author="Ana Costa" data-date="3 semanas atrás" data-stars="5">
                <div class="review-image">
                    <div class="review-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                </div>
                <div class="review-content">
                    <div class="review-stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <p class="review-text">"Produto de alta qualidade! Entrega super rápida e bem embalado. Já estou pensando em comprar novamente."</p>
                    <div class="review-author">
                        <strong>Ana Costa</strong>
                        <span class="review-date">Compra verificada - 3 semanas atrás</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Statistics -->
        <div class="reviews-stats">
            <div class="stat-item">
                <div class="stat-number">4.8</div>
                <div class="stat-label">Avaliação Média</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">1,427</div>
                <div class="stat-label">Avaliações</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">98%</div>
                <div class="stat-label">Recomendariam</div>
            </div>
        </div>

        <!-- Seção para Adicionar Review (apenas para usuários logados) -->
        <div class="add-review-section" id="addReviewSection">
            <!-- Conteúdo será inserido dinamicamente pelo JavaScript -->
        </div>
    </div>

    <!-- Review System Section -->
    <div id="reviewSection">
        <script>
            // Adicionar seção de reviews ao DOM
            document.addEventListener('DOMContentLoaded', function() {
                if (typeof reviewSystem !== 'undefined') {
                    const reviewSection = reviewSystem.createReviewSection('phero-perfume', 'Phero Perfume + Combo');
                    document.body.insertAdjacentHTML('beforeend', reviewSection);
                    reviewSystem.loadExistingReviews();
                }
            });
        </script>
    </div>

    <script>
        // Flag Dropdown Functionality
        function toggleFlagDropdown() {
            try {
                const dropdown = document.getElementById('flagDropdownMenu');
                const flagDropdown = document.getElementById('flagDropdown');
                
                if (dropdown && flagDropdown) {
                    dropdown.classList.toggle('open');
                    flagDropdown.classList.toggle('open');
                    
                    // Update ARIA attributes
                    const isExpanded = dropdown.classList.contains('open');
                    flagDropdown.setAttribute('aria-expanded', isExpanded);
                }
            } catch (error) {
                console.error('Error toggling flag dropdown:', error);
            }
        }

        // Add event listener for flag dropdown
        document.getElementById('flagDropdown').addEventListener('click', toggleFlagDropdown);

        // Close dropdown when clicking outside
        document.addEventListener('click', function(e) {
            try {
                const dropdown = document.getElementById('flagDropdownMenu');
                const flagDropdown = document.querySelector('.flag-dropdown');
                
                if (dropdown && flagDropdown && !flagDropdown.contains(e.target)) {
                    dropdown.classList.remove('open');
                    flagDropdown.classList.remove('open');
                }
            } catch (error) {
                console.error('Error handling dropdown click:', error);
            }
        });

        // Handle flag selection
        document.querySelectorAll('.flag-option').forEach(option => {
            option.addEventListener('click', function() {
                try {
                    const flag = this.dataset.flag;
                    const currency = this.dataset.currency;
                    const country = this.dataset.country;
                    
                    const selectedFlagElement = document.getElementById('selectedFlag');
                    if (selectedFlagElement) {
                        selectedFlagElement.textContent = flag;
                    }
                    
                    // Update country field in the form
                    const countryInput = document.getElementById('country');
                    if (countryInput) {
                        countryInput.value = `${flag} ${country}`;
                    }
                    
                    // Update state options based on country
                    updateStateOptions(country);
                    
                    // Update currency in the page
                    updateCurrency(currency);
                    
                    // Close dropdown
                    const dropdown = document.getElementById('flagDropdownMenu');
                    const flagDropdown = document.querySelector('.flag-dropdown');
                    if (dropdown && flagDropdown) {
                        dropdown.classList.remove('open');
                        flagDropdown.classList.remove('open');
                    }
                } catch (error) {
                    console.error('Error handling flag selection:', error);
                }
            });
        });

        function updateCurrency(currency) {
            try {
                // Update prices based on selected currency
                const currencyRates = {
                    'USD': { symbol: '$', rate: 1, basePrice: 25.00 },
                    'BRL': { symbol: 'R$', rate: 5.2, basePrice: 129.90 },
                    'EUR': { symbol: '€', rate: 0.85, basePrice: 21.25 },
                    'GBP': { symbol: '£', rate: 0.73, basePrice: 18.25 },
                    'CAD': { symbol: 'C$', rate: 1.25, basePrice: 31.25 },
                    'AUD': { symbol: 'A$', rate: 1.35, basePrice: 33.75 }
                };

                const selectedCurrency = currencyRates[currency];
                if (selectedCurrency) {
                    // Update all price displays
                    document.querySelectorAll('.price').forEach(priceElement => {
                        try {
                            // Get the original price from the offers object
                            const offerElement = priceElement.closest('.offer-option');
                            if (offerElement) {
                                const offerKey = offerElement.dataset.option;
                                const offer = offers[offerKey];
                                if (offer) {
                                    const convertedPrice = (offer.price * selectedCurrency.rate / currencyRates['BRL'].rate).toFixed(2);
                                    priceElement.textContent = `${selectedCurrency.symbol} ${convertedPrice}`;
                                }
                            }
                        } catch (priceError) {
                            console.error('Error updating price element:', priceError);
                        }
                    });
                }
            } catch (error) {
                console.error('Error updating currency:', error);
            }
        }
    </script>

    <!-- Modal de Login -->
    <div id="loginModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; justify-content: center; align-items: center;">
        <div style="background: white; padding: 30px; border-radius: 15px; max-width: 400px; width: 90%; text-align: center;">
            <h3 style="color: #d4af37; margin-bottom: 20px;"><i class="fas fa-user"></i> Faça Login</h3>
            <form id="loginForm">
                <div style="margin-bottom: 15px;">
                    <input type="email" id="loginEmail" placeholder="Seu email" required style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 16px;">
                </div>
                <div style="margin-bottom: 20px;">
                    <input type="password" id="loginPassword" placeholder="Sua senha" required style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 16px;">
                </div>
                <div style="display: flex; gap: 10px; justify-content: center;">
                    <button type="submit" style="background: #d4af37; color: white; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer;">Login</button>
                    <button type="button" id="closeLoginModal" style="background: #666; color: white; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer;">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal de Review -->
    <div id="reviewModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; justify-content: center; align-items: center;">
        <div style="background: white; padding: 30px; border-radius: 15px; max-width: 500px; width: 90%; max-height: 90vh; overflow-y: auto;">
            <h3 style="color: #d4af37; margin-bottom: 20px;"><i class="fas fa-star"></i> Adicionar Review</h3>
            <form id="reviewForm">
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: bold;">Seu Nome:</label>
                    <input type="text" id="reviewerName" required style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 16px;">
                </div>
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: bold;">Avaliação:</label>
                    <div id="starRating" style="display: flex; gap: 5px; justify-content: center; margin: 10px 0;">
                        <i class="fas fa-star" data-rating="1" style="font-size: 24px; color: #ddd; cursor: pointer; transition: color 0.3s;"></i>
                        <i class="fas fa-star" data-rating="2" style="font-size: 24px; color: #ddd; cursor: pointer; transition: color 0.3s;"></i>
                        <i class="fas fa-star" data-rating="3" style="font-size: 24px; color: #ddd; cursor: pointer; transition: color 0.3s;"></i>
                        <i class="fas fa-star" data-rating="4" style="font-size: 24px; color: #ddd; cursor: pointer; transition: color 0.3s;"></i>
                        <i class="fas fa-star" data-rating="5" style="font-size: 24px; color: #ddd; cursor: pointer; transition: color 0.3s;"></i>
                    </div>
                </div>
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: bold;">Sua Review:</label>
                    <textarea id="reviewText" required placeholder="Conte-nos sua experiência com o produto..." style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 16px; min-height: 100px; resize: vertical;"></textarea>
                </div>
                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: bold;">Foto (opcional):</label>
                    <input type="file" id="reviewImage" accept="image/*" style="width: 100%; padding: 8px; border: 2px solid #ddd; border-radius: 8px; font-size: 16px;">
                    <div id="imagePreview" style="margin-top: 10px; text-align: center;"></div>
                </div>
                <div style="display: flex; gap: 10px; justify-content: center;">
                    <button type="submit" style="background: #d4af37; color: white; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer;">Enviar Review</button>
                    <button type="button" id="closeReviewModal" style="background: #666; color: white; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer;">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Sistema de Reviews JavaScript -->
    <script>
        // Sistema de Reviews
        let currentUser = null;
        let userReviews = JSON.parse(localStorage.getItem('userReviews')) || [];
        let selectedRating = 0;

        // Verificar se usuário está logado
        function checkLogin() {
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                return true;
            }
            return false;
        }

        // Mostrar modal de login
        function showLoginModal() {
            document.getElementById('loginModal').style.display = 'flex';
        }

        // Fechar modal de login
        function closeLoginModal() {
            document.getElementById('loginModal').style.display = 'none';
        }

        // Mostrar modal de review
        function showReviewModal() {
            if (!checkLogin()) {
                showLoginModal();
                return;
            }
            document.getElementById('reviewModal').style.display = 'flex';
        }

        // Fechar modal de review
        function closeReviewModal() {
            document.getElementById('reviewModal').style.display = 'none';
            document.getElementById('reviewForm').reset();
            selectedRating = 0;
            updateStarDisplay();
            document.getElementById('imagePreview').innerHTML = '';
        }

        // Atualizar display das estrelas
        function updateStarDisplay() {
            const stars = document.querySelectorAll('#starRating i');
            stars.forEach((star, index) => {
                if (index < selectedRating) {
                    star.style.color = '#d4af37';
                } else {
                    star.style.color = '#ddd';
                }
            });
        }

        // Event listeners para sistema de reviews
        document.addEventListener('DOMContentLoaded', function() {
            // Botão adicionar review
            const addReviewBtn = document.getElementById('addReviewBtn');
            if (addReviewBtn) {
                addReviewBtn.addEventListener('click', showReviewModal);
            }

            // Fechar modais
            document.getElementById('closeLoginModal').addEventListener('click', closeLoginModal);
            document.getElementById('closeReviewModal').addEventListener('click', closeReviewModal);

            // Login form
            document.getElementById('loginForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;
                
                // Simular login (em produção, validar com backend)
                if (email && password) {
                    currentUser = { email: email, name: email.split('@')[0] };
                    localStorage.setItem('currentUser', JSON.stringify(currentUser));
                    closeLoginModal();
                    showReviewModal();
                } else {
                    alert('Por favor, preencha todos os campos');
                }
            });

            // Sistema de estrelas
            const stars = document.querySelectorAll('#starRating i');
            stars.forEach((star, index) => {
                star.addEventListener('click', function() {
                    selectedRating = index + 1;
                    updateStarDisplay();
                });
                star.addEventListener('mouseenter', function() {
                    for (let i = 0; i <= index; i++) {
                        stars[i].style.color = '#d4af37';
                    }
                });
                star.addEventListener('mouseleave', function() {
                    updateStarDisplay();
                });
            });

            // Preview de imagem
            document.getElementById('reviewImage').addEventListener('change', function(e) {
                const file = e.target.files[0];
                const preview = document.getElementById('imagePreview');
                
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        preview.innerHTML = `
                            <img src="${e.target.result}" style="max-width: 200px; max-height: 200px; border-radius: 8px; border: 2px solid #ddd;">
                        `;
                    };
                    reader.readAsDataURL(file);
                } else {
                    preview.innerHTML = '';
                }
            });

            // Formulário de review
            document.getElementById('reviewForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                if (selectedRating === 0) {
                    alert('Por favor, selecione uma avaliação');
                    return;
                }

                const reviewData = {
                    id: Date.now().toString(),
                    name: document.getElementById('reviewerName').value,
                    rating: selectedRating,
                    text: document.getElementById('reviewText').value,
                    image: null,
                    date: new Date().toLocaleDateString('pt-BR'),
                    verified: true
                };

                // Processar imagem se houver
                const imageFile = document.getElementById('reviewImage').files[0];
                if (imageFile) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        reviewData.image = e.target.result;
                        saveReview(reviewData);
                    };
                    reader.readAsDataURL(imageFile);
                } else {
                    saveReview(reviewData);
                }
            });

            // Carregar reviews existentes
            loadUserReviews();
        });

        // Salvar review
        function saveReview(reviewData) {
            userReviews.push(reviewData);
            localStorage.setItem('userReviews', JSON.stringify(userReviews));
            
            // Adicionar review ao DOM
            addReviewToDOM(reviewData);
            
            closeReviewModal();
            alert('Review adicionada com sucesso!');
        }

        // Adicionar review ao DOM
        function addReviewToDOM(reviewData) {
            const reviewsContainer = document.querySelector('.reviews-container');
            const reviewElement = document.createElement('div');
            reviewElement.className = 'review-item clickable-review';
            reviewElement.setAttribute('data-review-id', reviewData.id);
            reviewElement.setAttribute('data-author', reviewData.name);
            reviewElement.setAttribute('data-date', reviewData.date);
            reviewElement.setAttribute('data-stars', reviewData.rating);
            
            let imageHtml = '';
            if (reviewData.image) {
                imageHtml = `<img src="${reviewData.image}" alt="Review Image" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">`;
            } else {
                imageHtml = `<div class="review-avatar"><i class="fas fa-user"></i></div>`;
            }

            let starsHtml = '';
            for (let i = 1; i <= 5; i++) {
                if (i <= reviewData.rating) {
                    starsHtml += '<i class="fas fa-star"></i>';
                } else {
                    starsHtml += '<i class="far fa-star"></i>';
                }
            }

            reviewElement.innerHTML = `
                <div class="review-image">
                    ${imageHtml}
                </div>
                <div class="review-content">
                    <div class="review-stars">
                        ${starsHtml}
                    </div>
                    <p class="review-text">"${reviewData.text}"</p>
                    <div class="review-author">
                        <strong>${reviewData.name}</strong>
                        <span class="review-date">Compra verificada - ${reviewData.date}</span>
                    </div>
                </div>
            `;

            // Adicionar event listener para o modal
            reviewElement.addEventListener('click', function() {
                openReviewModal(reviewData.name, reviewData.date, reviewData.rating, reviewData.text);
            });

            reviewsContainer.insertBefore(reviewElement, reviewsContainer.firstChild);
        }

        // Carregar reviews do usuário
        function loadUserReviews() {
            userReviews.forEach(review => {
                addReviewToDOM(review);
            });
        }
    </script>

</body>
</html>
